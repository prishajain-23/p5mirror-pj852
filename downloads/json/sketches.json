[
  {
    "_id": "7NSz0o5XP",
    "name": "[CODING TRAIN] Cabana! - Worley Noise Port",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67d4434404b978dd1709d8e8",
          "67d4434404b978dd1709d8e9",
          "67d4434404b978dd1709d8ea"
        ],
        "fileType": "folder",
        "_id": "67d4434404b978dd1709d8e7",
        "createdAt": "2025-03-14T14:56:22.083Z",
        "updatedAt": "2025-03-14T14:56:22.083Z",
        "id": "67d4434404b978dd1709d8e7"
      },
      {
        "name": "sketch.js",
        "content": "// Prisha's Copy\n// https://editor.p5js.org/pj852/sketches/7NSz0o5XP\n\n// Worley Noise\n// Coding in the Cabana\n// The Coding Train / Daniel Shiffman\n// https://thecodingtrain.com/CodingInTheCabana/004-worley-noise.html\n// https://youtu.be/4066MndcyCk\n// p5 port: https://editor.p5js.org/codingtrain/sketches/QsiCWVczZ\n\nlet points = [];\n\nfunction setup() {\n  createCanvas(100, 100);\n  pixelDensity(1);\n  for (let i = 0; i < 20; i++) {\n    points[i] = createVector(random(width), random(height), random(width));\n  }\n}\n\nfunction draw() {\n  loadPixels();\n  for (let x = 0; x < width; x++) {\n    for (let y = 0; y < height; y++) {\n\n      let distances = [];\n      for (let i = 0; i < points.length; i++) {\n        let v = points[i];\n        let z = frameCount % width;\n        let d = dist(x, y, z, v.x, v.y, v.z);\n        distances[i] = d;\n      }\n      let sorted = sort(distances);\n      let r = map(sorted[0], 0, 150, 0, 255);\n      let g = map(sorted[1], 0, 50, 255, 0);\n      let b = map(sorted[2], 0, 200, 255, 0);\n      let index = (x + y * width) * 4;\n      pixels[index + 0] = r;\n      pixels[index + 1] = g;\n      pixels[index + 2] = b;\n      pixels[index + 3] = 255;\n    }\n  }\n  updatePixels();\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67d4434404b978dd1709d8e9",
        "createdAt": "2025-03-14T14:56:22.083Z",
        "updatedAt": "2025-03-14T14:56:22.083Z",
        "id": "67d4434404b978dd1709d8e9"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "67d4434404b978dd1709d8e8",
        "createdAt": "2025-03-14T14:56:22.083Z",
        "updatedAt": "2025-03-14T14:56:22.083Z",
        "id": "67d4434404b978dd1709d8e8"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "67d4434404b978dd1709d8ea",
        "createdAt": "2025-03-14T14:56:22.083Z",
        "updatedAt": "2025-03-14T14:56:22.083Z",
        "id": "67d4434404b978dd1709d8ea"
      }
    ],
    "createdAt": "2025-03-14T14:55:00.281Z",
    "updatedAt": "2025-03-14T14:56:22.083Z",
    "id": "7NSz0o5XP"
  },
  {
    "_id": "mdRhrjoWK",
    "name": "2:2 Rothko's Cat copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67293ae0f2e9fdb797d2f3cb",
          "67293ad6ab2d14649b1f6c45",
          "67293ad6ab2d14649b1f6c46",
          "67293ad6ab2d14649b1f6c47",
          "67293ad6ab2d14649b1f6c48"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67293ad6ab2d14649b1f6c44",
        "createdAt": "2024-11-04T21:28:28.861Z",
        "updatedAt": "2024-11-04T21:28:28.861Z",
        "id": "67293ad6ab2d14649b1f6c44"
      },
      {
        "name": "sketch.js",
        "content": "// Mimi Yin\n// NYU ITP\n\nlet cat;\nlet skip = 7;\n\nlet a = 0;\nlet aspeed = 0.1;\n\n// Variable for changing the HSB values\n// off for offset\nlet off = 0;\nlet offspeed = 0.1;\n\nfunction preload() {\n  // Load rainbow cat image\n  cat = loadImage('rainbow_cat.jpg');\n}\n\nfunction setup() {\n  // Size the canvas to the browser window\n  createCanvas(windowWidth, windowHeight);\n\n}\n\nfunction draw() {\n  colorMode(RGB);\n  // Dark background\n  background(16);\n  \n  // Center the cat image on the canvas\n  translate((width-cat.width)/2, (height-cat.height)/2);\n  cat.loadPixels();  \n  // Move the hue\n  off+=offspeed;\n  if(off < 0 || off > 350) {\n    offspeed *= -1;\n  }\n  \n  for (let x = 0; x < cat.width; x += skip) {\n    for (let y = 0; y < cat.height; y += skip) {\n      //colorMode(RGB);\n      // Get this pixel's color information in RGB format\n      // Calculate the pixel number at x,y\n      let p = y * cat.width + x;\n      // Calculate the index number at pixel, p\n      let i = p * 4;\n      \n      // Get the rgba values for pixel, p\n      let r = cat.pixels[i];\n      let g = cat.pixels[i+1];\n      let bl = cat.pixels[i+2];\n      let a = cat.pixels[i+3];\n      let c = [r,g,bl,a];\n      \n      // Convert RGB to HSB\n      let h = hue(c);\n      let s = saturation(c);\n      let b = brightness(c);\n      // Compress hues to reds and oranges\n      h = map(h, 0, 360, 0, 10) + off;\n      // Compress saturation to mid-tones\n      s = map(s, 0, 100, 0, 10) + off*2;\n      // Compress brightness to low\n      b = map(b, 0, 100, 0, 10) + off/2;\n      colorMode(HSB, 360, 100, 100, 1);\n      // Draw a point with HSB at 50% transparency\n      stroke(h, s, b, 0.5);\n      // Draw a point at x,y that's 4x the gap between points.\n      strokeWeight(skip*4);\n      point(x, y);\n    }\n  }\n\n  //Original Cat\n  colorMode(RGB);\n  tint(255, a);\n  image(cat, 0, 0);\n  a+=aspeed;\n  if(a < 0 || a > 10) {\n    aspeed *= -1;\n  }\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67293ad6ab2d14649b1f6c47",
        "createdAt": "2024-11-04T21:28:28.861Z",
        "updatedAt": "2024-11-04T21:28:28.861Z",
        "id": "67293ad6ab2d14649b1f6c47"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html>\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/addons/p5.dom.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67293ad6ab2d14649b1f6c45",
        "createdAt": "2024-11-04T21:28:28.861Z",
        "updatedAt": "2024-11-04T21:28:28.861Z",
        "id": "67293ad6ab2d14649b1f6c45"
      },
      {
        "name": "style.css",
        "content": "html, body {  \n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67293ad6ab2d14649b1f6c48",
        "createdAt": "2024-11-04T21:28:28.861Z",
        "updatedAt": "2024-11-04T21:28:28.861Z",
        "id": "67293ad6ab2d14649b1f6c48"
      },
      {
        "name": "rainbow_cat.jpg",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/4bb8983b-250c-461a-9a84-e1b039cde8db.jpg",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67293ad6ab2d14649b1f6c46",
        "createdAt": "2024-11-04T21:28:28.861Z",
        "updatedAt": "2024-11-04T21:28:28.861Z",
        "id": "67293ad6ab2d14649b1f6c46"
      },
      {
        "name": "icm image manipulation.JPG",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/9cf417f6-a723-480f-af7f-73e314cbe4ff.JPG",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67293ae0f2e9fdb797d2f3cb",
        "createdAt": "2024-11-04T21:28:28.861Z",
        "updatedAt": "2024-11-04T21:28:28.861Z",
        "id": "67293ae0f2e9fdb797d2f3cb"
      }
    ],
    "createdAt": "2024-11-04T21:21:26.805Z",
    "updatedAt": "2024-11-04T21:28:28.861Z",
    "id": "mdRhrjoWK"
  },
  {
    "_id": "N49SEwMnC",
    "name": "Accents copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67abaa5d7aa4776cce1c0b00",
          "67abaa5d7aa4776cce1c0b01",
          "67abaa5d7aa4776cce1c0b04",
          "67abaa5d7aa4776cce1c0b05"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67abaa5d7aa4776cce1c0aff",
        "createdAt": "2025-02-23T01:14:21.743Z",
        "updatedAt": "2025-02-23T01:14:21.743Z",
        "id": "67abaa5d7aa4776cce1c0aff"
      },
      {
        "name": "sketch.js",
        "content": "// Create a Player object and load the \"kick.mp3\" file\nconst drum = new Tone.Player(\"samples/505/kick.mp3\");\n\n// Connect the player output to the computer's audio output\ndrum.toDestination();\n\n// Set the tempo to 120 beats per minute\nTone.Transport.bpm.value = 120;\n\n// Set the time signature to 4/4. \nTone.Transport.timeSignature = [16, 4];\n\n// Create a loop: call playBeat every quarter note\nTone.Transport.scheduleRepeat(playDrum, \"4n\");\n\nfunction playDrum(time) {\n  // Tone's position gives us a string: \n  // bar:beat:sixteenth\n  // Slice the string by \":\" and get the number in the second position (the beat)\n  let beat = Tone.Transport.position.split(\":\")[1];\n  console.log(beat);\n  \n  // Play the first beat louder than the rest.\n  // Try changing the time signature above and listen.\n  if (beat == 0) {\n    drum.volume.rampTo(2, 0.05);\n  } else {\n    drum.volume.rampTo(-20, 0.05);\n  }\n  drum.start(time);\n\n}\n\n// Interface: p5 functions\nfunction setup() {\n  btn = createButton(\"play\");\n  btn.mousePressed(togglePlay);\n  btn.position(0, 0);\n}\n\nfunction togglePlay() {\n  if (Tone.Transport.state == \"started\") {\n    Tone.Transport.pause();\n    btn.html(\"play\");\n  } else {\n    Tone.Transport.start();\n    btn.html(\"pause\");\n  }\n}\n\nTone.loaded().then(function(){\nloaded = true; });",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67abaa5d7aa4776cce1c0b04",
        "createdAt": "2025-02-23T01:14:21.743Z",
        "updatedAt": "2025-02-23T01:14:21.743Z",
        "id": "67abaa5d7aa4776cce1c0b04"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67abaa5d7aa4776cce1c0b00",
        "createdAt": "2025-02-23T01:14:21.743Z",
        "updatedAt": "2025-02-23T01:14:21.743Z",
        "id": "67abaa5d7aa4776cce1c0b00"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67abaa5d7aa4776cce1c0b05",
        "createdAt": "2025-02-23T01:14:21.743Z",
        "updatedAt": "2025-02-23T01:14:21.743Z",
        "id": "67abaa5d7aa4776cce1c0b05"
      },
      {
        "name": "samples",
        "content": "",
        "children": [
          "67abaa5d7aa4776cce1c0b02"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67abaa5d7aa4776cce1c0b01",
        "createdAt": "2025-02-23T01:14:21.743Z",
        "updatedAt": "2025-02-23T01:14:21.743Z",
        "id": "67abaa5d7aa4776cce1c0b01"
      },
      {
        "name": "505",
        "content": "",
        "children": [
          "67abaa5d7aa4776cce1c0b03"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67abaa5d7aa4776cce1c0b02",
        "createdAt": "2025-02-23T01:14:21.743Z",
        "updatedAt": "2025-02-23T01:14:21.743Z",
        "id": "67abaa5d7aa4776cce1c0b02"
      },
      {
        "name": "kick.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b14ae1f0-9d93-41d5-9ee7-c8ca0143eda2.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67abaa5d7aa4776cce1c0b03",
        "createdAt": "2025-02-23T01:14:21.743Z",
        "updatedAt": "2025-02-23T01:14:21.743Z",
        "id": "67abaa5d7aa4776cce1c0b03"
      }
    ],
    "createdAt": "2025-02-11T19:51:58.310Z",
    "updatedAt": "2025-02-23T01:14:21.743Z",
    "id": "N49SEwMnC"
  },
  {
    "_id": "Z1kWMLhyK",
    "name": "Accents copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67ab9f2adf03601bc6808bb9",
          "67ab9f2adf03601bc6808bba",
          "67ab9f2adf03601bc6808bbd",
          "67ab9f2adf03601bc6808bbe"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ab9f2adf03601bc6808bb8",
        "createdAt": "2021-02-18T23:42:03.898Z",
        "updatedAt": "2021-02-18T23:42:03.898Z",
        "id": "67ab9f2adf03601bc6808bb8"
      },
      {
        "name": "sketch.js",
        "content": "// Create a Player object and load the \"kick.mp3\" file\nconst drum = new Tone.Player(\"samples/505/kick.mp3\");\n\n// Connect the player output to the computer's audio output\ndrum.toDestination();\n\n// Set the tempo to 120 beats per minute\nTone.Transport.bpm.value = 120;\n\n// Set the time signature to 3/4. \nTone.Transport.timeSignature = [3, 4];\n\n// Create a loop: call playBeat every quarter note\nTone.Transport.scheduleRepeat(playDrum, \"4n\");\n\nfunction playDrum(time) {\n  // Tone's position gives us a string: \n  // bar:beat:sixteenth\n  // Slice the string by \":\" and get the number in the second position (the beat)\n  let beat = Tone.Transport.position.split(\":\")[1];\n  console.log(beat);\n  \n  // Play the first beat louder than the rest.\n  // Try changing the time signature above and listen.\n  if (beat == 0) {\n    drum.volume.rampTo(2, 0.05);\n  } else {\n    drum.volume.rampTo(-20, 0.05);\n  }\n  drum.start(time);\n\n}\n\n// Interface: p5 functions\nfunction setup() {\n  btn = createButton(\"play\");\n  btn.mousePressed(togglePlay);\n  btn.position(0, 0);\n}\n\nfunction togglePlay() {\n  if (Tone.Transport.state == \"started\") {\n    Tone.Transport.pause();\n    btn.html(\"play\");\n  } else {\n    Tone.Transport.start();\n    btn.html(\"pause\");\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67ab9f2adf03601bc6808bbd",
        "createdAt": "2021-02-18T23:42:03.898Z",
        "updatedAt": "2021-02-18T23:42:03.898Z",
        "id": "67ab9f2adf03601bc6808bbd"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab9f2adf03601bc6808bb9",
        "createdAt": "2021-02-18T23:42:03.898Z",
        "updatedAt": "2021-02-18T23:42:03.898Z",
        "id": "67ab9f2adf03601bc6808bb9"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab9f2adf03601bc6808bbe",
        "createdAt": "2021-02-18T23:42:03.898Z",
        "updatedAt": "2021-02-18T23:42:03.898Z",
        "id": "67ab9f2adf03601bc6808bbe"
      },
      {
        "name": "samples",
        "content": "",
        "children": [
          "67ab9f2adf03601bc6808bbb"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ab9f2adf03601bc6808bba",
        "createdAt": "2021-02-18T23:42:03.898Z",
        "updatedAt": "2021-02-18T23:42:03.898Z",
        "id": "67ab9f2adf03601bc6808bba"
      },
      {
        "name": "505",
        "content": "",
        "children": [
          "67ab9f2adf03601bc6808bbc"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ab9f2adf03601bc6808bbb",
        "createdAt": "2021-02-18T23:42:03.898Z",
        "updatedAt": "2021-02-18T23:42:03.898Z",
        "id": "67ab9f2adf03601bc6808bbb"
      },
      {
        "name": "kick.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/d1be2cb2-85ad-450a-9ae4-9f0e8780b9cc.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab9f2adf03601bc6808bbc",
        "createdAt": "2021-02-18T23:42:03.898Z",
        "updatedAt": "2021-02-18T23:42:03.898Z",
        "id": "67ab9f2adf03601bc6808bbc"
      }
    ],
    "createdAt": "2025-02-11T19:04:10.899Z",
    "updatedAt": "2025-02-11T19:04:10.899Z",
    "id": "Z1kWMLhyK"
  },
  {
    "_id": "CcWuWQMgj",
    "name": "Accessible agenda",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "675a3e588f70443217ce0213",
          "675a3c892725ee3aa58803b6",
          "675a3c892725ee3aa58803b5",
          "675a3c892725ee3aa58803b7"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "675a3c892725ee3aa58803b8",
        "createdAt": "2024-12-12T01:44:23.777Z",
        "updatedAt": "2024-12-12T01:44:23.777Z",
        "id": "675a3c892725ee3aa58803b8"
      },
      {
        "name": "sketch.js",
        "content": "// Teachable Machine\n// The Coding Train / Daniel Shiffman\n// https://thecodingtrain.com/TeachableMachine/1-teachable-machine.html\n// https://editor.p5js.org/codingtrain/sketches/PoZXqbu4v\n\n// The video\nlet video;\n// For displaying the label\nlet label = \"waiting...\";\n// The classifier\nlet classifier;\nlet modelURL = 'https://teachablemachine.withgoogle.com/models/bXy2kDNi/';\n\n// STEP 1: Load the model!\nfunction preload() {\n  classifier = ml5.imageClassifier(modelURL + 'model.json');\n}\n\n\nfunction setup() {\n  createCanvas(640, 520);\n  // Create the video\n  video = createCapture(VIDEO);\n  video.hide();\n  // STEP 2: Start classifying\n  classifyVideo();\n}\n\n// STEP 2 classify the videeo!\nfunction classifyVideo() {\n  classifier.classify(video, gotResults);\n}\n\nfunction draw() {\n  background(0);\n\n  // Draw the video\n  image(video, 0, 0);\n\n  // STEP 4: Draw the label\n  textSize(32);\n  textAlign(CENTER, CENTER);\n  fill(255);\n  text(label, width / 2, height - 16);\n\n  // Pick an emoji, the \"default\" is train\n  let emoji = \"ðŸš‚\";\n  if (label == \"Rainbow\") {\n    emoji = \"ðŸŒˆ\";\n  } else if (label == \"Unicorn\") {\n    emoji = \"ðŸ¦„\";\n  } else if (label == \"Ukulele\") {\n    emoji = \"ðŸŽ¸\";\n  }\n\n  // Draw the emoji\n  textSize(256);\n  text(emoji, width / 2, height / 2);\n}\n\n// STEP 3: Get the classification!\nfunction gotResults(error, results) {\n  // Something went wrong!\n  if (error) {\n    console.error(error);\n    return;\n  }\n  // Store the label and classify again!\n  label = results[0].label;\n  classifyVideo();\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "675a3c892725ee3aa58803b5",
        "createdAt": "2024-12-12T01:44:23.777Z",
        "updatedAt": "2024-12-12T01:44:23.777Z",
        "id": "675a3c892725ee3aa58803b5"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <script src=\"https://unpkg.com/ml5@1/dist/ml5.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" />\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <main></main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675a3c892725ee3aa58803b6",
        "createdAt": "2024-12-12T01:44:23.777Z",
        "updatedAt": "2024-12-12T01:44:23.777Z",
        "id": "675a3c892725ee3aa58803b6"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675a3c892725ee3aa58803b7",
        "createdAt": "2024-12-12T01:44:23.777Z",
        "updatedAt": "2024-12-12T01:44:23.777Z",
        "id": "675a3c892725ee3aa58803b7"
      },
      {
        "name": "0.mp4",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/cb1a9cfc-3b48-4e16-bdfd-701f2446e36a.mp4",
        "children": [],
        "fileType": "file",
        "_id": "675a3e588f70443217ce0213",
        "createdAt": "2024-12-12T01:44:23.777Z",
        "updatedAt": "2024-12-12T01:44:23.777Z",
        "id": "675a3e588f70443217ce0213"
      }
    ],
    "updatedAt": "2024-12-12T01:44:23.777Z",
    "createdAt": "2024-12-12T01:30:15.205Z",
    "id": "CcWuWQMgj"
  },
  {
    "_id": "MdpX7rEwH",
    "name": "Audiovisual Instrument",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6796bed34f155d6e033acb70",
          "6796bf3572afe27d17cecf88",
          "6796bed34f155d6e033acb71",
          "6796bed34f155d6e033acb72",
          "6796bed34f155d6e033acb75"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6796bed34f155d6e033acb6f",
        "createdAt": "2025-03-18T15:28:41.276Z",
        "updatedAt": "2025-03-18T15:28:41.276Z",
        "id": "6796bed34f155d6e033acb6f"
      },
      {
        "name": "sketch.js",
        "content": "// Declare global variables for drum sounds using SimplePlayer\nlet hihat, kick, snare, tom;\n\n// Declare analyzer for waveform visualization\nlet analyzer;\n\n// Track whether sounds are loaded and ready to play\nlet loaded = false;\n\n// Preload function for Tone.js sound files\nfunction preload() {\n  // Create SimplePlayer instances for each drum sound\n  hihat = new SimplePlayer(\"drums/hihat.wav\");\n  kick = new SimplePlayer(\"drums/kick.wav\");\n  snare = new SimplePlayer(\"drums/snare.wav\");\n  tom = new SimplePlayer(\"drums/tom.wav\");\n}\n\nfunction setup() {\n  // Create WEBGL canvas spanning the entire window\n  createCanvas(windowWidth, windowHeight, WEBGL);\n  \n  // Create a Tone.js Waveform analyzer specifically for the tom sound\n  analyzer = new Tone.Analyser(\"waveform\", 64);\n  \n  // Connect tom sound to the analyzer for waveform data\n  tom.connect(analyzer);\n  \n  // Connect all sounds to the main audio destination\n  hihat.toDestination();\n  kick.toDestination();\n  snare.toDestination();\n  tom.toDestination();\n}\n\nfunction draw() {\n  // Set a black background with slight opacity for trailing effect\n  background(0, 30);\n  \n  // Add ambient lighting to create depth\n  ambientLight(30);\n  \n  // Add directional light for more dynamic 3D rendering\n  directionalLight(250, 250, 250, 0.25, 0.25, -1);\n  \n  // Slight automatic rotation to add movement to the scene\n  rotateX(frameCount * 0.001);\n  rotateY(frameCount * 0.002);\n  \n  // Hi-hat visualization (diagonal light beams)\n  if (hihat.progress() > 0) {\n    push(); // Save current transformation state\n    translate(-width/4, -height/4, 0); // Position the visualization\n    \n    // Draw multiple diagonal light beams\n    for (let i = 0; i < 5; i++) {\n      // Random purple-pink stroke color with transparency\n      stroke(random(200, 255), 0, 150, 150);\n      strokeWeight(2);\n      \n      // Calculate beam length based on hi-hat sound progress\n      let beamLength = hihat.progress() * 200;\n      \n      // Draw diagonal lines radiating from a point\n      line(0, 0, 0, beamLength * cos(i), beamLength * sin(i), beamLength);\n    }\n    pop(); // Restore transformation state\n  }\n  \n  // Kick drum visualization (pulsing 3D boxes)\n  if (kick.progress() > 0) {\n    push();\n    translate(0, height/4, 0);\n    \n    // Create multiple boxes that pulse with kick sound\n    for (let i = 0; i < 3; i++) {\n      // Map box size to kick sound progress\n      let boxSize = kick.progress() * 200;\n      \n      // Semi-transparent red fill and stroke\n      fill(255, 0, 0, 100);\n      stroke(255, 0, 0);\n      \n      // Stagger box positions and add rotation\n      translate(i * 100, 0, i * 50);\n      rotateX(frameCount * 0.01);\n      \n      // Draw the box\n      box(boxSize);\n    }\n    pop();\n  }\n  \n  // Snare visualization (rotating 3D rings)\n  if (snare.progress() > 0) {\n    push();\n    translate(width/4, -height/4, 0);\n    \n    // Rotate rings based on snare progress\n    rotateZ(snare.progress() * TWO_PI);\n    \n    // Draw multiple interconnected rings\n    for (let i = 0; i < 6; i++) {\n      // Cyan-colored, semi-transparent rings\n      stroke(0, 255, 255, 150);\n      noFill();\n      \n      // Calculate ring positions in a circular pattern\n      let radius = 100;\n      let angle = TWO_PI / 6 * i;\n      let x = cos(angle) * radius;\n      let y = sin(angle) * radius;\n      \n      // Draw the rings\n      strokeWeight(5);\n      circle(x, y, 50);\n    }\n    pop();\n  }\n  \n  // Tom visualization (3D waveform landscape)\n  if (tom.progress() > 0) {\n    push();\n    translate(-width/4, height/4, 0);\n    \n    // Get waveform data from the analyzer\n    let waveform = analyzer.getValue();\n    \n    // Create a rippling terrain effect based on waveform\n    for (let y = -100; y < 100; y += 10) {\n      beginShape(TRIANGLE_STRIP);\n      for (let x = -100; x < 100; x += 10) {\n        // Use noise and waveform to create dynamic terrain\n        let z = map(noise(x * 0.1, y * 0.1, frameCount * 0.05), 0, 1, -50, 50);\n        z += waveform[floor(random(waveform.length))] * 100;\n        \n        // Semi-transparent green fill and stroke\n        fill(0, 255, 0, 100);\n        stroke(0, 255, 0);\n        \n        // Create terrain vertices\n        vertex(x, y, z);\n        vertex(x, y + 10, z);\n      }\n      endShape();\n    }\n    pop();\n  }\n}\n\n// Handle key press events for playing sounds\nfunction keyTyped() {\n  // Play corresponding drum sound when specific keys are pressed\n  if (key === 'a') {\n    hihat.start(); // Play hi-hat on 'a' key\n  } else if (key === 's') {\n    kick.start(); // Play kick drum on 's' key\n  } else if (key === 'd') {\n    snare.start(); // Play snare on 'd' key\n  } else if (key === 'f') {\n    tom.start(); // Play tom on 'f' key\n  }\n}\n\n// Resize canvas when window is resized\nfunction windowResized() {\n  // Maintain full window coverage\n  resizeCanvas(windowWidth, windowHeight);\n}\n\n// Ensure sounds are fully loaded before allowing playback\nTone.loaded().then(function() {\n  // Set loaded flag to true\n  loaded = true;\n  \n  // Log confirmation to console\n  console.log(\"Sounds loaded!\");\n});",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6796bed34f155d6e033acb72",
        "createdAt": "2025-03-18T15:28:41.276Z",
        "updatedAt": "2025-03-18T15:28:41.276Z",
        "id": "6796bed34f155d6e033acb72"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <script src=\"SimplePlayer.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6796bed34f155d6e033acb71",
        "createdAt": "2025-03-18T15:28:41.276Z",
        "updatedAt": "2025-03-18T15:28:41.276Z",
        "id": "6796bed34f155d6e033acb71"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6796bed34f155d6e033acb75",
        "createdAt": "2025-03-18T15:28:41.276Z",
        "updatedAt": "2025-03-18T15:28:41.276Z",
        "id": "6796bed34f155d6e033acb75"
      },
      {
        "name": "SimplePlayer.js",
        "content": "// a subclass of Tone.Player that adds a progress function to it.\n// The only permitted playbackRate is 1.\n\nclass SimplePlayer extends Tone.Player {\n  constructor(...args){\n    super(...args);\n    this.playbackRate = 1;\n  }\n  \n  start(...args){\n    // assuming args[0] is always time\n    this.startTime = args[0] | Tone.now();\n    super.start(...args);\n  }\n    \n  get duration(){\n    return this._buffer.duration;\n  }\n  \n  currentTime(){\n    return Tone.now() - this.startTime;\n  }\n  \n  progress(){\n    if(this.state == \"started\"){\n       return this.currentTime() / this.duration; \n    }\n    else{\n      return 0;\n    }\n  }\n  \n\n  \n  // disable setting playbackRate to anything other than 1\n  set playbackRate(rate) {\n    if(rate != 1) throw new Error(\"Setting the playbackRate value to any value other than 1 is disabled in SimplePlayer. If required, use Tone.Player instead.\");\n  }\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6796bed34f155d6e033acb70",
        "createdAt": "2025-03-18T15:28:41.276Z",
        "updatedAt": "2025-03-18T15:28:41.276Z",
        "id": "6796bed34f155d6e033acb70"
      },
      {
        "name": "drums",
        "content": "",
        "children": [
          "67987097ba67f8d2a468531a",
          "67987096ba67f8d2a46852dc",
          "6798714584a8e3d869041ec0",
          "6798709584a8e3d86903e514"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6796bf3572afe27d17cecf88",
        "createdAt": "2025-03-18T15:28:41.276Z",
        "updatedAt": "2025-03-18T15:28:41.276Z",
        "id": "6796bf3572afe27d17cecf88"
      },
      {
        "name": "tom.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/1b690287-f127-41dc-b840-e943fb71a603.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6798709584a8e3d86903e514",
        "createdAt": "2025-03-18T15:28:41.276Z",
        "updatedAt": "2025-03-18T15:28:41.276Z",
        "id": "6798709584a8e3d86903e514"
      },
      {
        "name": "kick.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/e4244c59-6094-4b6a-ab6e-194b121ba3d0.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67987096ba67f8d2a46852dc",
        "createdAt": "2025-03-18T15:28:41.276Z",
        "updatedAt": "2025-03-18T15:28:41.276Z",
        "id": "67987096ba67f8d2a46852dc"
      },
      {
        "name": "hihat.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/fd5c10a1-a91c-4ec8-a64c-ca870e991e84.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67987097ba67f8d2a468531a",
        "createdAt": "2025-03-18T15:28:41.276Z",
        "updatedAt": "2025-03-18T15:28:41.276Z",
        "id": "67987097ba67f8d2a468531a"
      },
      {
        "name": "snare.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/d463f8af-a7ba-4416-a581-e9009ba244ba.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6798714584a8e3d869041ec0",
        "createdAt": "2025-03-18T15:28:41.276Z",
        "updatedAt": "2025-03-18T15:28:41.276Z",
        "id": "6798714584a8e3d869041ec0"
      }
    ],
    "createdAt": "2025-01-26T23:01:40.067Z",
    "updatedAt": "2025-03-18T15:28:41.276Z",
    "id": "MdpX7rEwH"
  },
  {
    "_id": "ZtHbthujD",
    "name": "Audiovisual Instrument - Code of Music copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67a1538c5a6db206abd5a2ea",
          "67a1538c5a6db206abd5a2eb",
          "67a1538c5a6db206abd5a2f0",
          "67a1538c5a6db206abd5a2f1",
          "67a1538c5a6db206abd5a2f2"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67a1538c5a6db206abd5a2e9",
        "createdAt": "2025-02-03T23:39:01.773Z",
        "updatedAt": "2025-02-03T23:39:01.773Z",
        "id": "67a1538c5a6db206abd5a2e9"
      },
      {
        "name": "sketch.js",
        "content": "// Declare global variables for drum sounds using SimplePlayer\nlet hihat, kick, snare, tom;\n\n// Declare analyzer for waveform visualization\nlet analyzer;\n\n// Track whether sounds are loaded and ready to play\nlet loaded = false;\n\n// Preload function for Tone.js sound files\nfunction preload() {\n  // Create SimplePlayer instances for each drum sound\n  hihat = new SimplePlayer(\"drums/hihat.wav\");\n  kick = new SimplePlayer(\"drums/kick.wav\");\n  snare = new SimplePlayer(\"drums/snare.wav\");\n  tom = new SimplePlayer(\"drums/tom.wav\");\n}\n\nfunction setup() {\n  // Create WEBGL canvas spanning the entire window\n  createCanvas(windowWidth, windowHeight, WEBGL);\n  \n  // Create a Tone.js Waveform analyzer specifically for the tom sound\n  analyzer = new Tone.Analyser(\"waveform\", 64);\n  \n  // Connect tom sound to the analyzer for waveform data\n  tom.connect(analyzer);\n  \n  // Connect all sounds to the main audio destination\n  hihat.toDestination();\n  kick.toDestination();\n  snare.toDestination();\n  tom.toDestination();\n}\n\nfunction draw() {\n  // Set a black background with slight opacity for trailing effect\n  background(0, 30);\n  \n  // Add ambient lighting to create depth\n  ambientLight(30);\n  \n  // Add directional light for more dynamic 3D rendering\n  directionalLight(250, 250, 250, 0.25, 0.25, -1);\n  \n  // Slight automatic rotation to add movement to the scene\n  rotateX(frameCount * 0.001);\n  rotateY(frameCount * 0.002);\n  \n  // Hi-hat visualization (diagonal light beams)\n  if (hihat.progress() > 0) {\n    push(); // Save current transformation state\n    translate(-width/4, -height/4, 0); // Position the visualization\n    \n    // Draw multiple diagonal light beams\n    for (let i = 0; i < 5; i++) {\n      // Random purple-pink stroke color with transparency\n      stroke(random(200, 255), 0, 150, 150);\n      strokeWeight(2);\n      \n      // Calculate beam length based on hi-hat sound progress\n      let beamLength = hihat.progress() * 200;\n      \n      // Draw diagonal lines radiating from a point\n      line(0, 0, 0, beamLength * cos(i), beamLength * sin(i), beamLength);\n    }\n    pop(); // Restore transformation state\n  }\n  \n  // Kick drum visualization (pulsing 3D boxes)\n  if (kick.progress() > 0) {\n    push();\n    translate(0, height/4, 0);\n    \n    // Create multiple boxes that pulse with kick sound\n    for (let i = 0; i < 3; i++) {\n      // Map box size to kick sound progress\n      let boxSize = kick.progress() * 200;\n      \n      // Semi-transparent red fill and stroke\n      fill(255, 0, 0, 100);\n      stroke(255, 0, 0);\n      \n      // Stagger box positions and add rotation\n      translate(i * 100, 0, i * 50);\n      rotateX(frameCount * 0.01);\n      \n      // Draw the box\n      box(boxSize);\n    }\n    pop();\n  }\n  \n  // Snare visualization (rotating 3D rings)\n  if (snare.progress() > 0) {\n    push();\n    translate(width/4, -height/4, 0);\n    \n    // Rotate rings based on snare progress\n    rotateZ(snare.progress() * TWO_PI);\n    \n    // Draw multiple interconnected rings\n    for (let i = 0; i < 6; i++) {\n      // Cyan-colored, semi-transparent rings\n      stroke(0, 255, 255, 150);\n      noFill();\n      \n      // Calculate ring positions in a circular pattern\n      let radius = 100;\n      let angle = TWO_PI / 6 * i;\n      let x = cos(angle) * radius;\n      let y = sin(angle) * radius;\n      \n      // Draw the rings\n      strokeWeight(5);\n      circle(x, y, 50);\n    }\n    pop();\n  }\n  \n  // Tom visualization (3D waveform landscape)\n  if (tom.progress() > 0) {\n    push();\n    translate(-width/4, height/4, 0);\n    \n    // Get waveform data from the analyzer\n    let waveform = analyzer.getValue();\n    \n    // Create a rippling terrain effect based on waveform\n    for (let y = -100; y < 100; y += 10) {\n      beginShape(TRIANGLE_STRIP);\n      for (let x = -100; x < 100; x += 10) {\n        // Use noise and waveform to create dynamic terrain\n        let z = map(noise(x * 0.1, y * 0.1, frameCount * 0.05), 0, 1, -50, 50);\n        z += waveform[floor(random(waveform.length))] * 100;\n        \n        // Semi-transparent green fill and stroke\n        fill(0, 255, 0, 100);\n        stroke(0, 255, 0);\n        \n        // Create terrain vertices\n        vertex(x, y, z);\n        vertex(x, y + 10, z);\n      }\n      endShape();\n    }\n    pop();\n  }\n}\n\n// Handle key press events for playing sounds\nfunction keyTyped() {\n  // Play corresponding drum sound when specific keys are pressed\n  if (key === 'a') {\n    hihat.start(); // Play hi-hat on 'a' key\n  } else if (key === 's') {\n    kick.start(); // Play kick drum on 's' key\n  } else if (key === 'd') {\n    snare.start(); // Play snare on 'd' key\n  } else if (key === 'f') {\n    tom.start(); // Play tom on 'f' key\n  }\n}\n\n// Resize canvas when window is resized\nfunction windowResized() {\n  // Maintain full window coverage\n  resizeCanvas(windowWidth, windowHeight);\n}\n\n// Ensure sounds are fully loaded before allowing playback\nTone.loaded().then(function() {\n  // Set loaded flag to true\n  loaded = true;\n  \n  // Log confirmation to console\n  console.log(\"Sounds loaded!\");\n});",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67a1538c5a6db206abd5a2f1",
        "createdAt": "2025-02-03T23:39:01.773Z",
        "updatedAt": "2025-02-03T23:39:01.773Z",
        "id": "67a1538c5a6db206abd5a2f1"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <script src=\"SimplePlayer.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a1538c5a6db206abd5a2f0",
        "createdAt": "2025-02-03T23:39:01.773Z",
        "updatedAt": "2025-02-03T23:39:01.773Z",
        "id": "67a1538c5a6db206abd5a2f0"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a1538c5a6db206abd5a2f2",
        "createdAt": "2025-02-03T23:39:01.773Z",
        "updatedAt": "2025-02-03T23:39:01.773Z",
        "id": "67a1538c5a6db206abd5a2f2"
      },
      {
        "name": "SimplePlayer.js",
        "content": "// a subclass of Tone.Player that adds a progress function to it.\n// The only permitted playbackRate is 1.\n\nclass SimplePlayer extends Tone.Player {\n  constructor(...args){\n    super(...args);\n    this.playbackRate = 1;\n  }\n  \n  start(...args){\n    // assuming args[0] is always time\n    this.startTime = args[0] | Tone.now();\n    super.start(...args);\n  }\n    \n  get duration(){\n    return this._buffer.duration;\n  }\n  \n  currentTime(){\n    return Tone.now() - this.startTime;\n  }\n  \n  progress(){\n    if(this.state == \"started\"){\n       return this.currentTime() / this.duration; \n    }\n    else{\n      return 0;\n    }\n  }\n  \n\n  \n  // disable setting playbackRate to anything other than 1\n  set playbackRate(rate) {\n    if(rate != 1) throw new Error(\"Setting the playbackRate value to any value other than 1 is disabled in SimplePlayer. If required, use Tone.Player instead.\");\n  }\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a1538c5a6db206abd5a2ea",
        "createdAt": "2025-02-03T23:39:01.773Z",
        "updatedAt": "2025-02-03T23:39:01.773Z",
        "id": "67a1538c5a6db206abd5a2ea"
      },
      {
        "name": "drums",
        "content": "",
        "children": [
          "67a1538c5a6db206abd5a2ec",
          "67a1538c5a6db206abd5a2ed",
          "67a1538c5a6db206abd5a2ee",
          "67a1538c5a6db206abd5a2ef"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67a1538c5a6db206abd5a2eb",
        "createdAt": "2025-02-03T23:39:01.773Z",
        "updatedAt": "2025-02-03T23:39:01.773Z",
        "id": "67a1538c5a6db206abd5a2eb"
      },
      {
        "name": "tom.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/040c9c3f-2f1b-42cb-825b-6f9256f50989.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a1538c5a6db206abd5a2ef",
        "createdAt": "2025-02-03T23:39:01.773Z",
        "updatedAt": "2025-02-03T23:39:01.773Z",
        "id": "67a1538c5a6db206abd5a2ef"
      },
      {
        "name": "kick.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/127a3e0f-1527-4e67-a008-30c5b0cee7cb.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a1538c5a6db206abd5a2ed",
        "createdAt": "2025-02-03T23:39:01.773Z",
        "updatedAt": "2025-02-03T23:39:01.773Z",
        "id": "67a1538c5a6db206abd5a2ed"
      },
      {
        "name": "hihat.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/4779eda7-da19-4b78-bedb-cedde945d970.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a1538c5a6db206abd5a2ec",
        "createdAt": "2025-02-03T23:39:01.773Z",
        "updatedAt": "2025-02-03T23:39:01.773Z",
        "id": "67a1538c5a6db206abd5a2ec"
      },
      {
        "name": "snare.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/6925ff7d-ef6a-45b9-8d27-4f08cd016b78.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a1538c5a6db206abd5a2ee",
        "createdAt": "2025-02-03T23:39:01.773Z",
        "updatedAt": "2025-02-03T23:39:01.773Z",
        "id": "67a1538c5a6db206abd5a2ee"
      }
    ],
    "createdAt": "2025-02-03T23:38:53.410Z",
    "updatedAt": "2025-02-03T23:39:01.773Z",
    "id": "ZtHbthujD"
  },
  {
    "_id": "Axrj-F-Bl",
    "name": "Basic Particle System",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6745540bb52217415fe6ed46",
          "673a902d912604d748a09bad",
          "673a923c5ee2c593ffbc3a7f",
          "67523df94a93ebce52bbda62",
          "673a902d912604d748a09bac",
          "673a902d912604d748a09bae",
          "673a9ca1fd2fe779fefb46df"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "673a902d912604d748a09baf",
        "createdAt": "2025-01-04T04:01:57.954Z",
        "updatedAt": "2025-01-04T04:01:57.954Z",
        "id": "673a902d912604d748a09baf"
      },
      {
        "name": "sketch.js",
        "content": "let ps = [];\n\nlet sound;\nlet fft;\n\nfunction preload() {\n  // loadSound(\"0.mp3\");\n}\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n  colorMode(HSB, 255);\n  allSerialStuff();\n}\n\nfunction draw() {\n  background(0);\n  \n  // let y = map(amplitude, 0, 255, height, 0);\n  // let x = map(s, 0, spectrum.length, 0, width);\n  ps.push(new System(mouseX, mouseY));\n  \n  // if (abs(pmouseX - mouseX) > 0 || abs(pmouseY - mouseY)) {\n    \n  // }\n  for (let i = ps.length - 1; i >= 0; i--) {\n    ps[i].update();\n    ps[i].display();\n\n    if (ps[i].done) {\n      ps.splice(i, 1);\n    }\n  }\n  // console.log(ps.length);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673a902d912604d748a09bac",
        "createdAt": "2025-01-04T04:01:57.954Z",
        "updatedAt": "2025-01-04T04:01:57.954Z",
        "id": "673a902d912604d748a09bac"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js\"\n  integrity=\"sha512-WIklPM6qPCIp6d3fSSr90j+1unQHUOoWDS4sdTiR8gxUTnyZ8S2Mr8e10sKKJ/bhJgpAa/qG068RDkg6fIlNFA==\"\n  crossorigin=\"anonymous\"></script>\n  <script src=\"https://unpkg.com/p5-webserial@0.1.1/build/p5.webserial.js\"></script>\n <script src=\"particle.js\"></script>\n <script src=\"system.js\"></script>\n <script src=\"serial.js\"></script>\n <script src=\"sketch.js\"></script>\n  <meta charset=\"UTF-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>p5.webserial</title>\n</head>\n</html>",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673a902d912604d748a09bad",
        "createdAt": "2025-01-04T04:01:57.954Z",
        "updatedAt": "2025-01-04T04:01:57.954Z",
        "id": "673a902d912604d748a09bad"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673a902d912604d748a09bae",
        "createdAt": "2025-01-04T04:01:57.954Z",
        "updatedAt": "2025-01-04T04:01:57.954Z",
        "id": "673a902d912604d748a09bae"
      },
      {
        "name": "particle.js",
        "content": "class Particle {\n  constructor(x, y) {\n    // createVector() makes a vector, which can store 2-3 values. in this case, it will store 2 values: x, y\n    this.pos = createVector(x, y);\n    this.vel = createVector(0, 0);\n    // creates a p5 object that pulls random values\n    this.acc = p5.Vector.random2D();\n    // reduces magnitude\n    this.acc.mult(0.05);\n    // change beginning to end\n    this.life = 255;\n    // var for removing objects\n    this.done = false;\n    this.hueValue = 150;\n    this.bright = 0;\n  }\n\n  update() {\n    // Calling a method inside a class\n    this.finished();\n\n    // Vector objects can't be manipulated directly --> use .add()/.sub() function\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n\n    this.life -= 1;\n        \n    if(this.hueValue < 0) {\n      this.hueValue = 255;\n    }\n    this.hueValue++;\n  }\n\n  display() {\n    noStroke();\n    fill(this.hueValue, 255, this.life);\n    ellipse(this.pos.x, this.pos.y, 2);\n  }\n\n  finished() {\n    if (this.life < 0) {\n      this.done = true;\n    } else {\n      this.done = false;\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "673a923c5ee2c593ffbc3a7f",
        "createdAt": "2025-01-04T04:01:57.954Z",
        "updatedAt": "2025-01-04T04:01:57.954Z",
        "id": "673a923c5ee2c593ffbc3a7f"
      },
      {
        "name": "system.js",
        "content": "class System {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n\n    this.particles = [];\n    this.num = 100;\n    \n    this.done = false;\n\n    // Use this.particles to push new Particle instances\n    for (let i = 0; i < this.num; i++) {\n      this.particles.push(new Particle(this.x, this.y));\n    }\n  }\n\n  update() {\n    this.finished();\n    for (let i = this.particles.length - 1; i >= 0; i--) {\n      this.particles[i].update();\n\n      // Check if the Particle class has a `done` property or method\n      if (this.particles[i].done) {\n        this.particles.splice(i, 1);\n      }\n    }\n  }\n\n  display() {\n    for (let i = 0; i < this.particles.length; i++) {\n      this.particles[i].display();\n    }\n  }\n  \n  finished(){\n    if (this.particles.length == 0){\n      this.done = true;\n    } else {\n      this.done = false;\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673a9ca1fd2fe779fefb46df",
        "createdAt": "2025-01-04T04:01:57.954Z",
        "updatedAt": "2025-01-04T04:01:57.954Z",
        "id": "673a9ca1fd2fe779fefb46df"
      },
      {
        "name": "0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c5988624-c511-4067-9c46-2ed2b42514ed.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6745540bb52217415fe6ed46",
        "createdAt": "2025-01-04T04:01:57.954Z",
        "updatedAt": "2025-01-04T04:01:57.954Z",
        "id": "6745540bb52217415fe6ed46"
      },
      {
        "name": "serial.js",
        "content": "const serial = new p5.WebSerial();\nlet portButton;\nlet inData = [];\n\nfunction serialEvent() {\n  // this is called when data is recieved, data will then live in fromSerial\n  var stringFromSerial = serial.readLine(); // reads everything till the new line charecter\n  if (stringFromSerial) {\n    // is there something there ?\n    var trimmedString = trim(stringFromSerial); // get rid of all white space (returns, spaces, tabs)\n    var myArray = split(trimmedString, \"\"); // splits the string into an array on commas\n    \n    for (i = 0; i < inData.length; i++);\n    inData[i] = Number(myArray[i]);\n    console.log(inData);\n  }\n}\n\nfunction allSerialStuff() {\n  if (!navigator.serial) {\n    alert(\"WebSerial is not supported in this browser. Try Chrome or MS Edge.\");\n  }\n  // check for any ports that are available:\n  serial.getPorts();\n  // if there's no port chosen, choose one:\n  serial.on(\"noport\", makePortButton);\n  // open whatever port is available:\n  serial.on(\"portavailable\", openPort);\n  // handle serial errors:\n  serial.on(\"requesterror\", portError);\n  // handle any incoming serial data:\n  serial.on(\"data\", serialEvent);\n  serial.on(\"close\", makePortButton);\n  // add serial connect/disconnect listeners:\n  navigator.serial.addEventListener(\"connect\", portConnect);\n  navigator.serial.addEventListener(\"disconnect\", portDisconnect);\n}\n// if there's no port selected,\n// make a port select button appear:\nfunction makePortButton() {\n  // create and position a port chooser button:\n  portButton = createButton(\"choose port\");\n  portButton.position(10, 10);\n  // give the port button a mousepressed handler:\n  portButton.mousePressed(choosePort);\n}\n\n// make the port selector window appear:\nfunction choosePort() {\n  if (portButton) portButton.show();\n  serial.requestPort();\n}\n\n// open the selected port, and make the port\n// button invisible:\n// open the selected port, and make the port\n// button invisible:\nfunction openPort() {\n  // wait for the serial.open promise to return,\n  // then call the initiateSerial function\n  serial.open().then(initiateSerial);\n\n  // once the port opens, let the user know:\n  function initiateSerial() {\n    console.log(\"port open\");\n  }\n  // hide the port button once a port is chosen:\n  if (portButton) portButton.hide();\n}\n\n// pop up an alert if there's a port error:\nfunction portError(err) {\n  alert(\"Serial port error: \" + err);\n}\n// read any incoming data as a string\n// (assumes a newline at the end of it):\n\n// try to connect if a new serial port\n// gets added (i.e. plugged in via USB):\nfunction portConnect() {\n  console.log(\"port connected\");\n  serial.getPorts();\n}\n\n// if a port is disconnected:\nfunction portDisconnect() {\n  serial.close();\n  console.log(\"port disconnected\");\n}\n\nfunction closePort() {\n  serial.close();\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67523df94a93ebce52bbda62",
        "createdAt": "2025-01-04T04:01:57.954Z",
        "updatedAt": "2025-01-04T04:01:57.954Z",
        "id": "67523df94a93ebce52bbda62"
      }
    ],
    "updatedAt": "2025-01-04T04:01:57.954Z",
    "createdAt": "2024-11-18T01:02:38.263Z",
    "id": "Axrj-F-Bl"
  },
  {
    "_id": "ij9-b914h",
    "name": "Basic Particle System (changing hues)",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "674547e5f662714302f0e4bd",
          "674547e5f662714302f0e4be",
          "674547e5f662714302f0e4bf",
          "674547e5f662714302f0e4c0",
          "674547e5f662714302f0e4c1"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "674547e5f662714302f0e4bc",
        "createdAt": "2024-11-26T04:09:49.636Z",
        "updatedAt": "2024-11-26T04:09:49.636Z",
        "id": "674547e5f662714302f0e4bc"
      },
      {
        "name": "sketch.js",
        "content": "let ps = [];\n\nconst serial = new p5.WebSerial();\nlet portbutton;\nlet inData, inData2;\n\nfunction setup() {\n  createCanvas(400, 400);\n  colorMode(HSB, 255);\n}\n\nfunction draw() {\n  background(0);\n  \n  // if (abs(pmouseX - mouseX) > 0 || abs(pmouseY - mouseY)) {\n    ps.push(new System(width/2, height/2));\n  // }\n  for (let i = ps.length - 1; i >= 0; i--) {\n    ps[i].update();\n    ps[i].display();\n\n    if (ps[i].done) {\n      ps.splice(i, 1);\n    }\n  }\n  // console.log(ps.length);\n}\n\nfunction serialEvent() {\n  // this is called when data is recieved, data will then live in fromSerial\n  let fakeData = \"150,300\";\n  // var stringFromSerial = serial.readLine(); // reads everything till the new line charecter\n  // if (stringFromSerial) {\n  //   // is there something there ?\n  //   var trimmedString = trim(stringFromSerial); // get rid of all white space (returns, spaces, tabs)\n    var myArray = split(fakeData, \",\"); // splits the string into an array on commas\n    inData = Number(myArray[0]); // get the first item in the array and turn into integer\n    inData2 = Number(myArray[1]); // get the second item in the array and turn into integer\n    \n    console.log(inData, inData2);\n  }\n}\n\nfunction allSerialStuff() {\n  if (!navigator.serial) {\n    alert(\"WebSerial is not supported in this browser. Try Chrome or MS Edge.\");\n  }\n  // check for any ports that are available:\n  serial.getPorts();\n  // if there's no port chosen, choose one:\n  serial.on(\"noport\", makePortButton);\n  // open whatever port is available:\n  serial.on(\"portavailable\", openPort);\n  // handle serial errors:\n  serial.on(\"requesterror\", portError);\n  // handle any incoming serial data:\n  serial.on(\"data\", serialEvent);\n  serial.on(\"close\", makePortButton);\n  // add serial connect/disconnect listeners:\n  navigator.serial.addEventListener(\"connect\", portConnect);\n  navigator.serial.addEventListener(\"disconnect\", portDisconnect);\n}\n\n// if there's no port selected,\n// make a port select button appear:\nfunction makePortButton() {\n  // create and position a port chooser button:\n  portButton = createButton(\"choose port\");\n  portButton.position(10, 10);\n  // give the port button a mousepressed handler:\n  portButton.mousePressed(choosePort);\n}\n\n// make the port selector window appear:\nfunction choosePort() {\n  if (portButton) portButton.show();\n  serial.requestPort();\n}\n\n// open the selected port, and make the port\n// button invisible:\n// open the selected port, and make the port\n// button invisible:\nfunction openPort() {\n  // wait for the serial.open promise to return,\n  // then call the initiateSerial function\n  serial.open().then(initiateSerial);\n\n  // once the port opens, let the user know:\n  function initiateSerial() {\n    console.log(\"port open\");\n  }\n  // hide the port button once a port is chosen:\n  if (portButton) portButton.hide();\n}\n\n// pop up an alert if there's a port error:\nfunction portError(err) {\n  alert(\"Serial port error: \" + err);\n}\n// read any incoming data as a string\n// (assumes a newline at the end of it):\n\n// try to connect if a new serial port\n// gets added (i.e. plugged in via USB):\nfunction portConnect() {\n  console.log(\"port connected\");\n  serial.getPorts();\n}\n\n// if a port is disconnected:\nfunction portDisconnect() {\n  serial.close();\n  console.log(\"port disconnected\");\n}\n\nfunction closePort() {\n  serial.close();\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "674547e5f662714302f0e4bf",
        "createdAt": "2024-11-26T04:09:49.636Z",
        "updatedAt": "2024-11-26T04:09:49.636Z",
        "id": "674547e5f662714302f0e4bf"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js\"\n  integrity=\"sha512-WIklPM6qPCIp6d3fSSr90j+1unQHUOoWDS4sdTiR8gxUTnyZ8S2Mr8e10sKKJ/bhJgpAa/qG068RDkg6fIlNFA==\"\n  crossorigin=\"anonymous\"></script>\n  <script src=\"https://unpkg.com/p5-webserial@0.1.1/build/p5.webserial.js\"></script>\n <script src=\"sketch.js\"></script>\n <script src=\"particle.js\"></script>\n <script src=\"system.js\"></script>\n  <meta charset=\"UTF-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>p5.webserial</title>\n</head>\n</html>",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "674547e5f662714302f0e4bd",
        "createdAt": "2024-11-26T04:09:49.636Z",
        "updatedAt": "2024-11-26T04:09:49.636Z",
        "id": "674547e5f662714302f0e4bd"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "674547e5f662714302f0e4c0",
        "createdAt": "2024-11-26T04:09:49.636Z",
        "updatedAt": "2024-11-26T04:09:49.636Z",
        "id": "674547e5f662714302f0e4c0"
      },
      {
        "name": "particle.js",
        "content": "class Particle {\n  constructor(x, y) {\n    // createVector() makes a vector, which can store 2-3 values. in this case, it will store 2 values: x, y\n    this.pos = createVector(x, y);\n    this.vel = createVector(0, 0);\n    // creates a p5 object that pulls random values\n    this.acc = p5.Vector.random2D();\n    // reduces magnitude\n    this.acc.mult(0.05);\n    // change beginning to end\n    this.life = 255;\n    // var for removing objects\n    this.done = false;\n    this.hueValue = 150;\n  }\n\n  update() {\n    // Calling a method inside a class\n    this.finished();\n\n    // Vector objects can't be manipulated directly --> use .add()/.sub() function\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n\n    this.life -= 2;\n        \n    if(this.hueValue < 0) {\n      this.hueValue = 255;\n    }\n    this.hueValue--;\n  }\n\n  display() {\n    noStroke();\n    fill(this.hueValue, 255, this.life);\n    ellipse(this.pos.x, this.pos.y, 2);\n  }\n\n  finished() {\n    if (this.life < 0) {\n      this.done = true;\n    } else {\n      this.done = false;\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "674547e5f662714302f0e4be",
        "createdAt": "2024-11-26T04:09:49.636Z",
        "updatedAt": "2024-11-26T04:09:49.636Z",
        "id": "674547e5f662714302f0e4be"
      },
      {
        "name": "system.js",
        "content": "class System {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n\n    this.particles = [];\n    this.num = 50;\n    \n    this.done = false;\n\n    // Use this.particles to push new Particle instances\n    for (let i = 0; i < this.num; i++) {\n      this.particles.push(new Particle(this.x, this.y));\n    }\n  }\n\n  update() {\n    this.finished();\n    for (let i = this.particles.length - 1; i >= 0; i--) {\n      this.particles[i].update();\n\n      // Check if the Particle class has a `done` property or method\n      if (this.particles[i].done) {\n        this.particles.splice(i, 1);\n      }\n    }\n  }\n\n  display() {\n    for (let i = 0; i < this.particles.length; i++) {\n      this.particles[i].display();\n    }\n  }\n  \n  finished(){\n    if (this.particles.length == 0){\n      this.done = true;\n    } else {\n      this.done = false;\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "674547e5f662714302f0e4c1",
        "createdAt": "2024-11-26T04:09:49.636Z",
        "updatedAt": "2024-11-26T04:09:49.636Z",
        "id": "674547e5f662714302f0e4c1"
      }
    ],
    "createdAt": "2024-11-26T04:00:37.088Z",
    "updatedAt": "2024-11-26T04:09:49.636Z",
    "id": "ij9-b914h"
  },
  {
    "_id": "LOxOTer15",
    "name": "Basic Particle System + Sensors",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "673b919a8804ff037e3ed3af",
          "673b919a8804ff037e3ed3b0",
          "673b919a8804ff037e3ed3b1",
          "673b919a8804ff037e3ed3b2",
          "673b919a8804ff037e3ed3b3"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "673b919a8804ff037e3ed3ae",
        "createdAt": "2024-11-26T03:55:06.937Z",
        "updatedAt": "2024-11-26T03:55:06.937Z",
        "id": "673b919a8804ff037e3ed3ae"
      },
      {
        "name": "sketch.js",
        "content": "let ps = []; // Array to hold particle systems\nlet mappedTOF = [0, 0]; // Default mapped TOF data for position\nlet mappedVel = [0, 0, 0]; // Default mapped Velostat data\n\nlet serial1;\nlet serial2;\n\nlet portButton1, portButton2; // Buttons for selecting ports\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n  colorMode(HSB, 255);\n\n  // Initialize serial ports\n  serial1 = new p5.WebSerial(); // Initialize serial1 here\n  serial2 = new p5.WebSerial(); // Initialize serial2 here\n\n  initializeSerial(); // Set up WebSerial ports\n}\n\n// Serial event handler for serial1 (TOF)\nfunction serialEvent1() {\n  let stringFromSerial = serial1.readLine();\n  if (stringFromSerial) {\n    try {\n      let trimmedString = trim(stringFromSerial);\n      let myArray = split(trimmedString, \",\");\n\n      // Assuming first two values are TOF, next three are Velostat\n      for (let i = 0; i < min(myArray.length, 2); i++) {\n        mappedTOF[i] = map(Number(myArray[i]), 0, 8190, 0, width);\n        mappedTOF[i + 1] = map(Number(myArray[i + 1]), 0, 8190, 0, height);\n      }\n\n      console.log(\"Mapped TOF:\", mappedTOF);\n      console.log(\"Mapped Velostat:\", mappedVel);\n    } catch (error) {\n      console.error(\"Error processing serial1 data:\", error);\n    }\n  }\n}\n\n// Serial event handler for serial2 (Velostat data for hue)\nfunction serialEvent2() {\n  let stringFromSerial = serial2.readLine();\n  if (stringFromSerial) {\n    try {\n      let trimmedString = trim(stringFromSerial);\n      let myArray = split(trimmedString, \",\");\n\n      // Map Velostat data to hue range\n      for (let i = 0; i < min(myArray.length, 3); i++) {\n        mappedVel[i] = map(Number(myArray[i]), 0, 8190, 0, 255);\n      }\n\n      console.log(\"Mapped Velostat:\", mappedVel); // Debug mappedVel\n    } catch (error) {\n      console.error(\"Error processing serial2 data:\", error);\n    }\n  }\n}\n\n// Initialize WebSerial ports\nfunction initializeSerial() {\n  if (!navigator.serial) {\n    alert(\"WebSerial is not supported in this browser. Try Chrome or MS Edge.\");\n    return;\n  }\n\n  // Serial1 setup\n  serial1.getPorts();\n  serial1.on(\"portavailable\", () => {\n    serial1\n      .open()\n      .then(() => {\n        console.log(\"Port 1 open\");\n        serial1.on(\"data\", serialEvent1); // Attach event handler\n      })\n      .catch((err) => {\n        console.error(\"Error opening port 1:\", err);\n        alert(\"Error opening port 1: \" + err);\n      });\n  });\n  serial1.on(\"requesterror\", (err) => {\n    console.error(\"Serial 1 request error:\", err);\n    alert(\"Serial 1 request error: \" + err);\n  });\n\n  // Serial2 setup\n  serial2.getPorts();\n  serial2.on(\"portavailable\", () => {\n    serial2\n      .open()\n      .then(() => {\n        console.log(\"Port 2 open\");\n        serial2.on(\"data\", serialEvent2); // Attach event handler\n      })\n      .catch((err) => {\n        console.error(\"Error opening port 2:\", err);\n        alert(\"Error opening port 2: \" + err);\n      });\n  });\n  serial2.on(\"requesterror\", (err) => {\n    console.error(\"Serial 2 request error:\", err);\n    alert(\"Serial 2 request error: \" + err);\n  });\n}\n\nfunction draw() {\n  background(0, 80); // Semi-transparent background for motion trails\n\n  // Dynamically add a new particle system using mapped TOF data for position\n  let x = mappedTOF[0] || width / 2; // Use first TOF value or fallback to center\n  let y = mappedTOF[1] || height / 2; // Use second TOF value or fallback to center\n  ps.push(new System(mouseX, mouseY, mappedVel)); // Pass mappedVel to system\n\n  // Update and display all active particle systems\n  for (let i = ps.length - 1; i >= 0; i--) {\n    ps[i].update(); // Update particle system\n    ps[i].display(); // Display particle system\n\n    // Remove systems that are done\n    if (ps[i].done) {\n      ps.splice(i, 1);\n    }\n  }\n}\n\n// Resize canvas when the window is resized\nfunction windowResized() {\n  resizeCanvas(windowWidth, windowHeight);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "673b919a8804ff037e3ed3b1",
        "createdAt": "2024-11-26T03:55:06.937Z",
        "updatedAt": "2024-11-26T03:55:06.937Z",
        "id": "673b919a8804ff037e3ed3b1"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js\"\n  integrity=\"sha512-WIklPM6qPCIp6d3fSSr90j+1unQHUOoWDS4sdTiR8gxUTnyZ8S2Mr8e10sKKJ/bhJgpAa/qG068RDkg6fIlNFA==\"\n  crossorigin=\"anonymous\"></script>\n  <script src=\"https://unpkg.com/p5-webserial@0.1.1/build/p5.webserial.js\"></script>\n  <script src=\"particle.js\"></script>\n  <script src=\"system.js\"></script>\n  <script src=\"sketch.js\"></script>\n  <meta charset=\"UTF-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>p5.webserial</title>\n</head>\n</html>",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673b919a8804ff037e3ed3af",
        "createdAt": "2024-11-26T03:55:06.937Z",
        "updatedAt": "2024-11-26T03:55:06.937Z",
        "id": "673b919a8804ff037e3ed3af"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673b919a8804ff037e3ed3b2",
        "createdAt": "2024-11-26T03:55:06.937Z",
        "updatedAt": "2024-11-26T03:55:06.937Z",
        "id": "673b919a8804ff037e3ed3b2"
      },
      {
        "name": "particle.js",
        "content": "class Particle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector(0, 0);\n    this.acc = p5.Vector.random2D().mult(random(0.1, 0.5));\n    this.life = 255; // Lifespan\n    this.done = false;\n    this.hueValue = 150; // Default hue if no input\n  }\n\n  update() {\n    this.vel.add(this.acc);\n    this.pos.add(this.vel);\n    this.life --; // Decrease lifespan\n    this.done = this.life < 0; // Mark as done when lifespan ends\n  }\n\n  display() {\n    noStroke();\n    fill(this.hueValue, 255, this.life); // Use hue value with fade-out\n    ellipse(this.pos.x, this.pos.y, 2); // Fixed size of 2\n  }\n\n//   finished() {\n//     this.done = this.life < 0;\n//   }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673b919a8804ff037e3ed3b0",
        "createdAt": "2024-11-26T03:55:06.937Z",
        "updatedAt": "2024-11-26T03:55:06.937Z",
        "id": "673b919a8804ff037e3ed3b0"
      },
      {
        "name": "system.js",
        "content": "class System {\n  constructor(x, y, velData = []) {\n    this.pos = createVector(x, y);\n    this.particles = [];\n    this.velData = velData;\n    this.done = false;\n  }\n\n  addParticle() {\n    // Pass velData to each new particle\n    this.particles.push(new Particle(this.pos.x, this.pos.y, this.velData));\n  }\n\n  update() {\n    // Add new particles\n    if (random(1) < 0.9) { // High probability for frequent particles\n      this.addParticle();\n    }\n\n    // Update particles\n    for (let i = this.particles.length - 1; i >= 0; i--) {\n      this.particles[i].update();\n      if (this.particles[i].done) {\n        this.particles.splice(i, 1);\n      }\n    }\n\n    // Check if all particles are done\n    this.done = this.particles.length === 0;\n  }\n\n  display() {\n    for (let particle of this.particles) {\n      particle.display();\n    }\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673b919a8804ff037e3ed3b3",
        "createdAt": "2024-11-26T03:55:06.937Z",
        "updatedAt": "2024-11-26T03:55:06.937Z",
        "id": "673b919a8804ff037e3ed3b3"
      }
    ],
    "createdAt": "2024-11-18T19:12:26.967Z",
    "updatedAt": "2024-11-26T03:55:06.937Z",
    "id": "LOxOTer15"
  },
  {
    "_id": "asHwjcMYj",
    "name": "Beyonce End of Time Mixer copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "679fddb41968765228623175",
          "679fddb41968765228623176",
          "679fddb41968765228623177",
          "679fddb41968765228623184"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679fddb41968765228623174",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb41968765228623174"
      },
      {
        "name": "sketch.js",
        "content": "// load 4 tracks\n// create 4 sliders\n// connect the value of the sliders to the volume of the tracks\nlet players = [];\nlet sliders = [];\n\nlet trackNames = [\n  \"adlibs\", \n  \"bass\", \n  \"drums1\", \n  \"drums2\", \n  \"fx\", \n  \"horns\", \n  \"percussion\", \n  \"strings\", \n  \"vox1\", \n  \"vox2\", \n  \"vox3\", \n  \"vox4\" \n]\n\nfor(let i = 0; i < trackNames.length; i++){\n  players[i] = new Tone.Player({\n\turl: \"stems/\" + trackNames[i] + \".mp3\"\n});\n  players[i].toDestination();\n}\n\nfunction setup() {\n  noCanvas();\n  \n  // Create a slider for each player\n  for(i in players){\n    // Be very careful with this range:\n    // 0 is neutral volume\n    sliders[i] = createSlider(-60, 0);\n    sliders[i].id = i;\n    sliders[i].input(volumeInput)\n  }\n}\n\nfunction draw() {\n  background(220);\n}\n\n// Once all files are fully loaded, \n// Start playing them back\nTone.loaded().then(function(){  \n  Tone.start();\n  for(let i = 0; i < trackNames.length; i++){\n    players[i].start();\n  }\n});\n\nfunction volumeInput(){\n  let i = this.id;\n  console.log(this.id + \" \" + this.value());\n  players[i].volume.rampTo(this.value());\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "679fddb41968765228623176",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb41968765228623176"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://unpkg.com/tone@15.0.4/build/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fddb41968765228623175",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb41968765228623175"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fddb41968765228623184",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb41968765228623184"
      },
      {
        "name": "stems",
        "content": "",
        "children": [
          "679fddb41968765228623178",
          "679fddb41968765228623179",
          "679fddb4196876522862317a",
          "679fddb4196876522862317b",
          "679fddb4196876522862317c",
          "679fddb4196876522862317d",
          "679fddb4196876522862317e",
          "679fddb4196876522862317f",
          "679fddb41968765228623180",
          "679fddb41968765228623181",
          "679fddb41968765228623182",
          "679fddb41968765228623183"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679fddb41968765228623177",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb41968765228623177"
      },
      {
        "name": "horns.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/6fcbea75-6faf-4d19-9b33-db70b687fcae.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fddb4196876522862317d",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb4196876522862317d"
      },
      {
        "name": "strings.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/5eaac0a5-616e-4823-9cde-978d350619a2.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fddb4196876522862317f",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb4196876522862317f"
      },
      {
        "name": "adlibs.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/098bae75-1d34-4ec9-9c73-98c60078a5e7.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fddb41968765228623178",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb41968765228623178"
      },
      {
        "name": "bass.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/a06613c0-bbd1-4a3c-bef6-424b6464d909.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fddb41968765228623179",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb41968765228623179"
      },
      {
        "name": "drums2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f6440490-43bd-4731-bad2-6abece637cec.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fddb4196876522862317b",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb4196876522862317b"
      },
      {
        "name": "drums1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/19435b86-9b34-4a24-964c-c7d292f18d38.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fddb4196876522862317a",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb4196876522862317a"
      },
      {
        "name": "fx.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/2a6c0dea-35a6-4d13-a3a0-eee4ee9df00c.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fddb4196876522862317c",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb4196876522862317c"
      },
      {
        "name": "percussion.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/3b8a6bab-eade-4cff-83e7-b27ccee32872.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fddb4196876522862317e",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb4196876522862317e"
      },
      {
        "name": "vox1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/13d2fe29-42f2-4ec0-a452-85c06454257e.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fddb41968765228623180",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb41968765228623180"
      },
      {
        "name": "vox2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/17d5eb79-6f01-4517-8e3f-283c9d79d400.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fddb41968765228623181",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb41968765228623181"
      },
      {
        "name": "vox3.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b6cb5784-bc2f-45c6-a215-aeadc20a4fcb.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fddb41968765228623182",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb41968765228623182"
      },
      {
        "name": "vox4.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/0a2a9a00-0138-4919-8521-4255a28fe823.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fddb41968765228623183",
        "createdAt": "2024-09-16T16:19:17.874Z",
        "updatedAt": "2024-09-16T16:19:17.874Z",
        "id": "679fddb41968765228623183"
      }
    ],
    "createdAt": "2025-02-02T21:03:48.939Z",
    "updatedAt": "2025-02-02T21:03:48.939Z",
    "id": "asHwjcMYj"
  },
  {
    "_id": "5OiJzpper",
    "name": "Beyonce End of Time Mixer OO and labels copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "679fde8cabc66425173a88d1",
          "679fde8cabc66425173a88d2",
          "679fde8cabc66425173a88d3",
          "679fde8cabc66425173a88d4",
          "679fde8cabc66425173a88e1"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88d0",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88d0"
      },
      {
        "name": "sketch.js",
        "content": "// load 4 tracks\n// create 4 sliders\n// connect the value of the sliders to the volume of the tracks\n\nlet playButton;\nlet trackNames = [\n  \"adlibs\", \n  \"bass\", \n  \"drums1\", \n  \"drums2\", \n  \"fx\", \n  \"horns\", \n  \"percussion\", \n  \"strings\", \n  \"vox1\", \n  \"vox2\", \n  \"vox3\", \n  \"vox4\" \n];\nlet tracks = [];\n\nfunction setup() {\n  noCanvas();\n  \n  // I've added a play button element directly to index.html:\n  // <button id=\"play\" disabled=\"disabled\">, \n  playButton = select(\"#play\");\n  // alternatively, create the play button dynamically using: \n  // playButton = createButton(\"Play\");\n  // playButton.attribute(\"ID\", \"play\");\n  // playButton.attribute(\"disabled\", \"disabled\");\n  playButton.mousePressed(play);\n  \n  for(let i = 0; i < trackNames.length; i++){\n    tracks[i] = new Track(trackNames[i], \"stems/\" + trackNames[i] + \".mp3\");\n  }\n  \n  // calling Tone.loaded() from setup to make sure it happens after p5 has been loaded, and the tracks have been created. \n  Tone.loaded().then(function(){  \n    select(\"#play\").removeAttribute(\"disabled\");\n  });\n}\n\nfunction draw() {\n  background(220);\n}\n\nfunction play(){\n  Tone.start();\n  for(let i = 0; i < tracks.length; i++){\n    tracks[i].player.start();\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88d3",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88d3"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://unpkg.com/tone@15.0.4/build/Tone.js\"></script>\n    <script src=\"Track.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <button id=\"play\" disabled=\"disabled\">Play</button>\n    <script src=\"sketch.js\"></script>\n  </body>\n  \n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88d2",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88d2"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88e1",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88e1"
      },
      {
        "name": "stems",
        "content": "",
        "children": [
          "679fde8cabc66425173a88d5",
          "679fde8cabc66425173a88d6",
          "679fde8cabc66425173a88d7",
          "679fde8cabc66425173a88d8",
          "679fde8cabc66425173a88d9",
          "679fde8cabc66425173a88da",
          "679fde8cabc66425173a88db",
          "679fde8cabc66425173a88dc",
          "679fde8cabc66425173a88dd",
          "679fde8cabc66425173a88de",
          "679fde8cabc66425173a88df",
          "679fde8cabc66425173a88e0"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88d4",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88d4"
      },
      {
        "name": "horns.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b58e10b7-0910-4181-abeb-b129086e3b7c.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88da",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88da"
      },
      {
        "name": "strings.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/ca4314f1-2807-4e47-ad41-9a315b2e10dc.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88dc",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88dc"
      },
      {
        "name": "adlibs.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/93abc8ca-d661-42f3-a379-3e8710159b12.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88d5",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88d5"
      },
      {
        "name": "bass.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/5f1e8406-110c-4e9a-a254-78c6542f3da8.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88d6",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88d6"
      },
      {
        "name": "drums2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/2542d05a-a952-42e9-b3b1-e0f0804fac11.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88d8",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88d8"
      },
      {
        "name": "drums1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/e843bc97-9a42-438e-be61-9bd99cb58573.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88d7",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88d7"
      },
      {
        "name": "fx.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/d129d55b-28e6-4f52-89db-be00f8132710.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88d9",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88d9"
      },
      {
        "name": "percussion.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/44ef9efe-9f5b-4d20-8c8e-27ddedb7dd6c.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88db",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88db"
      },
      {
        "name": "vox1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/a316e7d6-5a22-40a8-bc67-0471532546d8.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88dd",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88dd"
      },
      {
        "name": "vox2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/181e69fc-d541-4caf-9255-5a6ecc2d4fd1.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88de",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88de"
      },
      {
        "name": "vox3.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/01cac376-6a62-4ee7-8108-b24b14ff1435.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88df",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88df"
      },
      {
        "name": "vox4.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/521897c2-1e62-48b4-a2e4-7d06ac701dee.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fde8cabc66425173a88e0",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88e0"
      },
      {
        "name": "Track.js",
        "content": "class Track{\n  constructor(name, url){\n    this.player = new Tone.Player(url);\n    this.player.toDestination();\n    \n    this.label = createSpan(name);\n    this.slider = createSlider(-60, 0);\n    this.slider.input(this.setVolume.bind(this));\n    this.br = createElement(\"br\");\n  }\n  setVolume(){\n    this.player.volume.rampTo(this.slider.value());\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "679fde8cabc66425173a88d1",
        "createdAt": "2024-09-16T16:15:27.277Z",
        "updatedAt": "2024-09-16T16:15:27.277Z",
        "id": "679fde8cabc66425173a88d1"
      }
    ],
    "createdAt": "2025-02-02T21:07:24.791Z",
    "updatedAt": "2025-02-02T21:07:24.791Z",
    "id": "5OiJzpper"
  },
  {
    "_id": "-1B3JO12x",
    "name": "Bjork Mutual Core - Mixer copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "679fdde3a5146d2800b99786",
          "679fdde3a5146d2800b99787",
          "679fdde3a5146d2800b99788",
          "679fdde3a5146d2800b9978e"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679fdde3a5146d2800b99785",
        "createdAt": "2024-09-16T16:07:02.457Z",
        "updatedAt": "2024-09-16T16:07:02.457Z",
        "id": "679fdde3a5146d2800b99785"
      },
      {
        "name": "sketch.js",
        "content": "// load 4 tracks\n// create 4 sliders\n// connect the value of the sliders to the volume of the tracks\nlet players = [];\nlet sliders = [];\n\nlet trackNames = [\n  \"ambient1\", \n  \"bass1\", \n  \"drums1\", \n  \"organ1\", \n  \"vocal1\"\n]\n\nfor(let i = 0; i < trackNames.length; i++){\n  players[i] = new Tone.Player({\n\turl: \"stems/\" + trackNames[i] + \".mp3\",\n\tautostart: true,\n});\n  players[i].toDestination();\n}\n\nfunction setup() {\n  noCanvas();\n  // Create a slider for each player\n  for(i in players){\n    // Be very careful with this range:\n    // 0 is neutral volume\n    sliders[i] = createSlider(-60, 0);\n    sliders[i].id = i;\n    sliders[i].input(volumeInput)\n  }\n}\n\nfunction draw() {\n  background(220);\n}\n\nfunction volumeInput(){\n  let i = this.id;\n  console.log(this.id + \" \" + this.value());\n  players[i].volume.rampTo(this.value());\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "679fdde3a5146d2800b99787",
        "createdAt": "2024-09-16T16:07:02.457Z",
        "updatedAt": "2024-09-16T16:07:02.457Z",
        "id": "679fdde3a5146d2800b99787"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://unpkg.com/tone@15.0.4/build/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdde3a5146d2800b99786",
        "createdAt": "2024-09-16T16:07:02.457Z",
        "updatedAt": "2024-09-16T16:07:02.457Z",
        "id": "679fdde3a5146d2800b99786"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdde3a5146d2800b9978e",
        "createdAt": "2024-09-16T16:07:02.457Z",
        "updatedAt": "2024-09-16T16:07:02.457Z",
        "id": "679fdde3a5146d2800b9978e"
      },
      {
        "name": "stems",
        "content": "",
        "children": [
          "679fdde3a5146d2800b99789",
          "679fdde3a5146d2800b9978a",
          "679fdde3a5146d2800b9978b",
          "679fdde3a5146d2800b9978c",
          "679fdde3a5146d2800b9978d"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679fdde3a5146d2800b99788",
        "createdAt": "2024-09-16T16:07:02.457Z",
        "updatedAt": "2024-09-16T16:07:02.457Z",
        "id": "679fdde3a5146d2800b99788"
      },
      {
        "name": "ambient1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/89a642dc-c18b-4490-bdd0-bc1f8b1f38c7.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdde3a5146d2800b99789",
        "createdAt": "2024-09-16T16:07:02.457Z",
        "updatedAt": "2024-09-16T16:07:02.457Z",
        "id": "679fdde3a5146d2800b99789"
      },
      {
        "name": "bass1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/d4fab1ec-ef1e-4c62-b010-0eba45209635.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdde3a5146d2800b9978a",
        "createdAt": "2024-09-16T16:07:02.457Z",
        "updatedAt": "2024-09-16T16:07:02.457Z",
        "id": "679fdde3a5146d2800b9978a"
      },
      {
        "name": "drums1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f1bacddb-254b-4b8d-a433-c949a15aa471.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdde3a5146d2800b9978b",
        "createdAt": "2024-09-16T16:07:02.457Z",
        "updatedAt": "2024-09-16T16:07:02.457Z",
        "id": "679fdde3a5146d2800b9978b"
      },
      {
        "name": "organ1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/77bfb080-9df5-4673-9717-734e84b29818.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdde3a5146d2800b9978c",
        "createdAt": "2024-09-16T16:07:02.457Z",
        "updatedAt": "2024-09-16T16:07:02.457Z",
        "id": "679fdde3a5146d2800b9978c"
      },
      {
        "name": "vocal1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b012e6dd-b1f2-4aa5-9b53-3362a6dec765.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdde3a5146d2800b9978d",
        "createdAt": "2024-09-16T16:07:02.457Z",
        "updatedAt": "2024-09-16T16:07:02.457Z",
        "id": "679fdde3a5146d2800b9978d"
      }
    ],
    "createdAt": "2025-02-02T21:04:35.934Z",
    "updatedAt": "2025-02-02T21:04:35.934Z",
    "id": "-1B3JO12x"
  },
  {
    "_id": "uJoEkBkk3",
    "name": "Bjork Mutual Core - Mixer with Waveform copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "679fdf5af057dae633cd98ec",
          "679fdf5af057dae633cd98ed",
          "679fdf5af057dae633cd98ee",
          "679fdf5af057dae633cd98ef",
          "679fdf5af057dae633cd98fa"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679fdf5af057dae633cd98eb",
        "createdAt": "2025-02-02T21:10:52.401Z",
        "updatedAt": "2025-02-02T21:10:52.401Z",
        "id": "679fdf5af057dae633cd98eb"
      },
      {
        "name": "sketch.js",
        "content": "// load 4 tracks\n// create 4 sliders\n// connect the value of the sliders to the volume of the tracks\nlet players = [];\nlet sliders = [];\n\nlet trackNames = [\n  \"ambient1\", \n  \"ambient2\", \n  \"bass1\", \n  \"bass2\", \n  \"drums1\", \n  \"drums2\", \n  \"organ1\", \n  \"organ2\", \n  \"vocal1\", \n  \"vocal2\"\n]\n\nlet tracks = [];\nlet playButton;\n\nfunction setup() {\n  createCanvas(540, 400);\n  colorMode(HSB);\n  \n  for(let i = 0; i < trackNames.length; i++){\n    tracks[i] = new Track(i, trackNames[i], \"stems/\" + trackNames[i] + \".mp3\");\n  }\n  \n  // I've added a play button directly to index.html\n  playButton = select(\"#play\");\n  playButton.mousePressed(play);\n  \n  Tone.loaded().then(function(){  \n    select(\"#play\").removeAttribute(\"disabled\");\n  });\n\n  noStroke();\n}\n\nfunction draw() {\n  background(220);\n  for(let i = 0; i < tracks.length; i++){\n    tracks[i].draw();\n  }\n}\n\nfunction mousePressed(){\n  for(let i = 0; i < trackNames.length; i++){\n    tracks[i].mousePressed();\n  }\n}\n\nfunction play(){\n  Tone.start();\n  for(let i = 0; i < tracks.length; i++){\n    tracks[i].player.start();\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "679fdf5af057dae633cd98ee",
        "createdAt": "2025-02-02T21:10:52.401Z",
        "updatedAt": "2025-02-02T21:10:52.401Z",
        "id": "679fdf5af057dae633cd98ee"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://unpkg.com/tone@15.0.4/build/Tone.js\"></script>    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <button id=\"play\" disabled=\"disabled\">Play</button>\n    <script src=\"Track.js\"></script>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdf5af057dae633cd98ed",
        "createdAt": "2025-02-02T21:10:52.401Z",
        "updatedAt": "2025-02-02T21:10:52.401Z",
        "id": "679fdf5af057dae633cd98ed"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n/* input {\n    -webkit-appearance: slider-vertical;\n    width: 36px;\n    height: 100px;\n}\n */\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdf5af057dae633cd98fa",
        "createdAt": "2025-02-02T21:10:52.401Z",
        "updatedAt": "2025-02-02T21:10:52.401Z",
        "id": "679fdf5af057dae633cd98fa"
      },
      {
        "name": "stems",
        "content": "",
        "children": [
          "679fdf5af057dae633cd98f0",
          "679fdf5af057dae633cd98f1",
          "679fdf5af057dae633cd98f2",
          "679fdf5af057dae633cd98f3",
          "679fdf5af057dae633cd98f4",
          "679fdf5af057dae633cd98f5",
          "679fdf5af057dae633cd98f6",
          "679fdf5af057dae633cd98f7",
          "679fdf5af057dae633cd98f8",
          "679fdf5af057dae633cd98f9"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679fdf5af057dae633cd98ef",
        "createdAt": "2025-02-02T21:10:52.401Z",
        "updatedAt": "2025-02-02T21:10:52.401Z",
        "id": "679fdf5af057dae633cd98ef"
      },
      {
        "name": "ambient1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/58d4a9e0-b1e1-44d9-84f0-f6583921b610.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdf5af057dae633cd98f0",
        "createdAt": "2025-02-02T21:10:52.401Z",
        "updatedAt": "2025-02-02T21:10:52.401Z",
        "id": "679fdf5af057dae633cd98f0"
      },
      {
        "name": "organ2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/d8481551-d876-4bef-897e-fb0ab4de009f.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdf5af057dae633cd98f7",
        "createdAt": "2025-02-02T21:10:52.401Z",
        "updatedAt": "2025-02-02T21:10:52.401Z",
        "id": "679fdf5af057dae633cd98f7"
      },
      {
        "name": "ambient2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/dd72e38d-9498-4500-afca-adbf7c21a42e.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdf5af057dae633cd98f1",
        "createdAt": "2025-02-02T21:10:52.401Z",
        "updatedAt": "2025-02-02T21:10:52.401Z",
        "id": "679fdf5af057dae633cd98f1"
      },
      {
        "name": "bass1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/4f352c43-df2b-4ef7-971b-6e96506fbcf2.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdf5af057dae633cd98f2",
        "createdAt": "2025-02-02T21:10:52.401Z",
        "updatedAt": "2025-02-02T21:10:52.401Z",
        "id": "679fdf5af057dae633cd98f2"
      },
      {
        "name": "bass2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f5595021-0a0a-47e8-8a36-b3a32f9a6009.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdf5af057dae633cd98f3",
        "createdAt": "2025-02-02T21:10:52.401Z",
        "updatedAt": "2025-02-02T21:10:52.401Z",
        "id": "679fdf5af057dae633cd98f3"
      },
      {
        "name": "drums2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/2b484d80-b842-44c7-a635-c5c2a7af9e82.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdf5af057dae633cd98f5",
        "createdAt": "2025-02-02T21:10:52.401Z",
        "updatedAt": "2025-02-02T21:10:52.401Z",
        "id": "679fdf5af057dae633cd98f5"
      },
      {
        "name": "drums1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b9ffe301-47a3-4b86-a637-9796e7a54f5b.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdf5af057dae633cd98f4",
        "createdAt": "2025-02-02T21:10:52.401Z",
        "updatedAt": "2025-02-02T21:10:52.401Z",
        "id": "679fdf5af057dae633cd98f4"
      },
      {
        "name": "organ1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/8895f724-cab6-4873-b7bb-ac906e46a52e.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdf5af057dae633cd98f6",
        "createdAt": "2025-02-02T21:10:52.401Z",
        "updatedAt": "2025-02-02T21:10:52.401Z",
        "id": "679fdf5af057dae633cd98f6"
      },
      {
        "name": "vocal1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/1b2cf254-1546-40ab-b5d4-b08ab84d0f5a.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdf5af057dae633cd98f8",
        "createdAt": "2025-02-02T21:10:52.401Z",
        "updatedAt": "2025-02-02T21:10:52.401Z",
        "id": "679fdf5af057dae633cd98f8"
      },
      {
        "name": "vocal2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f48e0cad-a7ee-4b6f-881b-573654366dd7.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdf5af057dae633cd98f9",
        "createdAt": "2025-02-02T21:10:52.401Z",
        "updatedAt": "2025-02-02T21:10:52.401Z",
        "id": "679fdf5af057dae633cd98f9"
      },
      {
        "name": "Track.js",
        "content": "class Track{\n  constructor(i, name, url){\n    this.i = i;\n    this.x = 0;\n    this.w = width;\n    this.y = this.i*40;\n    this.h = height/10;\n    this.player = new Tone.Player(url);\n    this.player.toDestination();\n    this.wave = new Tone.Waveform(512);\n    this.player.connect(this.wave);\n    console.log(\"loading...\");\n    \n    this.color = color(random(0, 360), 100, 100);\n    \n  }\n  setVolume(){\n    this.player.volume.rampTo(this.slider.value());\n  }\n  draw(){\n    let waveform = this.wave.getValue();\n    \n    // draw waveform\n    strokeWeight(2);\n    noFill();\n    stroke(0);\n    beginShape();\n    for (let i = 0; i < waveform.length; i++) {\n      let x = map(i, 0, waveform.length, 0, width);\n      let y = this.i*40 + map(waveform[i], -1, 1, this.h, 0);\n      vertex(x, y);\n    }\n    endShape();\n    \n    if(this.player.state == \"stopped\"){\n      noStroke();\n      fill(300, 100, 100, 0.5);\n      rect(this.x, this.y, this.w, this.h);\n    }\n\n    \n  }\n  \n  mousePressed(){\n    if(0 < mouseX && mouseX < width &&\n      this.y < mouseY && mouseY < this.y+this.h){\n      this.toggle();\n    }\n  }\n  \n  toggle(){\n    if(this.player.state == \"started\"){\n      this.player.stop();\n    } \n    else if(this.player.state == \"stopped\"){\n      this.player.start();\n    }\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdf5af057dae633cd98ec",
        "createdAt": "2025-02-02T21:10:52.401Z",
        "updatedAt": "2025-02-02T21:10:52.401Z",
        "id": "679fdf5af057dae633cd98ec"
      }
    ],
    "createdAt": "2025-02-02T21:10:51.656Z",
    "updatedAt": "2025-02-02T21:10:52.401Z",
    "id": "uJoEkBkk3"
  },
  {
    "_id": "jFeYJbfpJ",
    "name": "Bubble Gum copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67dafc1b38217025bc1b592d",
          "67dafc1b38217025bc1b592e",
          "67dafc1b38217025bc1b592f",
          "67dafc1b38217025bc1b5930",
          "67dafc1b38217025bc1b5931",
          "67dafc1b38217025bc1b5932",
          "67dafc1b38217025bc1b5933"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67dafc1b38217025bc1b592c",
        "createdAt": "2025-03-19T17:17:28.692Z",
        "updatedAt": "2025-03-19T17:17:28.692Z",
        "id": "67dafc1b38217025bc1b592c"
      },
      {
        "name": "sketch.js",
        "content": "\n\n// ===========================================\n// BUBBLEGUM - Blow a bubble until it pops\n// ===========================================\n// based on code from:\n// https://thecodingtrain.com/tracks/ml5js-beginners-guide/ml5/facemesh\n// https://youtu.be/R5UZsIwPbJA\n\nlet video;\nlet faceMesh;\nlet faces = [];\nlet triangles;\nlet uvCoords;\nlet img;\nlet state = \"NOTHING\"; // BUBBLEGROW, BUBBLESHRINK, BUBBLEPOP, GUMONFACE\nlet bubblePercent = 0;\n\nfunction preload() {\n  // Load the face mesh model and the gum image\n  faceMesh = ml5.faceMesh({ maxFaces: 1, flipped: true });\n  img = loadImage(\"gum_face.png\");\n}\n\nfunction gotFaces(results) {\n  // Update the faces array with the detected faces\n  faces = results;\n}\n\nfunction setup() {\n  createCanvas(640, 480, WEBGL);\n  var constraints = {\n    audio: false,\n    video: {\n      mandatory: {\n        minWidth: 640,\n        minHeight: 480\n      }\n    }\n  };\n  // Capture video from webcam, flipped horizontally\n  video = createCapture(constraints, { flipped: true });\n  video.hide();\n\n  // Start detecting faces from the video\n  faceMesh.detectStart(video, gotFaces);\n\n  // Get the face mesh triangles and UV coordinates\n  triangles = faceMesh.getTriangles();\n  uvCoords = faceMesh.getUVCoords();\n}\n\nfunction drawBubble(face, distMouthH, maxBubbleSize) {\n  noStroke();\n  ambientLight(255);\n  ambientMaterial(255,119,188);\n  translate(face.keypoints[13].x, face.keypoints[13].y+distMouthH/2, 0);\n  pointLight(255, 255, 255, -100, -50, 100);\n  sphere(maxBubbleSize*bubblePercent/100);\n}\n\nfunction draw() {\n  // Set origin to top-left corner and clear background\n  translate(-width / 2, -height / 2);\n  background(0);\n\n  // Display the webcam video\n  image(video, 0, 0);\n\n  if (faces.length == 0) {\n    state = \"NOTHING\";\n  }\n  \n  if (faces.length > 0) {\n    let face = faces[0];\n    let blow = false;\n    \n    let distMouthW = round(dist(face.keypoints[78].x,face.keypoints[78].y, face.keypoints[308].x,face.keypoints[308].y),1);\n    let distMouthH = round(dist(face.keypoints[14].x,face.keypoints[14].y, face.keypoints[13].x,face.keypoints[13].y),1);\n    let distNoseW = round(dist(face.keypoints[60].x,face.keypoints[60].y, face.keypoints[290].x,face.keypoints[290].y),1);\n    let maxBubbleSize = (face.box.height)/1.6;\n    if (distMouthW <= (distNoseW*2.2) && distMouthH > (distMouthW/7))\n    {   \n      blow = true;\n    }\n    \n    switch(state) {\n      case 'NOTHING':\n        bubblePercent = 0;\n        if (blow) { state = 'BUBBLEGROW';}\n        break;\n      case 'BUBBLEGROW':\n        if (!blow) \n        {\n          state = 'BUBBLESHRINK';\n          break;\n        } \n        bubblePercent=bubblePercent+1-(bubblePercent/105);\n        drawBubble(face, distMouthH, maxBubbleSize);        \n        if (bubblePercent > 100)\n        {\n          state = \"BUBBLEPOP\";\n        }\n        break;\n      case 'BUBBLESHRINK':\n        // grow bubble\n        bubblePercent=bubblePercent-3;\n        drawBubble(face, distMouthH, maxBubbleSize);        \n        if (bubblePercent <= 0)\n        {\n          state = \"NOTHING\";\n        }\n        break;\n      case 'BUBBLEPOP':\n        background(255,119,188);\n        bubblePercent = 0;\n        state = \"GUMONFACE\";\n        break;\n      case 'GUMONFACE':\n        // Apply the texture from the image\n        push();\n        texture(img);\n        textureMode(NORMAL);\n        noStroke();\n        beginShape(TRIANGLES);\n\n        // Draw each triangle of the face mesh with UV mapping\n        for (let i = 0; i < triangles.length; i++) {\n          let tri = triangles[i];\n          let [a, b, c] = tri;\n          let pointA = face.keypoints[a];\n          let pointB = face.keypoints[b];\n          let pointC = face.keypoints[c];\n          let uvA = uvCoords[a];\n          let uvB = uvCoords[b];\n          let uvC = uvCoords[c];\n\n          vertex(pointA.x, pointA.y, uvA[0], uvA[1]);\n          vertex(pointB.x, pointB.y, uvB[0], uvB[1]);\n          vertex(pointC.x, pointC.y, uvC[0], uvC[1]);\n        }\n        endShape();\n        pop();\n        break;\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67dafc1b38217025bc1b5932",
        "createdAt": "2025-03-19T17:17:28.692Z",
        "updatedAt": "2025-03-19T17:17:28.692Z",
        "id": "67dafc1b38217025bc1b5932"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"ml5.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" />\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <main></main>\n    <script src=\"extra.js\"></script>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67dafc1b38217025bc1b592f",
        "createdAt": "2025-03-19T17:17:28.692Z",
        "updatedAt": "2025-03-19T17:17:28.692Z",
        "id": "67dafc1b38217025bc1b592f"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67dafc1b38217025bc1b5933",
        "createdAt": "2025-03-19T17:17:28.692Z",
        "updatedAt": "2025-03-19T17:17:28.692Z",
        "id": "67dafc1b38217025bc1b5933"
      },
      {
        "name": "ml5.min.js",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f7a98820-661f-4e61-bc86-2ae3bde88752.js",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67dafc1b38217025bc1b5931",
        "createdAt": "2025-03-19T17:17:28.692Z",
        "updatedAt": "2025-03-19T17:17:28.692Z",
        "id": "67dafc1b38217025bc1b5931"
      },
      {
        "name": "extra.js",
        "content": "\np5.Texture.prototype._getTextureDataFromSource = function() {\n  let textureData;\n  if (this.isFramebufferTexture) {\n    textureData = this.src.rawTexture();\n  } else if (this.isSrcP5Image) {\n  // param is a p5.Image\n    textureData = this.src.canvas;\n  } else if (\n    this.isSrcMediaElement ||\n    this.isSrcP5Graphics ||\n    this.isSrcP5Renderer ||\n    this.isSrcHTMLElement\n  ) {\n  // if param is a video HTML element\n    // ============================================================================\n    // UPDATED:\n    if (this.src._ensureCanvas) {\n      this.src._ensureCanvas()\n    }\n    textureData = this.src.canvas || this.src.elt;\n    // End update\n    // ============================================================================\n  } else if (this.isImageData) {\n    textureData = this.src;\n  }\n  return textureData;\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67dafc1b38217025bc1b592d",
        "createdAt": "2025-03-19T17:17:28.692Z",
        "updatedAt": "2025-03-19T17:17:28.692Z",
        "id": "67dafc1b38217025bc1b592d"
      },
      {
        "name": "mesh_map.jpg",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/9983fe59-a8f6-479a-ab5a-e1dcbf42cdfd.jpg",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67dafc1b38217025bc1b5930",
        "createdAt": "2025-03-19T17:17:28.692Z",
        "updatedAt": "2025-03-19T17:17:28.692Z",
        "id": "67dafc1b38217025bc1b5930"
      },
      {
        "name": "gum_face.png",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c9051dee-2b85-49e6-aa4f-810ba8e0a1e7.png",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67dafc1b38217025bc1b592e",
        "createdAt": "2025-03-19T17:17:28.692Z",
        "updatedAt": "2025-03-19T17:17:28.692Z",
        "id": "67dafc1b38217025bc1b592e"
      }
    ],
    "createdAt": "2025-03-19T17:17:16.311Z",
    "updatedAt": "2025-03-19T17:17:28.692Z",
    "id": "jFeYJbfpJ"
  },
  {
    "_id": "W1LmWtUsj",
    "name": "Code of Music 1.1 - in class",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "678fed5bedd7c271963a7b20",
          "678fed5bedd7c271963a7b21",
          "678fed5bedd7c271963a7b22",
          "678fed5bedd7c271963a7b23",
          "678fed5bedd7c271963a7b28"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "678fed5bedd7c271963a7b1f",
        "createdAt": "2025-01-21T19:10:40.813Z",
        "updatedAt": "2025-01-21T19:10:40.813Z",
        "id": "678fed5bedd7c271963a7b1f"
      },
      {
        "name": "sketch.js",
        "content": "const blip = new SimplePlayer(\"sounds/blip.wav\");\nblip.toDestination(); // sends sound to whatever speaker device is using\n\nconst pink = new SimplePlayer(\"sounds/pink.wav\");\npink.toDestination(); // sends sound to whatever speaker device is using\n\nconst takerimba = new SimplePlayer(\"sounds/takerimba.wav\");\ntakerimba.toDestination(); // sends sound to whatever speaker device is using\n\nconst tears = new SimplePlayer(\"sounds/tears.wav\");\ntears.toDestination(); // sends sound to whatever speaker device is using\n\nfunction setup() {\n  createCanvas(400, 400);\n}\n\nfunction draw() {\n  background(0);\n  \n  // Blip\n  let x = map(blip.progress(), 0, 1, 0, 100);\n  \n  ellipse(width/2, height/2, x);\n}\n\n// function mouseClicked() {\n//   if (loaded) {\n//     blip.start();\n//   }\n// }\n\nfunction keyTyped() {\n  if (key == \"a\") {\n    if (loaded) {\n      blip.start();\n    }\n  }\n\n  if (key == \"s\") {\n    if (loaded) {\n      pink.start();\n    }\n  }\n\n  if (key == \"d\") {\n    if (loaded) {\n      takerimba.start();\n    }\n  }\n\n  if (key == \"f\") {\n    if (loaded) {\n      tears.start();\n    }\n  }\n}\n\nlet loaded = false;\n\nTone.loaded().then(function () {\n  loaded = true;\n});\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "678fed5bedd7c271963a7b22",
        "createdAt": "2025-01-21T19:10:40.813Z",
        "updatedAt": "2025-01-21T19:10:40.813Z",
        "id": "678fed5bedd7c271963a7b22"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html>\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/p5.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/addons/p5.dom.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <script src=\"SimplePlayer.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "678fed5bedd7c271963a7b21",
        "createdAt": "2025-01-21T19:10:40.813Z",
        "updatedAt": "2025-01-21T19:10:40.813Z",
        "id": "678fed5bedd7c271963a7b21"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "678fed5bedd7c271963a7b28",
        "createdAt": "2025-01-21T19:10:40.813Z",
        "updatedAt": "2025-01-21T19:10:40.813Z",
        "id": "678fed5bedd7c271963a7b28"
      },
      {
        "name": "sounds",
        "content": "",
        "children": [
          "678fed5bedd7c271963a7b24",
          "678fed5bedd7c271963a7b25",
          "678fed5bedd7c271963a7b26",
          "678fed5bedd7c271963a7b27"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "678fed5bedd7c271963a7b23",
        "createdAt": "2025-01-21T19:10:40.813Z",
        "updatedAt": "2025-01-21T19:10:40.813Z",
        "id": "678fed5bedd7c271963a7b23"
      },
      {
        "name": "blip.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/ff468425-5409-4ee4-a45d-b1805911a91b.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "678fed5bedd7c271963a7b24",
        "createdAt": "2025-01-21T19:10:40.813Z",
        "updatedAt": "2025-01-21T19:10:40.813Z",
        "id": "678fed5bedd7c271963a7b24"
      },
      {
        "name": "SimplePlayer.js",
        "content": "// a subclass of Tone.Player that adds a progress function to it.\n\nclass SimplePlayer extends Tone.Player {\n  constructor(...args) {\n    super(...args);\n    this.playbackRate = 1;\n  }\n\n  start(...args) {\n    // assuming args[0] is always time\n    this.startTime = Tone.now();\n    super.start(...args);\n  }\n\n  get duration() {\n    return this._buffer.duration;\n  }\n\n  currentTime() {\n    return Tone.now() - this.startTime;\n  }\n\n  progress() {\n    if (this.state == \"started\") {\n      return this.currentTime() / (this.duration / this.playbackRate);\n    } else {\n      return 0;\n    }\n  }\n\n  // disable setting playbackRate to anything other than 1\n  /*\n  set playbackRate(rate) {\n    if(rate != 1) throw new Error(\"Setting the playbackRate value to any value other than 1 is disabled in SimplePlayer. If required, use Tone.Player instead.\");\n  }\n  */\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "678fed5bedd7c271963a7b20",
        "createdAt": "2025-01-21T19:10:40.813Z",
        "updatedAt": "2025-01-21T19:10:40.813Z",
        "id": "678fed5bedd7c271963a7b20"
      },
      {
        "name": "tears.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/18486dde-b962-437f-a7ad-5b10e594e13c.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "678fed5bedd7c271963a7b27",
        "createdAt": "2025-01-21T19:10:40.813Z",
        "updatedAt": "2025-01-21T19:10:40.813Z",
        "id": "678fed5bedd7c271963a7b27"
      },
      {
        "name": "takerimba.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/3bcd2344-d4a7-436e-9de0-a47a4b8c406a.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "678fed5bedd7c271963a7b26",
        "createdAt": "2025-01-21T19:10:40.813Z",
        "updatedAt": "2025-01-21T19:10:40.813Z",
        "id": "678fed5bedd7c271963a7b26"
      },
      {
        "name": "pink.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b5a6bf29-6b95-43b0-b782-9d6cbd68a1ca.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "678fed5bedd7c271963a7b25",
        "createdAt": "2025-01-21T19:10:40.813Z",
        "updatedAt": "2025-01-21T19:10:40.813Z",
        "id": "678fed5bedd7c271963a7b25"
      }
    ],
    "createdAt": "2025-01-21T18:54:20.583Z",
    "updatedAt": "2025-01-21T19:10:40.813Z",
    "id": "W1LmWtUsj"
  },
  {
    "_id": "f9V6PEF5F",
    "name": "Code of Music 1.1 - sound progress",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "678fef738c0ebe5f7ff6d01f",
          "678fef738c0ebe5f7ff6d020",
          "678fef738c0ebe5f7ff6d021",
          "678fef738c0ebe5f7ff6d022",
          "678fef738c0ebe5f7ff6d024"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "678fef738c0ebe5f7ff6d01e",
        "createdAt": "2025-01-21T19:19:13.606Z",
        "updatedAt": "2025-01-21T19:19:13.606Z",
        "id": "678fef738c0ebe5f7ff6d01e"
      },
      {
        "name": "sketch.js",
        "content": "const sound = new SimplePlayer(\"sounds/blip.wav\");\nlet analyzer = new Tone.Waveform(256);\nsound.toDestination();\nsound.connect(analyzer);\n\nlet loaded = false;\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n}\n\nfunction draw() {\n  if (loaded) {\n    background(0);\n\n    let waveform = analyzer.getValue();\n    \n  } else {\n    background(220);\n    text(\"loading...\", 20, 20);\n  }\n  let x = map(sound.progress(), 0, 1, 0, width);\n  ellipse(x, height / 3, 100);\n}\n\nfunction mouseClicked() {\n  if (loaded) {\n    sound.start();\n  }\n}\n\nTone.loaded().then(function () {\n  loaded = true;\n});\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "678fef738c0ebe5f7ff6d021",
        "createdAt": "2025-01-21T19:19:13.606Z",
        "updatedAt": "2025-01-21T19:19:13.606Z",
        "id": "678fef738c0ebe5f7ff6d021"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html>\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/p5.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/addons/p5.dom.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <script src=\"SimplePlayer.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "678fef738c0ebe5f7ff6d020",
        "createdAt": "2025-01-21T19:19:13.606Z",
        "updatedAt": "2025-01-21T19:19:13.606Z",
        "id": "678fef738c0ebe5f7ff6d020"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "678fef738c0ebe5f7ff6d024",
        "createdAt": "2025-01-21T19:19:13.606Z",
        "updatedAt": "2025-01-21T19:19:13.606Z",
        "id": "678fef738c0ebe5f7ff6d024"
      },
      {
        "name": "sounds",
        "content": "",
        "children": [
          "678fef738c0ebe5f7ff6d023"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "678fef738c0ebe5f7ff6d022",
        "createdAt": "2025-01-21T19:19:13.606Z",
        "updatedAt": "2025-01-21T19:19:13.606Z",
        "id": "678fef738c0ebe5f7ff6d022"
      },
      {
        "name": "blip.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/150d89a2-4d10-46e5-9fc3-5aac60f32569.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "678fef738c0ebe5f7ff6d023",
        "createdAt": "2025-01-21T19:19:13.606Z",
        "updatedAt": "2025-01-21T19:19:13.606Z",
        "id": "678fef738c0ebe5f7ff6d023"
      },
      {
        "name": "SimplePlayer.js",
        "content": "// a subclass of Tone.Player that adds a progress function to it.\n// The only permitted playbackRate is 1.\n\nclass SimplePlayer extends Tone.Player {\n  constructor(...args){\n    super(...args);\n    this.playbackRate = 1;\n  }\n  \n  start(...args){\n    // assuming args[0] is always time\n    this.startTime = args[0] | Tone.now();\n    super.start(...args);\n  }\n    \n  get duration(){\n    return this._buffer.duration;\n  }\n  \n  currentTime(){\n    return Tone.now() - this.startTime;\n  }\n  \n  progress(){\n    if(this.state == \"started\"){\n       return this.currentTime() / this.duration; \n    }\n    else{\n      return 0;\n    }\n  }\n  \n\n  \n  // disable setting playbackRate to anything other than 1\n  set playbackRate(rate) {\n    if(rate != 1) throw new Error(\"Setting the playbackRate value to any value other than 1 is disabled in SimplePlayer. If required, use Tone.Player instead.\");\n  }\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "678fef738c0ebe5f7ff6d01f",
        "createdAt": "2025-01-21T19:19:13.606Z",
        "updatedAt": "2025-01-21T19:19:13.606Z",
        "id": "678fef738c0ebe5f7ff6d01f"
      }
    ],
    "createdAt": "2025-01-21T19:03:15.881Z",
    "updatedAt": "2025-01-21T19:19:13.606Z",
    "id": "f9V6PEF5F"
  },
  {
    "_id": "-EcOM1-Qn",
    "name": "Code of Music 3.3",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67b500b59ec5ebf24356885b",
          "67b500c59ec5ebf2435693d4",
          "67b3b84ad9c75e6c0df40e2f",
          "67b3b84ad9c75e6c0df40e30",
          "67b3b84ad9c75e6c0df40e36",
          "67b3b84ad9c75e6c0df40e37"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67b3b84ad9c75e6c0df40e2e",
        "createdAt": "2025-02-21T19:05:18.542Z",
        "updatedAt": "2025-02-21T19:05:18.542Z",
        "id": "67b3b84ad9c75e6c0df40e2e"
      },
      {
        "name": "sketch.js",
        "content": "let loaded = false;\nlet button;\n\nconst kit = new Tone.Players({\n  hh: \"samples/505/hh.mp3\",\n  hho: \"samples/505/hho.mp3\",\n  kick: \"samples/505/kick.mp3\",\n  snare: \"samples/505/snare.mp3\",\n});\nkit.toDestination();\n\n// set a default tempo speed using Tone.Transport:\nTone.Transport.bpm.value = 120;\n\n// Create a loop!\n// call the function playBeat every quarter note\n// syntax for notes are \"4n\", \"2n\", \"8n\", etc.\n// See documentation here: https://github.com/Tonejs/Tone.js/wiki/Time\nTone.Transport.scheduleRepeat(playBeat, \"8n\");\n\nTone.Transport.timeSignature = [16, 4];\n\nfunction playBeat(time) {\n  kit.player(\"kick\").start(time);\n}\n\nfunction setup() {\n  createCanvas(200, 200);\n  background(0);\n\n  button = createButton(\"play\");\n  button.mousePressed(togglePlay);\n  button.position(width / 8, height / 6);\n\n  slider = createSlider(80, 180);\n  slider.position(7, 60);\n  slider.size(80);\n}\n\nfunction togglePlay() {\n  if (Tone.Transport.state == \"started\") {\n    Tone.Transport.pause();\n    button.html(\"play\");\n  } else {\n    Tone.Transport.start();\n    button.html(\"pause\");\n  }\n}\n\nfunction draw() {\n  stroke(255);\n  line(width / 2, 0, width / 2, height);\n  line(0, height / 2, width, height / 2);\n\n  // update the tempo every frame\n  Tone.Transport.bpm.value = slider.value();\n}\n\nTone.loaded().then(function () {\n  loaded = true;\n  console.log(\"loaded!\");\n});\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67b3b84ad9c75e6c0df40e36",
        "createdAt": "2025-02-21T19:05:18.542Z",
        "updatedAt": "2025-02-21T19:05:18.542Z",
        "id": "67b3b84ad9c75e6c0df40e36"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b3b84ad9c75e6c0df40e2f",
        "createdAt": "2025-02-21T19:05:18.542Z",
        "updatedAt": "2025-02-21T19:05:18.542Z",
        "id": "67b3b84ad9c75e6c0df40e2f"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b3b84ad9c75e6c0df40e37",
        "createdAt": "2025-02-21T19:05:18.542Z",
        "updatedAt": "2025-02-21T19:05:18.542Z",
        "id": "67b3b84ad9c75e6c0df40e37"
      },
      {
        "name": "samples",
        "content": "",
        "children": [
          "67b3b84ad9c75e6c0df40e31"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67b3b84ad9c75e6c0df40e30",
        "createdAt": "2025-02-21T19:05:18.542Z",
        "updatedAt": "2025-02-21T19:05:18.542Z",
        "id": "67b3b84ad9c75e6c0df40e30"
      },
      {
        "name": "505",
        "content": "",
        "children": [
          "67b3b84ad9c75e6c0df40e32",
          "67b3b84ad9c75e6c0df40e33",
          "67b3b84ad9c75e6c0df40e34",
          "67b3b84ad9c75e6c0df40e35"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67b3b84ad9c75e6c0df40e31",
        "createdAt": "2025-02-21T19:05:18.542Z",
        "updatedAt": "2025-02-21T19:05:18.542Z",
        "id": "67b3b84ad9c75e6c0df40e31"
      },
      {
        "name": "kick.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/41d7381b-3ab4-4db8-bd6a-f484bb548e1b.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b3b84ad9c75e6c0df40e34",
        "createdAt": "2025-02-21T19:05:18.542Z",
        "updatedAt": "2025-02-21T19:05:18.542Z",
        "id": "67b3b84ad9c75e6c0df40e34"
      },
      {
        "name": "hh.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/a51af88c-3399-4164-ab0b-200b6fe5a53a.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b3b84ad9c75e6c0df40e32",
        "createdAt": "2025-02-21T19:05:18.542Z",
        "updatedAt": "2025-02-21T19:05:18.542Z",
        "id": "67b3b84ad9c75e6c0df40e32"
      },
      {
        "name": "snare.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/68f8c6e5-4ba1-401b-8618-f3379f4e3a53.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b3b84ad9c75e6c0df40e35",
        "createdAt": "2025-02-21T19:05:18.542Z",
        "updatedAt": "2025-02-21T19:05:18.542Z",
        "id": "67b3b84ad9c75e6c0df40e35"
      },
      {
        "name": "hho.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/3038dddd-3e20-486b-8e82-9ab5ddfe3ddb.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b3b84ad9c75e6c0df40e33",
        "createdAt": "2025-02-21T19:05:18.542Z",
        "updatedAt": "2025-02-21T19:05:18.542Z",
        "id": "67b3b84ad9c75e6c0df40e33"
      },
      {
        "name": "1.js",
        "content": "// // 1. make a drum pad\n// const kit = new Tone.Players({\n//   hh: \"samples/505/hh.mp3\",\n//   hho: \"samples/505/hho.mp3\",\n//   kick: \"samples/505/kick.mp3\",\n//   snare: \"samples/505/snare.mp3\",\n// });\n// kit.toDestination();\n\n// function mousePressed() {\n//   if (kit.loaded) {\n//     if (mouseX < width / 2 && mouseY < height / 2) {\n//       kit.player(\"kick\").start();\n//     }\n//     if (mouseX < width / 2 && mouseY > height / 2) {\n//       kit.player(\"hh\").start();\n//     }\n//     if (mouseX > width / 2 && mouseY < height / 2) {\n//       kit.player(\"hho\").start();\n//     }\n//     if (mouseX > width / 2 && mouseY > height / 2) {\n//       kit.player(\"snare\").start();\n//     }\n//   }\n// }\n\n// function setup() {\n//   createCanvas(200, 200);\n//   background(0);\n// }\n\n// function draw() {\n//   stroke(255);\n//   line(width / 2, 0, width / 2, height);\n//   line(0, height / 2, width, height / 2);\n// }\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b500b59ec5ebf24356885b",
        "createdAt": "2025-02-21T19:05:18.542Z",
        "updatedAt": "2025-02-21T19:05:18.542Z",
        "id": "67b500b59ec5ebf24356885b"
      },
      {
        "name": "2.js",
        "content": "// // 2. Make a beat, change its tempo\n// // create a loop to play the kick drum twice per second (120 bpm)\n// // add a button to toggle play/pause\n// // add a slider to change the tempo\n\n// let loaded = false;\n// let button;\n\n// const kit = new Tone.Players({\n//   hh: \"samples/505/hh.mp3\",\n//   hho: \"samples/505/hho.mp3\",\n//   kick: \"samples/505/kick.mp3\",\n//   snare: \"samples/505/snare.mp3\",\n// });\n// kit.toDestination();\n\n// // set a default tempo speed using Tone.Transport:\n// Tone.Transport.bpm.value = 120;\n\n// // Create a loop!\n// // call the function playBeat every quarter note\n// // syntax for notes are \"4n\", \"2n\", \"8n\", etc.\n// // See documentation here: https://github.com/Tonejs/Tone.js/wiki/Time\n// Tone.Transport.scheduleRepeat(playBeat, \"4n\");\n\n// function playBeat(time) {\n//   kit.player(\"kick\").start(time);\n// }\n\n// function setup() {\n//   createCanvas(200, 200);\n//   background(0);\n\n//   button = createButton(\"play\");\n//   button.mousePressed(togglePlay);\n//   button.position(width / 8, height / 6);\n\n//   slider = createSlider(80, 180);\n//   slider.position(width / 2, height / 2);\n//   slider.size(80);\n// }\n\n// function togglePlay() {\n//   if (Tone.Transport.state == \"started\") {\n//     Tone.Transport.pause();\n//     button.html(\"play\");\n//   } else {\n//     Tone.Transport.start();\n//     button.html(\"pause\");\n//   }\n// }\n\n// function draw() {\n//   // stroke(255);\n//   // line(width / 2, 0, width / 2, height);\n//   // line(0, height / 2, width, height / 2);\n\n//   // update the tempo every frame\n//   Tone.Transport.bpm.value = slider.value();\n// }\n\n// Tone.loaded().then(function () {\n//   loaded = true;\n//   console.log(\"loaded!\");\n// });\n\n// 2. Make a beat, change its tempo\n// create a loop to play the kick drum twice per second (120 bpm)\n// add a button to toggle play/pause\n// add a slider to change the tempo\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b500c59ec5ebf2435693d4",
        "createdAt": "2025-02-21T19:05:18.542Z",
        "updatedAt": "2025-02-21T19:05:18.542Z",
        "id": "67b500c59ec5ebf2435693d4"
      }
    ],
    "createdAt": "2025-02-17T22:29:31.353Z",
    "updatedAt": "2025-02-21T19:05:18.542Z",
    "id": "-EcOM1-Qn"
  },
  {
    "_id": "_DEc6Cl0f",
    "name": "copied particle system minus lines",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6734df3a51444763b0cd538f",
          "6734df3a51444763b0cd538e",
          "6734df3a51444763b0cd5390"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6734df3a51444763b0cd5391",
        "createdAt": "2024-11-13T17:19:48.718Z",
        "updatedAt": "2024-11-13T17:19:48.718Z",
        "id": "6734df3a51444763b0cd5391"
      },
      {
        "name": "sketch.js",
        "content": "const particles = [];\n\nfunction setup() {\n    createCanvas(window.innerWidth, window.innerHeight);\n    \n    const particlesLength = Math.floor(window.innerWidth / 9);\n    \n    for (let i = 0; i < particlesLength; i++) {\n        particles.push(new Particle());     \n    }\n}\n\nfunction draw() {\n    background(0);\n    particles.forEach((p, index) => {\n        p.update();\n        p.draw();\n        // p.checkParticles(particles.slice(index));\n        p.repel();\n    })\n}\n\nfunction windowResized() {\n    resizeCanvas(windowWidth, windowHeight);\n  }\n\nclass Particle {\n    constructor() {\n        //POSITION\n        this.pos = createVector(random(width), random(height));\n        //VELOCITY\n        this.vel = createVector(random(-1, 1), random(-1, 1));\n        //SIZE\n        this.size = 10;\n\n        this.r = random(0, 255);\n        this.g = random(0, 255);\n        this.b = random(0, 255);\n    }\n\n    //Update movement by adding velocity\n    update(){\n        this.pos.add(this.vel);\n        this.edges();\n    }\n\n    //draw single particle\n    draw() {\n        noStroke();\n        fill(this.r,this.g, this.b)\n        circle(this.pos.x, this.pos.y, this.size);\n    }\n\n    //Detect edges\n    edges() {\n        if(this.pos.x < 0 || this.pos.x > width) {\n            this.vel.x *= -1;\n        }\n        if(this.pos.y < 0 || this.pos.y > height) {\n            this.vel.y *= -1;\n        }\n    }\n\n    // Connect particles\n    // checkParticles(particles) {\n    //     particles.forEach(particle => {\n    //         const d = dist(this.pos.x, this.pos.y, particle.pos.x, particle.pos.y);\n    //         if (d < 120) {\n    //             stroke(this.r,this.g, this.b);\n    //             line(this.pos.x, this.pos.y, particle.pos.x, particle.pos.y)\n    //         }\n    //     });\n    // };\n\n    repel() {\n        this.pos.x = constrain(this.pos.x, 0, width);\n        this.pos.y = constrain(this.pos.y, 0, height);\n        let distance = dist(this.pos.x, this.pos.y, mouseX, mouseY);\n        let mouse = createVector(mouseX, mouseY);\n        let difference = p5.Vector.sub(mouse, this.pos);\n        difference.setMag(1);\n        //If the mouse comes near a particle, it moves away\n        if (distance < 400) {\n          this.pos.sub(difference);\n        }\n      }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6734df3a51444763b0cd538e",
        "createdAt": "2024-11-13T17:19:48.718Z",
        "updatedAt": "2024-11-13T17:19:48.718Z",
        "id": "6734df3a51444763b0cd538e"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6734df3a51444763b0cd538f",
        "createdAt": "2024-11-13T17:19:48.718Z",
        "updatedAt": "2024-11-13T17:19:48.718Z",
        "id": "6734df3a51444763b0cd538f"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6734df3a51444763b0cd5390",
        "createdAt": "2024-11-13T17:19:48.718Z",
        "updatedAt": "2024-11-13T17:19:48.718Z",
        "id": "6734df3a51444763b0cd5390"
      }
    ],
    "updatedAt": "2024-11-13T17:19:48.718Z",
    "createdAt": "2024-11-13T17:19:48.718Z",
    "id": "_DEc6Cl0f"
  },
  {
    "_id": "-gAa9pEuZ",
    "name": "drum beat starter",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67ab90730978d78ae75cfe93",
          "67ab90730978d78ae75cfe94",
          "67ab90730978d78ae75cfe9a",
          "67ab90730978d78ae75cfe9b"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ab90730978d78ae75cfe92",
        "createdAt": "2025-02-11T18:01:31.744Z",
        "updatedAt": "2025-02-11T18:01:31.744Z",
        "id": "67ab90730978d78ae75cfe92"
      },
      {
        "name": "sketch.js",
        "content": "\nconst kit = new Tone.Players({\n  \"kick\": \"samples/505/kick.mp3\", \n  \"snare\": \"samples/505/snare.mp3\"\n});\nkit.toDestination();\n\nfunction setup(){\n  createCanvas(200, 200); \n  background(0);\n}\n\nfunction draw(){\n  \n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67ab90730978d78ae75cfe9a",
        "createdAt": "2025-02-11T18:01:31.744Z",
        "updatedAt": "2025-02-11T18:01:31.744Z",
        "id": "67ab90730978d78ae75cfe9a"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab90730978d78ae75cfe93",
        "createdAt": "2025-02-11T18:01:31.744Z",
        "updatedAt": "2025-02-11T18:01:31.744Z",
        "id": "67ab90730978d78ae75cfe93"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab90730978d78ae75cfe9b",
        "createdAt": "2025-02-11T18:01:31.744Z",
        "updatedAt": "2025-02-11T18:01:31.744Z",
        "id": "67ab90730978d78ae75cfe9b"
      },
      {
        "name": "samples",
        "content": "",
        "children": [
          "67ab90730978d78ae75cfe95"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ab90730978d78ae75cfe94",
        "createdAt": "2025-02-11T18:01:31.744Z",
        "updatedAt": "2025-02-11T18:01:31.744Z",
        "id": "67ab90730978d78ae75cfe94"
      },
      {
        "name": "505",
        "content": "",
        "children": [
          "67ab90730978d78ae75cfe96",
          "67ab90730978d78ae75cfe97",
          "67ab90730978d78ae75cfe98",
          "67ab90730978d78ae75cfe99"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ab90730978d78ae75cfe95",
        "createdAt": "2025-02-11T18:01:31.744Z",
        "updatedAt": "2025-02-11T18:01:31.744Z",
        "id": "67ab90730978d78ae75cfe95"
      },
      {
        "name": "kick.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b88395b0-1fc9-4a5c-a41e-fe363aa2c5dd.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab90730978d78ae75cfe98",
        "createdAt": "2025-02-11T18:01:31.744Z",
        "updatedAt": "2025-02-11T18:01:31.744Z",
        "id": "67ab90730978d78ae75cfe98"
      },
      {
        "name": "hh.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/31593d34-0fc5-4ac7-af1f-95750ca4580f.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab90730978d78ae75cfe96",
        "createdAt": "2025-02-11T18:01:31.744Z",
        "updatedAt": "2025-02-11T18:01:31.744Z",
        "id": "67ab90730978d78ae75cfe96"
      },
      {
        "name": "snare.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/bda4293d-7cd7-4af5-aee8-14af3f2febaf.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab90730978d78ae75cfe99",
        "createdAt": "2025-02-11T18:01:31.744Z",
        "updatedAt": "2025-02-11T18:01:31.744Z",
        "id": "67ab90730978d78ae75cfe99"
      },
      {
        "name": "hho.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/49193427-9b07-4abe-93c7-5e7599f07616.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab90730978d78ae75cfe97",
        "createdAt": "2025-02-11T18:01:31.744Z",
        "updatedAt": "2025-02-11T18:01:31.744Z",
        "id": "67ab90730978d78ae75cfe97"
      }
    ],
    "createdAt": "2025-02-11T18:01:24.447Z",
    "updatedAt": "2025-02-11T18:01:31.744Z",
    "id": "-gAa9pEuZ"
  },
  {
    "_id": "cKln7ToVL",
    "name": "drum beat starter copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67ab908d0978d78ae75cfe9d",
          "67ab908d0978d78ae75cfe9e",
          "67ab908d0978d78ae75cfea4",
          "67ab908d0978d78ae75cfea5"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ab908d0978d78ae75cfe9c",
        "createdAt": "2025-02-11T21:29:18.664Z",
        "updatedAt": "2025-02-11T21:29:18.664Z",
        "id": "67ab908d0978d78ae75cfe9c"
      },
      {
        "name": "sketch.js",
        "content": "// can load multiple sounds in the same constructor and then label them using .Players\n\n// **THINK: maybe changing volume/another parameter as the mouse moves away from the center\n\nconst kit = new Tone.Players({\n  kick: \"samples/505/kick.mp3\",\n  snare: \"samples/505/snare.mp3\",\n  hh: \"samples/505/hh.mp3\",\n  hho: \"samples/505/hho.mp3\",\n});\nkit.toDestination();\n\nlet bpm = 120;\nlet interval = 60 / bpm;\n\nlet count = -1;\nlet louder = 10;\nlet softer = -20;\n\nlet beat;\nlet measure;\nlet beatsPerMeasure = 16;\n\n// Tone.Loop(callback function, interval)\n// interval controls the pulse\nconst repeatEvent = new Tone.Loop(playDrum, interval);\nrepeatEvent.start(0); // putting the loop at the beginning of the timeline\n\n\n\nfunction playBeat(time) {\n  kit.player(\"kick\").start();\n  kit.player(\"snare\").start();\n\n  if (beat === 15) {\n    kit.player(\"kick\").volume.rampTo(louder);\n  } else {\n    kit.player(\"kick\").volume.rampTo(softer);\n  }\n  count++; // whenever drum plays, add to the count\n  beat = count % beatsPerMeasure; // will always give a number from 0-3\n  measure = floor(count/beatsPerMeasure);\n  console.log(beat, measure, beatsPerMeasure);\n}\n\nfunction keyPressed() {\n  // actually starts the \"playhead\"\n  Tone.Transport.start();\n}\n\nfunction setup() {\n  createCanvas(200, 200);\n  background(0);\n}\n\nfunction draw() {}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67ab908d0978d78ae75cfea4",
        "createdAt": "2025-02-11T21:29:18.664Z",
        "updatedAt": "2025-02-11T21:29:18.664Z",
        "id": "67ab908d0978d78ae75cfea4"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab908d0978d78ae75cfe9d",
        "createdAt": "2025-02-11T21:29:18.664Z",
        "updatedAt": "2025-02-11T21:29:18.664Z",
        "id": "67ab908d0978d78ae75cfe9d"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab908d0978d78ae75cfea5",
        "createdAt": "2025-02-11T21:29:18.664Z",
        "updatedAt": "2025-02-11T21:29:18.664Z",
        "id": "67ab908d0978d78ae75cfea5"
      },
      {
        "name": "samples",
        "content": "",
        "children": [
          "67ab908d0978d78ae75cfe9f"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ab908d0978d78ae75cfe9e",
        "createdAt": "2025-02-11T21:29:18.664Z",
        "updatedAt": "2025-02-11T21:29:18.664Z",
        "id": "67ab908d0978d78ae75cfe9e"
      },
      {
        "name": "505",
        "content": "",
        "children": [
          "67ab908d0978d78ae75cfea0",
          "67ab908d0978d78ae75cfea1",
          "67ab908d0978d78ae75cfea2",
          "67ab908d0978d78ae75cfea3"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ab908d0978d78ae75cfe9f",
        "createdAt": "2025-02-11T21:29:18.664Z",
        "updatedAt": "2025-02-11T21:29:18.664Z",
        "id": "67ab908d0978d78ae75cfe9f"
      },
      {
        "name": "kick.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/67f7c3d2-39a0-43df-b23d-13828315c5a3.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab908d0978d78ae75cfea2",
        "createdAt": "2025-02-11T21:29:18.664Z",
        "updatedAt": "2025-02-11T21:29:18.664Z",
        "id": "67ab908d0978d78ae75cfea2"
      },
      {
        "name": "hh.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f0553df8-99c3-4b41-9247-5680077cb1a5.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab908d0978d78ae75cfea0",
        "createdAt": "2025-02-11T21:29:18.664Z",
        "updatedAt": "2025-02-11T21:29:18.664Z",
        "id": "67ab908d0978d78ae75cfea0"
      },
      {
        "name": "snare.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b0d0f719-05d0-429d-924c-2f827af6ce97.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab908d0978d78ae75cfea3",
        "createdAt": "2025-02-11T21:29:18.664Z",
        "updatedAt": "2025-02-11T21:29:18.664Z",
        "id": "67ab908d0978d78ae75cfea3"
      },
      {
        "name": "hho.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/72605eba-fa8c-4af6-89d6-b95ba4e3d2c6.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab908d0978d78ae75cfea1",
        "createdAt": "2025-02-11T21:29:18.664Z",
        "updatedAt": "2025-02-11T21:29:18.664Z",
        "id": "67ab908d0978d78ae75cfea1"
      }
    ],
    "createdAt": "2025-02-11T18:01:49.629Z",
    "updatedAt": "2025-02-11T21:29:18.664Z",
    "id": "cKln7ToVL"
  },
  {
    "_id": "JSf_0XT5t",
    "name": "Drum Kit",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67b8cb743a90c355f0cab605",
          "67b8cb743a90c355f0cab60c",
          "67b8cb743a90c355f0cab60d",
          "67b8cb743a90c355f0cab60e",
          "67b8cb743a90c355f0cab60f",
          "67ba347c3a548eceff844837",
          "67b8cb743a90c355f0cab610"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67b8cb743a90c355f0cab604",
        "createdAt": "2025-02-25T01:09:18.490Z",
        "updatedAt": "2025-02-25T01:09:18.490Z",
        "id": "67b8cb743a90c355f0cab604"
      },
      {
        "name": "sketch.js",
        "content": "// over the weekend:\n// by sunday: prisha make sound class and instrument class\n// meghna research timing and find the sounds (i.e. 1. figure out how to do varying button lengths per sound, 2. figure out timing of carnatic music and 16, 4, etc. 3. figure out how that coordinates together with multiple samples (are they all the same time ? ))\n// on monday: meghna show prisha research and sounds integrated with code\n\n//preload everything (load sounds and buffer)>> when loaded, buttons become cute >> instrument button click >> Sound Class >> Instrument Class>> button create (based on sound) - all called in draw loop\n\n// store instances of instrument class in an instruments array\n// should instrument class and tone.player be merged?\n\nconst tabla = new Tone.Players({\n  num: \"Tabla/NUM.wav\",\n  ta: \"Tabla/TA.wav\",\n  tha: \"Tabla/THA.wav\",\n  thi: \"Tabla/THI.wav\",\n  thom: \"Tabla/THOM.wav\",\n});\n\n// replace tabla with mruthangam folder\nconst mruthangam = new Tone.Players({\n  num: \"Tabla/NUM.wav\",\n  ta: \"Tabla/TA.wav\",\n  tha: \"Tabla/THA.wav\",\n  thi: \"Tabla/THI.wav\",\n  thom: \"Tabla/THOM.wav\",\n});\n\n//\nconst kartal = new Tone.Player(\"kartal.mp3\");\nconst sitar = new Tone.Player(\"sitar.mp3\");\n\nlet instruments = [tabla, mruthangam, kartal, sitar];\nlet instrumentNames = [\"tabla\", \"mruthangam\", \"kartal\", sitar]\n\nlet cells = [];\n\n// let sounds = [\n//   \"mruthangam\",\n//   \"kartal\",\n//   \"tabla\",\n//   \"dhol\",\n//   \"harmonium\",\n//   \"sitar\",\n//   \"voice\",\n//   \"something\",\n//   \"something2\",\n// ]; //list of sounds available, depending on number of sounds, adjust the formula for making the buttons (in setup)\n//can adjust this array so that it has other attributes as well, like each instrument is a list instead of one index, list of lists : [ [sound filename, display name for button, selected/unselected (true or false), south/north, [list of sounds associated]]]\n\n//in the Sound class, pass in from the button clicked, then pass in the file name\n\n//Instrument Class\n//per instrument, what sounds need to get loaded\n\n// An array of buttons\nvar buttons = [];\nlet countinstruments = 0;\nvar clicks = []; //list of buttons\nlet clearIt;\nlet selectedInstruments = [];\n\nlet started = 0;\n\n////// SOUND CODE. . . ...\n\n// create tone.players\n// load in sounds\n// instrument folder for each sound\n// buttons for each instrument\n// click button to make x sounds per instrument appear on side\n// concat sounds to the sounds array on the side?\n// set tempo - connect to a slider\n// schedule repeat - call a playback function\n// playback function - play the input loop\n// sound class\n// duration, velocity\n// array of sounds\n\nTone.Transport.bpm.value = 120;\n\n////////// DISPLAY CODE....\n\nfunction preload() {\n  img = loadImage(\"india-outline.jpg\");\n}\n\nfunction setup() {\n  createCanvas(700, 700);\n\n  //Create drum loop buttons\n  // A loop to evenly space out the buttons along the window\n  for (let y = 0; y < 10; y++) {\n    buttons[y] = [];\n    for (let x = 0; x < 16; x++) {\n      buttons[y][x] = new Button(\n        80 + (x * width) / 20,\n        (y * width) / 20 + height / 2,\n        width / 20,\n        width / 20\n      ); //Calling the BUTTON class!!\n    }\n  }\n\n  //make the buttons for the instrument options\n  for (a = 0; a < instruments.length; a++) {\n    clicks[a] = createButton(instruments[a], instruments[a]);\n    if (a * 100 < width) {\n      clicks[a].position(a * 100, height / 2 - height / 15);\n    } else {\n      clicks[a].position((a - 7) * 100 + 50, height / 2 - height / 25);\n    }\n    clicks[a].value(instruments[a]);\n    clicks[a].mousePressed(chooseInstrument);\n  }\n  //make a Clear button\n  let clearIt = createButton(\"Clear\", 0);\n  clearIt.position(width - 50, 10);\n  clearIt.mousePressed(clearInstruments);\n}\n\nfunction draw() {\n  background(220);\n\n  // Draw buttons\n  for (let y = 0; y < buttons.length; y++) {\n    for (let x = 0; x < buttons[y].length; x++) {\n      buttons[y][x].display();\n    }\n  }\n\n  // Display active sound objects\n  for (let sound of cells) {\n    sound.display();\n  }\n\n  // for (var i = 0; i < buttons.length; i++) {\n  //   buttons[i].display();\n\n  //lines to segment four count\n  push();\n  strokeWeight(2);\n  stroke(10, 0, 100);\n  line(\n    80 + (4 * width) / 20,\n    height / 2,\n    80 + (4 * width) / 20,\n    (16 * height) / 2\n  );\n  line(\n    80 + (8 * width) / 20,\n    height / 2,\n    80 + (8 * width) / 20,\n    (16 * height) / 2\n  );\n  line(\n    80 + (12 * width) / 20,\n    height / 2,\n    80 + (12 * width) / 20,\n    (16 * height) / 2\n  );\n  pop();\n\n  //\n  push();\n  strokeWeight(3);\n  //Label each drum pad line\n  for (\n    let instrument = 0;\n    instrument < selectedInstruments.length;\n    instrument++\n  ) {\n    text(\n      selectedInstruments[instrument],\n      5,\n      (instrument * width) / 20 + width / 40 + height / 2\n    );\n  }\n  pop();\n\n  // for (let y = 0; y < 10; y++ ){\n  // for (let x = 0; x < 16; x++ ){\n  // square(x*width/20 + 4*width/20, y*width/20 +height/2, width/20);\n\n  // }}\n\n  //}\n}\n\nfunction mousePressed() {\n  for (let y = 0; y < buttons.length; y++) {\n    for (let x = 0; x < buttons[y].length; x++) {\n      buttons[y][x].click(mouseX, mouseY);\n    }\n  }\n}\n\nfunction chooseInstrument() {\n  started = 1;\n  countinstruments++;\n  let label = append(selectedInstruments, this.value());\n  console.log(this.value());\n}\n\nfunction clearInstruments() {\n  started = 0;\n  countinstruments = 0;\n  selectedInstruments = [];\n  clear();\n  for (let y = 0; y < 10; y++) {\n    buttons[y] = [];\n    for (let x = 0; x < 16; x++) {\n      buttons[y][x] = new Button(\n        80 + (x * width) / 20,\n        (y * width) / 20 + height / 2,\n        width / 20,\n        width / 20\n      );\n      console.log(buttons[y]);\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67b8cb743a90c355f0cab60f",
        "createdAt": "2025-02-25T01:09:18.490Z",
        "updatedAt": "2025-02-25T01:09:18.490Z",
        "id": "67b8cb743a90c355f0cab60f"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    \n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n<!--     \n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script> -->\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sound.js\"></script>\n    <script src=\"button.js\"></script>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b8cb743a90c355f0cab60d",
        "createdAt": "2025-02-25T01:09:18.490Z",
        "updatedAt": "2025-02-25T01:09:18.490Z",
        "id": "67b8cb743a90c355f0cab60d"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b8cb743a90c355f0cab610",
        "createdAt": "2025-02-25T01:09:18.490Z",
        "updatedAt": "2025-02-25T01:09:18.490Z",
        "id": "67b8cb743a90c355f0cab610"
      },
      {
        "name": "Tabla",
        "content": "",
        "children": [
          "67b8cb743a90c355f0cab606",
          "67b8cb743a90c355f0cab607",
          "67b8cb743a90c355f0cab608",
          "67b8cb743a90c355f0cab609",
          "67b8cb743a90c355f0cab60a",
          "67b8cb743a90c355f0cab60b"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67b8cb743a90c355f0cab605",
        "createdAt": "2025-02-25T01:09:18.490Z",
        "updatedAt": "2025-02-25T01:09:18.490Z",
        "id": "67b8cb743a90c355f0cab605"
      },
      {
        "name": "NUM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/5965d4c0-dcd0-4413-aca8-c815b744a324.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b8cb743a90c355f0cab606",
        "createdAt": "2025-02-25T01:09:18.490Z",
        "updatedAt": "2025-02-25T01:09:18.490Z",
        "id": "67b8cb743a90c355f0cab606"
      },
      {
        "name": "TA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/1e0cbc2b-a79a-4318-99d6-e28dfbe918e5.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b8cb743a90c355f0cab607",
        "createdAt": "2025-02-25T01:09:18.490Z",
        "updatedAt": "2025-02-25T01:09:18.490Z",
        "id": "67b8cb743a90c355f0cab607"
      },
      {
        "name": "THA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/d742f81d-ae20-4351-b324-65514769ac38.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b8cb743a90c355f0cab608",
        "createdAt": "2025-02-25T01:09:18.490Z",
        "updatedAt": "2025-02-25T01:09:18.490Z",
        "id": "67b8cb743a90c355f0cab608"
      },
      {
        "name": "THAM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/101a4962-e4db-4336-8855-5f6bbbc8bf62.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b8cb743a90c355f0cab609",
        "createdAt": "2025-02-25T01:09:18.490Z",
        "updatedAt": "2025-02-25T01:09:18.490Z",
        "id": "67b8cb743a90c355f0cab609"
      },
      {
        "name": "THI.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/65d049a0-4515-4a9c-960d-de4e2715eeb0.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b8cb743a90c355f0cab60a",
        "createdAt": "2025-02-25T01:09:18.490Z",
        "updatedAt": "2025-02-25T01:09:18.490Z",
        "id": "67b8cb743a90c355f0cab60a"
      },
      {
        "name": "THOM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/059d76d2-5f34-4747-999d-d980d17e6bec.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b8cb743a90c355f0cab60b",
        "createdAt": "2025-02-25T01:09:18.490Z",
        "updatedAt": "2025-02-25T01:09:18.490Z",
        "id": "67b8cb743a90c355f0cab60b"
      },
      {
        "name": "button.js",
        "content": "// Learning Processing\n// Daniel Shiffman\n// http://www.learningprocessing.com\n//https://editor.p5js.org/yining/sketches/ByLFGX5R\n\n// Exercise 9-8: Write a Button class (see Example 5-5 for a non-object-oriented button). The button \n// class should register when a mouse is pressed over the button and change color.  Create button objects \n// of different sizes and locations using an array. Before writing the main program, sketch out the \n// Button class. Assume the button is off  when it first appears.  \n\n// Constructor initializes all variables\nclass Button {\n  constructor(x, y, w, h, row, col, bhol) {\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.on = false;\n    this.row = row; // Tracks the instrument row\n    this.col = col; // Tracks the step in the sequence\n    this.bhol = bhol;\n  }\n\n  click(mx, my) {\n    if (mx > this.x && mx < this.x + this.w && my > this.y && my < this.y + this.h) {\n      this.on = !this.on;\n      if (this.on && selectedInstrument) {\n        let newSound = new Sound(selectedInstrument, this.bhol, this.row);\n        activeSounds.push(newSound);\n        newSound.play();\n      }\n    }\n  }\n\n  display() {\n    stroke(10);\n    fill(this.on ? color(0, 0, 140) : color(220, 220, 220));\n    rect(this.x, this.y, this.w, this.h);\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b8cb743a90c355f0cab60c",
        "createdAt": "2025-02-25T01:09:18.490Z",
        "updatedAt": "2025-02-25T01:09:18.490Z",
        "id": "67b8cb743a90c355f0cab60c"
      },
      {
        "name": "india-outline.jpg",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/fadbe558-ce61-41f2-b1f9-04b4e6b17767.jpg",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b8cb743a90c355f0cab60e",
        "createdAt": "2025-02-25T01:09:18.490Z",
        "updatedAt": "2025-02-25T01:09:18.490Z",
        "id": "67b8cb743a90c355f0cab60e"
      },
      {
        "name": "sound.js",
        "content": "// Sound Class\nclass Sound {\n  constructor(instrument, bhol, row) {\n    this.instrument = instrument;\n    this.bhol = bhol;\n    this.x = 50;\n    this.y = row * 40 + height / 2;\n    this.size = 20;\n  }\n\n  display() {\n    fill(0, 200, 100);\n    rect(this.x, this.y, this.size, this.size);\n  }\n\n  play() {\n    if (!loaded) {\n      console.log(\"Waiting for Tone.js to load...\");\n      return;\n    }\n    if (this.instrument && this.instrument.has(this.bhol)) {\n      this.instrument.player(this.bhol).start();\n    }\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba347c3a548eceff844837",
        "createdAt": "2025-02-25T01:09:18.490Z",
        "updatedAt": "2025-02-25T01:09:18.490Z",
        "id": "67ba347c3a548eceff844837"
      }
    ],
    "createdAt": "2025-02-21T18:52:37.422Z",
    "updatedAt": "2025-02-25T01:09:18.490Z",
    "id": "JSf_0XT5t"
  },
  {
    "_id": "U3YfPPb3t",
    "name": "Drum Kit [6] buttons copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67be074109fc9389c10bc64f",
          "67be074109fc9389c10bc656",
          "67be074109fc9389c10bc65d",
          "67be074109fc9389c10bc65e",
          "67be074109fc9389c10bc65f",
          "67be07733af9dedd04bcee6f",
          "67be07a23af9dedd04bcfae2",
          "67be074109fc9389c10bc660",
          "67be074109fc9389c10bc661",
          "67be074109fc9389c10bc662"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc64e",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc64e"
      },
      {
        "name": "sketch.js",
        "content": "let loaded = false;\nlet img; // for the image\nlet transportStarted = false; // flag to start the Transport once\nlet started = 0;\nlet drumSelect = 0; //1 = tabla, 2 = mruthangam\nlet countBeats = 0; //counting squares\n\n// Dynamic grid configuration:\nconst numRows = 14; // change this value to alter the number of rows\nconst numCols = 16; // change this value to alter the number of columns\n\n// Define instruments with their sound mappings and connect them to destination.\nconst tabla = new Tone.Players({\n  num: \"Tabla/NUM.wav\",\n  ta: \"Tabla/TA.wav\",\n  tha: \"Tabla/THA.wav\",\n  tham: \"Tabla/THAM.wav\",\n  thi: \"Tabla/THI.wav\",\n  thom: \"Tabla/THOM.wav\",\n}).toDestination();\n\nconst mruthangam = new Tone.Players({\n  num: \"Mruthangam/NUM.wav\",\n  ta: \"Mruthangam/TA.wav\",\n  tha: \"Mruthangam/THA.wav\",\n  thi: \"Mruthangam/THI.wav\",\n  thom: \"Mruthangam/THOM.wav\",\n}).toDestination();\n\nconsole.log(tabla);\nconsole.log(mruthangam);\n\nconst kartal = new Tone.Player(\"kartal.m4a\").toDestination();\nconst sitar = new Tone.Player(\"sitar.m4a\").toDestination();\n\n\nlet waveform = new Tone.Waveform(1024); // Analyze 1024 samples of audio data\n\n\n// Hardcoded labels for each row (length should match numRows).\nconst labels = [\n  \"tabla num\",\n  \"tabla ta\",\n  \"tabla tha\",\n  \"tabla tham\",\n  \"tabla thi\",\n  \"tabla thom\",\n  \"mruthangam num\",\n  \"mruthangam ta\",\n  \"mruthangam tha\",\n  \"mruthangam tham\",\n  \"mruthangam thi\",\n  \"mruthangam thom\",\n  \"kartal\",\n  \"sitar\",\n];\n\nlet buttons = []; // 2D array for grid buttons\n\n// Set BPM and adjust time signature so that the number of beats equals numCols.\n// (If you want each column to be a beat, set the beats per measure to numCols.)\nTone.Transport.bpm.value = 180;\nTone.Transport.timeSignature = [16, 4];\n\nfunction preload() {\n  img = loadImage(\"india-outline.jpg\");\n}\n\nfunction setup() {\n  \n  createCanvas(1050, 600);\n  \n\n  // Define grid parameters: the grid occupies the left 2/3 of the canvas.\n  let gridX = 0;\n  let gridY = 0;\n  let gridW = (2 / 3) * width;\n  let gridH = height;\n\n  // Calculate cell dimensions based on dynamic rows/cols.\n  let cellW = gridW / numCols;\n  let cellH = gridH / numRows;\n\n  // Create grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    buttons[r] = [];\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c] = new Button(\n        gridX + c * cellW +2.5*cellW,\n        gridY + r * cellH,\n        cellW,\n        cellH,\n        r, // row index\n        c, // column index\n        labels[r] // label for that row (e.g., \"tabla num\")\n      );\n    }\n  }\n\n  // Schedule the repeating loop.\n  // We trigger playBeat every quarter note (\"4n\").\n  Tone.Transport.scheduleRepeat(playBeat, \"8n\");\n\n  // Create Clear button.\n  let clearIt = createButton(\"Clear\", \"0\");\n  clearIt.position(width - 50, 10);\n  clearIt.mousePressed(clearInstruments);\n  \n \n    // Buttons to select instruments\n  let tablaSelect = createButton(\"Tabla\");\n  tablaSelect.position(0, height);\n  tablaSelect.mousePressed(() => chooseInstrument(1)); // Pass 1 for Tabla\n\n  let mruthSelect = createButton(\"Mruthangam\");\n  mruthSelect.position(60, height);\n  mruthSelect.mousePressed(() => chooseInstrument(2)); // Pass 2 for Mruthangam\n}\n\nfunction draw() {\n  \n  \n  background(240);\n\n  // Define grid parameters (must match setup).\n  let gridX = 0;\n  let gridY = 0;\n  let gridW = (2 / 3) * width;\n  let gridH = height;\n  let cellW = gridW / numCols;\n  let cellH = gridH / numRows;\n\n  // Draw grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].display();\n    }\n  }\n\n  // Draw vertical segmentation lines (every 4 columns, if applicable).\n  push();\n  strokeWeight(2);\n  stroke(10, 0, 100);\n  for (let i = 1; i < numCols; i++) {\n    if (i % 4 === 0) {\n      line(gridX + i * cellW+2.5*cellW, gridY, gridX + i * cellW+2.5*cellW, gridY + gridH);\n    }\n  }\n  pop();\n\n  // Highlight current step.\n    if (started ==1){\n  blendMode(ADD);\n  push();\n  noStroke();\n  fill(255, 30);\n  // Get the current beat from Tone.Transport.position.\n  // Tone.Transport.position is in \"bars:beats:sixteenths\" format.\n  let posParts = Tone.Transport.position.split(\":\");\n  // Use the \"beats\" part and take modulo numCols in case the measure has rolled over.\n  let beatIndex = parseInt(posParts[1]) % numCols;\n  rect(beatIndex * cellW+2.5*cellW, gridY, cellW, gridH);\n  pop();\n    }\n  // Draw the hardcoded labels along the left side of the grid.\n  blendMode(BLEND);\n  push();\n  noStroke();\n  fill(0);\n  for (let r = 0; r < numRows; r++) {\n    text(labels[r], 5, gridY + r * cellH + cellH / 2);\n  }\n  pop();\n\n  // Draw the image in the right 1/3 of the canvas.\n  let imgX = (2 / 3) * width;\n  let imgW = width - imgX;\n  image(img, imgX + 2.5*cellW, 0, imgW+2.5*cellW, height);\n  \n  //Draw Circles\n  push();\n  noFill();\n \nfor (let i = 1; i == countBeats; i++) {\n  // // //      // Get the current beat from Tone.Transport.position.\n  // // // // Tone.Transport.position is in \"bars:beats:sixteenths\" format.\n  //   let posParts = Tone.Transport.position.split(\":\");\n  // // // // Use the \"beats\" part and take modulo numCols in case the measure has rolled over.\n  //   let beatIndex = parseInt(posParts[1]) % numCols;\n // for (let b = 0; b < beatIndex; b++){\n    console.log(countBeats);\n    circle(imgX+ imgX/4+ 2.5*cellW, height/2,i*5);\n  }\n//}\n  pop();\n}\n\nfunction mousePressed() {\n  // Start the Transport on the first mouse press.\n  \n  if (!transportStarted) {\n    Tone.start();\n    Tone.Transport.start();\n    transportStarted = true;\n    console.log(\"Transport started\");\n    started = 1;\n  }\n  // Check for clicks on grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].click(mouseX, mouseY);\n      started = 1;\n      \n    }\n  }\n}\n\nfunction clearInstruments() {\n  // Reset all buttons.\n  started = 0;\n  countBeats = 0;\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].on = false;\n    }\n  }\n}\n\n// Returns the instrument corresponding to a given row.\nfunction getInstrumentForRow(row) {\n  console.log(\"ROW\",row);\n  if (row < 6  && drumSelect ==1 ) {\n    console.log(\"tabla\");\n    return tabla;\n  } \n  else if (row < 6 && drumSelect == 2 ) {\n    console.log(\"m\");\n    return mruthangam;\n  } \n  else if (row === 12) {\n    console.log(\"kar\");\n    return kartal;\n  } \n  else if (row === 13) {\n    console.log(\"kar\");\n    return sitar;\n  }\n  else\n  {console.log(\"KAT\");\n   return tabla;}\n}\n\n// The playBeat function is called every quarter note (\"4n\").\n// It extracts the beat index from Tone.Transport.position and\n// only plays sounds for cells in that column.\nfunction playBeat(time) {\n  // Get the current beat index (modulo numCols).\n  let posParts = Tone.Transport.position.split(\":\");\n  let beatIndex = parseInt(posParts[1]) % numCols;\n\n  // For each row, check the cell at column beatIndex.\n  for (let r = 0; r < numRows; r++) {\n    let cell = buttons[r][beatIndex];\n    if (cell.on) {\n    \n      let instrument = getInstrumentForRow(r);\n      console.log(\"Instrument for row \" + r + \":\", instrument);\n      console.log(instrument);\n      // For Tone.Players, extract the key (the second word of the label).\n      \n      if (typeof instrument.has === \"function\") {\n        console.log(\"!!!!!!!\");\n        let parts = labels[r].split(\" \");\n        console.log(\"PARTS\", parts);\n        let key = parts[1]; // e.g., \"num\" from \"tabla num\"\n        if (instrument.has(key)) {\n          instrument.player(key).start(time);\n        }\n      } else {\n        console.log(\"YESSSS\");\n        // For single-sample instruments.\n        instrument.start(time);\n      }\n    }\n  }\n}\n\n\nTone.loaded().then(function () {\n  loaded = true;\n  console.log(\"loaded!\");\n});\n\nfunction chooseInstrument(instrumentType){\n// append(selectedInstruments, this.value());\n  drumSelect = instrumentType;\n  console.log(drumSelect);\n  \n  }\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67be074109fc9389c10bc660",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc660"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" />\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <main></main>\n    <script src=\"button.js\"></script>\n    <script src=\"sound.js\"></script>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc65e",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc65e"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc662",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc662"
      },
      {
        "name": "Tabla",
        "content": "",
        "children": [
          "67be074109fc9389c10bc657",
          "67be074109fc9389c10bc658",
          "67be074109fc9389c10bc659",
          "67be074109fc9389c10bc65a",
          "67be074109fc9389c10bc65b",
          "67be074109fc9389c10bc65c"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc656",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc656"
      },
      {
        "name": "NUM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/8a9b1fdc-bd94-416e-9641-35ebe18716cb.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc657",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc657"
      },
      {
        "name": "TA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/bf39de9c-c019-40a0-9968-175122a86357.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc658",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc658"
      },
      {
        "name": "THA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/9df93e9c-daae-4274-b4c6-e9a416185c4f.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc659",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc659"
      },
      {
        "name": "THAM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/872ce9dd-4fe5-4ed1-b3a3-2665bca6a0e1.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc65a",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc65a"
      },
      {
        "name": "THI.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/0b867abc-b46c-4f87-9f5d-74c41a6dadc7.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc65b",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc65b"
      },
      {
        "name": "THOM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/3a642292-3259-45ef-8e29-74e224760e9a.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc65c",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc65c"
      },
      {
        "name": "button.js",
        "content": "// Learning Processing\n// Daniel Shiffman\n// http://www.learningprocessing.com\n//https://editor.p5js.org/yining/sketches/ByLFGX5R\n\n// Exercise 9-8: Write a Button class (see Example 5-5 for a non-object-oriented button). The button\n// class should register when a mouse is pressed over the button and change color.  Create button objects\n// of different sizes and locations using an array. Before writing the main program, sketch out the\n// Button class. Assume the button is off  when it first appears.\n\n\n// Button class.\nclass Button {\n  constructor(x, y, w, h, row, col, label) {\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.row = row;\n    this.col = col;\n    this.bhol = label; // e.g., \"tabla num\" or \"kartal\"\n    this.on = false;\n  }\n\n  click(mx, my) {\n    if (\n      mx > this.x &&\n      mx < this.x + this.w &&\n      my > this.y &&\n      my < this.y + this.h\n    ) {\n      this.on = !this.on;\n      if (this.on == true){ countBeats ++;}\n      if (this.on == false){ countBeats --;}\n    }\n  }\n\n  display() {\n    stroke(10);\n    fill(this.on ? color(0, 0, 140) : color(220, 220, 220));\n    rect(this.x, this.y, this.w, this.h);\n  }\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc65d",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc65d"
      },
      {
        "name": "india-outline.jpg",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/834354db-a553-4f73-9c21-6ef37f1fd547.jpg",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc65f",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc65f"
      },
      {
        "name": "sound.js",
        "content": "// Sound Class\nclass Sound {\n  constructor(instrument, bhol, row) {\n    this.instrument = instrument;\n    this.bhol = bhol;\n    this.x = 50;\n    this.y = row * 40 + height / 2;\n    this.size = 20;\n  }\n\n  display() {\n    fill(0, 200, 100);\n    rect(this.x, this.y, this.size, this.size);\n  }\n\n  play() {\n    if (!loaded) {\n      console.log(\"Waiting for Tone.js to load...\");\n      return;\n    }\n    // Check if the instrument supports the \"has\" method\n    if (typeof this.instrument.has === \"function\") {\n      if (this.instrument.has(this.bhol)) {\n        this.instrument.player(this.bhol).start();\n      } else {\n        console.log(\"Sound\", this.bhol, \"not found in instrument\");\n      }\n    } else {\n      // Assume it's a Tone.Player; simply start it\n      this.instrument.start();\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc661",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc661"
      },
      {
        "name": "Mruthangam",
        "content": "",
        "children": [
          "67be074109fc9389c10bc650",
          "67be074109fc9389c10bc651",
          "67be074109fc9389c10bc652",
          "67be074109fc9389c10bc653",
          "67be074109fc9389c10bc654",
          "67be074109fc9389c10bc655"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc64f",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc64f"
      },
      {
        "name": "THI.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/077649af-5535-42b3-bb2c-413ecbd5c7c5.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc654",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc654"
      },
      {
        "name": "THAM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/9c10d99b-db22-48cf-ae21-db455c88cfb3.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc653",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc653"
      },
      {
        "name": "TA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/db5dd631-7d04-4b9b-af8b-f3196ae6995f.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc651",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc651"
      },
      {
        "name": "THA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/972cf102-d212-4a77-bc1e-c196d7043c10.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc652",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc652"
      },
      {
        "name": "THOM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/a2d6e361-506c-40a5-b8ad-a1dae725b420.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc655",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc655"
      },
      {
        "name": "NUM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/baba388d-6e4b-47cf-ae32-e9321970f1a6.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be074109fc9389c10bc650",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be074109fc9389c10bc650"
      },
      {
        "name": "kartal.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/6233f2d5-5da4-4be0-8c13-c984ecab27cd.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be07733af9dedd04bcee6f",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be07733af9dedd04bcee6f"
      },
      {
        "name": "sitar.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/6c822181-6b40-4b02-8fd0-27b66f033c06.m4a",
        "children": [],
        "fileType": "file",
        "_id": "67be07a23af9dedd04bcfae2",
        "createdAt": "2025-02-25T18:10:55.619Z",
        "updatedAt": "2025-02-25T18:10:55.619Z",
        "id": "67be07a23af9dedd04bcfae2"
      }
    ],
    "createdAt": "2025-02-25T18:09:06.110Z",
    "updatedAt": "2025-02-25T18:10:55.619Z",
    "id": "U3YfPPb3t"
  },
  {
    "_id": "_bol5DJkY",
    "name": "Drum Kit [6] buttons copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67bdda83ac7ee4127548f7ba",
          "67bdda83ac7ee4127548f7c1",
          "67bdda83ac7ee4127548f7c8",
          "67bdda83ac7ee4127548f7c9",
          "67bdda83ac7ee4127548f7ca",
          "67bdda83ac7ee4127548f7cb",
          "67bdda83ac7ee4127548f7cc",
          "67bdda83ac7ee4127548f7cd"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7b9",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7b9"
      },
      {
        "name": "sketch.js",
        "content": "let loaded = false;\nlet img; // for the image\nlet transportStarted = false; // flag to start the Transport once\nlet started = 0;\nlet drumSelect = 0; //1 = tabla, 2 = mruthangam\n\n// Dynamic grid configuration:\nconst numRows = 14; // change this value to alter the number of rows\nconst numCols = 16; // change this value to alter the number of columns\n\n// Define instruments with their sound mappings and connect them to destination.\nconst tabla = new Tone.Players({\n  num: \"Tabla/NUM.wav\",\n  ta: \"Tabla/TA.wav\",\n  tha: \"Tabla/THA.wav\",\n  tham: \"Tabla/THAM.wav\",\n  thi: \"Tabla/THI.wav\",\n  thom: \"Tabla/THOM.wav\",\n}).toDestination();\n\nconst mruthangam = new Tone.Players({\n  num: \"Mruthangam/NUM.wav\",\n  ta: \"Mruthangam/TA.wav\",\n  tha: \"Mruthangam/THA.wav\",\n  thi: \"Mruthangam/THI.wav\",\n  thom: \"Mruthangam/THOM.wav\",\n}).toDestination();\n\nconsole.log(tabla);\nconsole.log(mruthangam);\n\nconst kartal = new Tone.Player(\"kartal.mp3\").toDestination();\nconst sitar = new Tone.Player(\"sitar.mp3\").toDestination();\n\n// Hardcoded labels for each row (length should match numRows).\nconst labels = [\n  \"num\",\n  \"ta\",\n  \"tha\",\n  \"tham\",\n  \"thi\",\n  \"thom\",\n  \"a\",\n  \"b\",\n  \"c\",\n  \"d\",\n  \"e\",\n  \"f\",\n  \"kartal\",\n  \"sitar\",\n];\n\nlet buttons = []; // 2D array for grid buttons\n\n// Set BPM and adjust time signature so that the number of beats equals numCols.\n// (If you want each column to be a beat, set the beats per measure to numCols.)\nTone.Transport.bpm.value = 180;\nTone.Transport.timeSignature = [16, 4];\n\nfunction preload() {\n  img = loadImage(\"india-outline.jpg\");\n}\n\nfunction setup() {\n  \n  createCanvas(1050, 600);\n  \n\n  // Define grid parameters: the grid occupies the left 2/3 of the canvas.\n  let gridX = 0;\n  let gridY = 0;\n  let gridW = (2 / 3) * width;\n  let gridH = height;\n\n  // Calculate cell dimensions based on dynamic rows/cols.\n  let cellW = gridW / numCols;\n  let cellH = gridH / numRows;\n\n  // Create grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    buttons[r] = [];\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c] = new Button(\n        gridX + c * cellW +2.5*cellW,\n        gridY + r * cellH,\n        cellW,\n        cellH,\n        r, // row index\n        c, // column index\n        labels[r] // label for that row (e.g., \"tabla num\")\n      );\n    }\n  }\n\n  // Schedule the repeating loop.\n  // We trigger playBeat every quarter note (\"4n\").\n  Tone.Transport.scheduleRepeat(playBeat, \"8n\");\n\n  // Create Clear button.\n  let clearIt = createButton(\"Clear\", \"0\");\n  clearIt.position(width - 50, 10);\n  clearIt.mousePressed(clearInstruments);\n  \n \n    // Buttons to select instruments\n  let tablaSelect = createButton(\"Tabla\");\n  tablaSelect.position(0, height);\n  tablaSelect.mousePressed(() => chooseInstrument(1)); // Pass 1 for Tabla\n\n  let mruthSelect = createButton(\"Mruthangam\");\n  mruthSelect.position(60, height);\n  mruthSelect.mousePressed(() => chooseInstrument(2)); // Pass 2 for Mruthangam\n}\n\nfunction draw() {\n  \n  \n  background(240);\n\n  // Define grid parameters (must match setup).\n  let gridX = 0;\n  let gridY = 0;\n  let gridW = (2 / 3) * width;\n  let gridH = height;\n  let cellW = gridW / numCols;\n  let cellH = gridH / numRows;\n\n  // Draw grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].display();\n    }\n  }\n\n  // Draw vertical segmentation lines (every 4 columns, if applicable).\n  push();\n  strokeWeight(2);\n  stroke(10, 0, 100);\n  for (let i = 1; i < numCols; i++) {\n    if (i % 4 === 0) {\n      line(gridX + i * cellW+2.5*cellW, gridY, gridX + i * cellW+2.5*cellW, gridY + gridH);\n    }\n  }\n  pop();\n\n  // Highlight current step.\n    if (started ==1){\n  blendMode(ADD);\n  push();\n  noStroke();\n  fill(255, 30);\n  // Get the current beat from Tone.Transport.position.\n  // Tone.Transport.position is in \"bars:beats:sixteenths\" format.\n  let posParts = Tone.Transport.position.split(\":\");\n  // Use the \"beats\" part and take modulo numCols in case the measure has rolled over.\n  let beatIndex = parseInt(posParts[1]) % numCols;\n  rect(beatIndex * cellW+2.5*cellW, gridY, cellW, gridH);\n  pop();\n    }\n  // Draw the hardcoded labels along the left side of the grid.\n  blendMode(BLEND);\n  push();\n  noStroke();\n  fill(0);\n  for (let r = 0; r < numRows; r++) {\n    text(labels[r], 5, gridY + r * cellH + cellH / 2);\n  }\n  pop();\n\n  // Draw the image in the right 1/3 of the canvas.\n  let imgX = (2 / 3) * width;\n  let imgW = width - imgX;\n  image(img, imgX + 2.5*cellW, 0, imgW+2.5*cellW, height);\n}\n\nfunction mousePressed() {\n  // Start the Transport on the first mouse press.\n  \n  if (!transportStarted) {\n    Tone.start();\n    Tone.Transport.start();\n    transportStarted = true;\n    console.log(\"Transport started\");\n    started = 1;\n  }\n  // Check for clicks on grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].click(mouseX, mouseY);\n      started = 1;\n    }\n  }\n}\n\nfunction clearInstruments() {\n  // Reset all buttons.\n  started = 0;\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].on = false;\n    }\n  }\n}\n\n// Returns the instrument corresponding to a given row.\nfunction getInstrumentForRow(row) {\n  console.log(\"ROW\",row);\n  if (row < 6  && drumSelect ==1 ) {\n    console.log(\"tabla\");\n    return tabla;\n  } \n  else if (row < 6 && drumSelect == 2 ) {\n    console.log(\"m\");\n    return mruthangam;\n  } \n  else if (row === 12) {\n    console.log(\"kar\");\n    return kartal;\n  } \n  else if (row === 13) {\n    console.log(\"kar\");\n    return sitar;\n  }\n  else\n  {console.log(\"KAT\");\n   return tabla;}\n}\n\n// The playBeat function is called every quarter note (\"4n\").\n// It extracts the beat index from Tone.Transport.position and\n// only plays sounds for cells in that column.\nfunction playBeat(time) {\n  // Get the current beat index (modulo numCols).\n  let posParts = Tone.Transport.position.split(\":\");\n  let beatIndex = parseInt(posParts[1]) % numCols;\n\n  // For each row, check the cell at column beatIndex.\n  for (let r = 0; r < numRows; r++) {\n    let cell = buttons[r][beatIndex];\n    if (cell.on) {\n      let instrument = getInstrumentForRow(r);\n      console.log(\"Instrument for row \" + r + \":\", instrument);\n      console.log(instrument);\n      // For Tone.Players, extract the key (the second word of the label).\n      \n      if (typeof instrument.has === \"function\") {\n        console.log(\"!!!!!!!\");\n        let parts = labels[r].split(\" \");\n        console.log(\"PARTS\", parts);\n        let key = parts[1]; // e.g., \"num\" from \"tabla num\"\n        if (instrument.has(key)) {\n          instrument.player(key).start(time);\n        }\n      } else {\n        console.log(\"YESSSS\");\n        // For single-sample instruments.\n        instrument.start(time);\n      }\n    }\n  }\n}\n\n\nTone.loaded().then(function () {\n  loaded = true;\n  console.log(\"loaded!\");\n});\n\nfunction chooseInstrument(instrumentType){\n// append(selectedInstruments, this.value());\n  drumSelect = instrumentType;\n  console.log(drumSelect);\n  \n  }\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7cb",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7cb"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" />\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <main></main>\n    <script src=\"button.js\"></script>\n    <script src=\"sound.js\"></script>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7c9",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7c9"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7cd",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7cd"
      },
      {
        "name": "Tabla",
        "content": "",
        "children": [
          "67bdda83ac7ee4127548f7c2",
          "67bdda83ac7ee4127548f7c3",
          "67bdda83ac7ee4127548f7c4",
          "67bdda83ac7ee4127548f7c5",
          "67bdda83ac7ee4127548f7c6",
          "67bdda83ac7ee4127548f7c7"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7c1",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7c1"
      },
      {
        "name": "NUM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/293bfbe1-9b68-4f8a-ba5a-28ef6dcff224.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7c2",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7c2"
      },
      {
        "name": "TA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/4ca23696-fd5e-460c-8af4-55d9be782d28.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7c3",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7c3"
      },
      {
        "name": "THA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/51a5d2b2-2f36-41fc-8ffc-38a0dd1f4e2b.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7c4",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7c4"
      },
      {
        "name": "THAM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b288ccc3-f5b0-495d-934e-e7f579e10f44.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7c5",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7c5"
      },
      {
        "name": "THI.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/97cf6495-9bff-4622-82ee-43d87ebb5614.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7c6",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7c6"
      },
      {
        "name": "THOM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/8dac9c3b-9d50-4602-af22-a97a742729ce.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7c7",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7c7"
      },
      {
        "name": "button.js",
        "content": "// Learning Processing\n// Daniel Shiffman\n// http://www.learningprocessing.com\n//https://editor.p5js.org/yining/sketches/ByLFGX5R\n\n// Exercise 9-8: Write a Button class (see Example 5-5 for a non-object-oriented button). The button\n// class should register when a mouse is pressed over the button and change color.  Create button objects\n// of different sizes and locations using an array. Before writing the main program, sketch out the\n// Button class. Assume the button is off  when it first appears.\n\n\n// Button class.\nclass Button {\n  constructor(x, y, w, h, row, col, label) {\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.row = row;\n    this.col = col;\n    this.bhol = label; // e.g., \"tabla num\" or \"kartal\"\n    this.on = false;\n  }\n\n  click(mx, my) {\n    if (\n      mx > this.x &&\n      mx < this.x + this.w &&\n      my > this.y &&\n      my < this.y + this.h\n    ) {\n      this.on = !this.on;\n    }\n  }\n\n  display() {\n    stroke(10);\n    fill(this.on ? color(0, 0, 140) : color(220, 220, 220));\n    rect(this.x, this.y, this.w, this.h);\n  }\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67bdda83ac7ee4127548f7c8",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7c8"
      },
      {
        "name": "india-outline.jpg",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/fe86ff78-0928-4206-adb3-b4f1b09b8fcd.jpg",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7ca",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7ca"
      },
      {
        "name": "sound.js",
        "content": "// Sound Class\nclass Sound {\n  constructor(instrument, bhol, row) {\n    this.instrument = instrument;\n    this.bhol = bhol;\n    this.x = 50;\n    this.y = row * 40 + height / 2;\n    this.size = 20;\n  }\n\n  display() {\n    fill(0, 200, 100);\n    rect(this.x, this.y, this.size, this.size);\n  }\n\n  play() {\n    if (!loaded) {\n      console.log(\"Waiting for Tone.js to load...\");\n      return;\n    }\n    // Check if the instrument supports the \"has\" method\n    if (typeof this.instrument.has === \"function\") {\n      if (this.instrument.has(this.bhol)) {\n        this.instrument.player(this.bhol).start();\n      } else {\n        console.log(\"Sound\", this.bhol, \"not found in instrument\");\n      }\n    } else {\n      // Assume it's a Tone.Player; simply start it\n      this.instrument.start();\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7cc",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7cc"
      },
      {
        "name": "Mruthangam",
        "content": "",
        "children": [
          "67bdda83ac7ee4127548f7bb",
          "67bdda83ac7ee4127548f7bc",
          "67bdda83ac7ee4127548f7bd",
          "67bdda83ac7ee4127548f7be",
          "67bdda83ac7ee4127548f7bf",
          "67bdda83ac7ee4127548f7c0"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7ba",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7ba"
      },
      {
        "name": "THI.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/047bc671-8afe-4e7b-9ef1-a9a19bbe32bd.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7bf",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7bf"
      },
      {
        "name": "THAM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/d7257b81-0e04-4eb0-a3d1-f315d9a8ce39.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7be",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7be"
      },
      {
        "name": "TA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/27d947d0-04ff-4d9f-b759-dd4d56b5b508.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7bc",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7bc"
      },
      {
        "name": "THA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/99bd894c-718f-4fd1-8eb5-0065db754657.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7bd",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7bd"
      },
      {
        "name": "THOM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/5fb5dcfb-d0a3-484f-9111-5b31881c2d1e.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7c0",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7c0"
      },
      {
        "name": "NUM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/9918d7a9-9ce1-4fe2-b8b8-d1f57e7ee7e3.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda83ac7ee4127548f7bb",
        "createdAt": "2025-02-25T15:03:15.580Z",
        "updatedAt": "2025-02-25T15:03:15.580Z",
        "id": "67bdda83ac7ee4127548f7bb"
      }
    ],
    "createdAt": "2025-02-25T14:58:12.080Z",
    "updatedAt": "2025-02-25T15:03:15.580Z",
    "id": "_bol5DJkY"
  },
  {
    "_id": "oABr7fmzf",
    "name": "Drum Kit [6] buttons copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67bdda82ac7ee4127548f7a5",
          "67bdda82ac7ee4127548f7ac",
          "67bdda82ac7ee4127548f7b3",
          "67bdda82ac7ee4127548f7b4",
          "67bdda82ac7ee4127548f7b5",
          "67bdda82ac7ee4127548f7b6",
          "67bdda82ac7ee4127548f7b7",
          "67bdda82ac7ee4127548f7b8"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7a4",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7a4"
      },
      {
        "name": "sketch.js",
        "content": "let loaded = false;\nlet img; // for the image\nlet transportStarted = false; // flag to start the Transport once\nlet started = 0;\nlet drumSelect = 0; //1 = tabla, 2 = mruthangam\n\n// Dynamic grid configuration:\nconst numRows = 14; // change this value to alter the number of rows\nconst numCols = 16; // change this value to alter the number of columns\n\n// Define instruments with their sound mappings and connect them to destination.\nconst tabla = new Tone.Players({\n  num: \"Tabla/NUM.wav\",\n  ta: \"Tabla/TA.wav\",\n  tha: \"Tabla/THA.wav\",\n  tham: \"Tabla/THAM.wav\",\n  thi: \"Tabla/THI.wav\",\n  thom: \"Tabla/THOM.wav\",\n}).toDestination();\n\nconst mruthangam = new Tone.Players({\n  num: \"Mruthangam/NUM.wav\",\n  ta: \"Mruthangam/TA.wav\",\n  tha: \"Mruthangam/THA.wav\",\n  thi: \"Mruthangam/THI.wav\",\n  thom: \"Mruthangam/THOM.wav\",\n}).toDestination();\n\nconsole.log(tabla);\nconsole.log(mruthangam);\n\nconst kartal = new Tone.Player(\"kartal.mp3\").toDestination();\nconst sitar = new Tone.Player(\"sitar.mp3\").toDestination();\n\n// Hardcoded labels for each row (length should match numRows).\nconst labels = [\n  \"num\",\n  \"ta\",\n  \"tha\",\n  \"tham\",\n  \"thi\",\n  \"thom\",\n  \"a\",\n  \"b\",\n  \"c\",\n  \"d\",\n  \"e\",\n  \"f\",\n  \"kartal\",\n  \"sitar\",\n];\n\nlet buttons = []; // 2D array for grid buttons\n\n// Set BPM and adjust time signature so that the number of beats equals numCols.\n// (If you want each column to be a beat, set the beats per measure to numCols.)\nTone.Transport.bpm.value = 180;\nTone.Transport.timeSignature = [16, 4];\n\nfunction preload() {\n  img = loadImage(\"india-outline.jpg\");\n}\n\nfunction setup() {\n  \n  createCanvas(1050, 600);\n  \n\n  // Define grid parameters: the grid occupies the left 2/3 of the canvas.\n  let gridX = 0;\n  let gridY = 0;\n  let gridW = (2 / 3) * width;\n  let gridH = height;\n\n  // Calculate cell dimensions based on dynamic rows/cols.\n  let cellW = gridW / numCols;\n  let cellH = gridH / numRows;\n\n  // Create grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    buttons[r] = [];\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c] = new Button(\n        gridX + c * cellW +2.5*cellW,\n        gridY + r * cellH,\n        cellW,\n        cellH,\n        r, // row index\n        c, // column index\n        labels[r] // label for that row (e.g., \"tabla num\")\n      );\n    }\n  }\n\n  // Schedule the repeating loop.\n  // We trigger playBeat every quarter note (\"4n\").\n  Tone.Transport.scheduleRepeat(playBeat, \"8n\");\n\n  // Create Clear button.\n  let clearIt = createButton(\"Clear\", \"0\");\n  clearIt.position(width - 50, 10);\n  clearIt.mousePressed(clearInstruments);\n  \n \n    // Buttons to select instruments\n  let tablaSelect = createButton(\"Tabla\");\n  tablaSelect.position(0, height);\n  tablaSelect.mousePressed(() => chooseInstrument(1)); // Pass 1 for Tabla\n\n  let mruthSelect = createButton(\"Mruthangam\");\n  mruthSelect.position(60, height);\n  mruthSelect.mousePressed(() => chooseInstrument(2)); // Pass 2 for Mruthangam\n}\n\nfunction draw() {\n  \n  \n  background(240);\n\n  // Define grid parameters (must match setup).\n  let gridX = 0;\n  let gridY = 0;\n  let gridW = (2 / 3) * width;\n  let gridH = height;\n  let cellW = gridW / numCols;\n  let cellH = gridH / numRows;\n\n  // Draw grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].display();\n    }\n  }\n\n  // Draw vertical segmentation lines (every 4 columns, if applicable).\n  push();\n  strokeWeight(2);\n  stroke(10, 0, 100);\n  for (let i = 1; i < numCols; i++) {\n    if (i % 4 === 0) {\n      line(gridX + i * cellW+2.5*cellW, gridY, gridX + i * cellW+2.5*cellW, gridY + gridH);\n    }\n  }\n  pop();\n\n  // Highlight current step.\n    if (started ==1){\n  blendMode(ADD);\n  push();\n  noStroke();\n  fill(255, 30);\n  // Get the current beat from Tone.Transport.position.\n  // Tone.Transport.position is in \"bars:beats:sixteenths\" format.\n  let posParts = Tone.Transport.position.split(\":\");\n  // Use the \"beats\" part and take modulo numCols in case the measure has rolled over.\n  let beatIndex = parseInt(posParts[1]) % numCols;\n  rect(beatIndex * cellW+2.5*cellW, gridY, cellW, gridH);\n  pop();\n    }\n  // Draw the hardcoded labels along the left side of the grid.\n  blendMode(BLEND);\n  push();\n  noStroke();\n  fill(0);\n  for (let r = 0; r < numRows; r++) {\n    text(labels[r], 5, gridY + r * cellH + cellH / 2);\n  }\n  pop();\n\n  // Draw the image in the right 1/3 of the canvas.\n  let imgX = (2 / 3) * width;\n  let imgW = width - imgX;\n  image(img, imgX + 2.5*cellW, 0, imgW+2.5*cellW, height);\n}\n\nfunction mousePressed() {\n  // Start the Transport on the first mouse press.\n  \n  if (!transportStarted) {\n    Tone.start();\n    Tone.Transport.start();\n    transportStarted = true;\n    console.log(\"Transport started\");\n    started = 1;\n  }\n  // Check for clicks on grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].click(mouseX, mouseY);\n      started = 1;\n    }\n  }\n}\n\nfunction clearInstruments() {\n  // Reset all buttons.\n  started = 0;\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].on = false;\n    }\n  }\n}\n\n// Returns the instrument corresponding to a given row.\nfunction getInstrumentForRow(row) {\n  console.log(\"ROW\",row);\n  if (row < 6  && drumSelect ==1 ) {\n    console.log(\"tabla\");\n    return tabla;\n  } \n  else if (row < 6 && drumSelect == 2 ) {\n    console.log(\"m\");\n    return mruthangam;\n  } \n  else if (row === 12) {\n    console.log(\"kar\");\n    return kartal;\n  } \n  else if (row === 13) {\n    console.log(\"kar\");\n    return sitar;\n  }\n  else\n  {console.log(\"KAT\");\n   return tabla;}\n}\n\n// The playBeat function is called every quarter note (\"4n\").\n// It extracts the beat index from Tone.Transport.position and\n// only plays sounds for cells in that column.\nfunction playBeat(time) {\n  // Get the current beat index (modulo numCols).\n  let posParts = Tone.Transport.position.split(\":\");\n  let beatIndex = parseInt(posParts[1]) % numCols;\n\n  // For each row, check the cell at column beatIndex.\n  for (let r = 0; r < numRows; r++) {\n    let cell = buttons[r][beatIndex];\n    if (cell.on) {\n      let instrument = getInstrumentForRow(r);\n      console.log(\"Instrument for row \" + r + \":\", instrument);\n      console.log(instrument);\n      // For Tone.Players, extract the key (the second word of the label).\n      \n      if (typeof instrument.has === \"function\") {\n        console.log(\"!!!!!!!\");\n        let parts = labels[r].split(\" \");\n        console.log(\"PARTS\", parts);\n        let key = parts[1]; // e.g., \"num\" from \"tabla num\"\n        if (instrument.has(key)) {\n          instrument.player(key).start(time);\n        }\n      } else {\n        console.log(\"YESSSS\");\n        // For single-sample instruments.\n        instrument.start(time);\n      }\n    }\n  }\n}\n\n\nTone.loaded().then(function () {\n  loaded = true;\n  console.log(\"loaded!\");\n});\n\nfunction chooseInstrument(instrumentType){\n// append(selectedInstruments, this.value());\n  drumSelect = instrumentType;\n  console.log(drumSelect);\n  \n  }\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7b6",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7b6"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" />\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <main></main>\n    <script src=\"button.js\"></script>\n    <script src=\"sound.js\"></script>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7b4",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7b4"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7b8",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7b8"
      },
      {
        "name": "Tabla",
        "content": "",
        "children": [
          "67bdda82ac7ee4127548f7ad",
          "67bdda82ac7ee4127548f7ae",
          "67bdda82ac7ee4127548f7af",
          "67bdda82ac7ee4127548f7b0",
          "67bdda82ac7ee4127548f7b1",
          "67bdda82ac7ee4127548f7b2"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7ac",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7ac"
      },
      {
        "name": "NUM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/afb92cf0-f140-47c9-bfa5-29ab16b19137.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7ad",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7ad"
      },
      {
        "name": "TA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/785c3a4b-fde6-4a1c-a2a6-48199bb63030.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7ae",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7ae"
      },
      {
        "name": "THA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/5d92f977-a2af-4ab2-aefb-4b7d47546602.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7af",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7af"
      },
      {
        "name": "THAM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/5960cacc-e007-41a4-9df1-f2a2eb777b95.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7b0",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7b0"
      },
      {
        "name": "THI.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f675f533-3e0d-40d8-8274-af2195500f81.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7b1",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7b1"
      },
      {
        "name": "THOM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/45c0fa8d-060e-434f-a02e-977f6c05e925.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7b2",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7b2"
      },
      {
        "name": "button.js",
        "content": "// Learning Processing\n// Daniel Shiffman\n// http://www.learningprocessing.com\n//https://editor.p5js.org/yining/sketches/ByLFGX5R\n\n// Exercise 9-8: Write a Button class (see Example 5-5 for a non-object-oriented button). The button\n// class should register when a mouse is pressed over the button and change color.  Create button objects\n// of different sizes and locations using an array. Before writing the main program, sketch out the\n// Button class. Assume the button is off  when it first appears.\n\n\n// Button class.\nclass Button {\n  constructor(x, y, w, h, row, col, label) {\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.row = row;\n    this.col = col;\n    this.bhol = label; // e.g., \"tabla num\" or \"kartal\"\n    this.on = false;\n  }\n\n  click(mx, my) {\n    if (\n      mx > this.x &&\n      mx < this.x + this.w &&\n      my > this.y &&\n      my < this.y + this.h\n    ) {\n      this.on = !this.on;\n    }\n  }\n\n  display() {\n    stroke(10);\n    fill(this.on ? color(0, 0, 140) : color(220, 220, 220));\n    rect(this.x, this.y, this.w, this.h);\n  }\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67bdda82ac7ee4127548f7b3",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7b3"
      },
      {
        "name": "india-outline.jpg",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/667668f3-fdf9-4322-9905-9a0a0ca93e47.jpg",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7b5",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7b5"
      },
      {
        "name": "sound.js",
        "content": "// Sound Class\nclass Sound {\n  constructor(instrument, bhol, row) {\n    this.instrument = instrument;\n    this.bhol = bhol;\n    this.x = 50;\n    this.y = row * 40 + height / 2;\n    this.size = 20;\n  }\n\n  display() {\n    fill(0, 200, 100);\n    rect(this.x, this.y, this.size, this.size);\n  }\n\n  play() {\n    if (!loaded) {\n      console.log(\"Waiting for Tone.js to load...\");\n      return;\n    }\n    // Check if the instrument supports the \"has\" method\n    if (typeof this.instrument.has === \"function\") {\n      if (this.instrument.has(this.bhol)) {\n        this.instrument.player(this.bhol).start();\n      } else {\n        console.log(\"Sound\", this.bhol, \"not found in instrument\");\n      }\n    } else {\n      // Assume it's a Tone.Player; simply start it\n      this.instrument.start();\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7b7",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7b7"
      },
      {
        "name": "Mruthangam",
        "content": "",
        "children": [
          "67bdda82ac7ee4127548f7a6",
          "67bdda82ac7ee4127548f7a7",
          "67bdda82ac7ee4127548f7a8",
          "67bdda82ac7ee4127548f7a9",
          "67bdda82ac7ee4127548f7aa",
          "67bdda82ac7ee4127548f7ab"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7a5",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7a5"
      },
      {
        "name": "THI.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/1598436c-df10-46ed-9c61-e720d5bfa0c2.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7aa",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7aa"
      },
      {
        "name": "THAM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f2d0ffca-e0cb-43b3-bc39-56d55d12f3cf.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7a9",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7a9"
      },
      {
        "name": "TA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c2e12f0a-e11c-4156-aed8-0001dd6d935b.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7a7",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7a7"
      },
      {
        "name": "THA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/ed47526b-133c-4319-8464-f0b5f3ce36a3.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7a8",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7a8"
      },
      {
        "name": "THOM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/523bbd7c-7d00-45bf-be5f-95844fc46d7a.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7ab",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7ab"
      },
      {
        "name": "NUM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/0ad4dcbf-384b-470a-af8a-d4d3d378e49a.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67bdda82ac7ee4127548f7a6",
        "createdAt": "2025-02-25T14:53:19.108Z",
        "updatedAt": "2025-02-25T14:53:19.108Z",
        "id": "67bdda82ac7ee4127548f7a6"
      }
    ],
    "createdAt": "2025-02-25T14:58:11.370Z",
    "updatedAt": "2025-02-25T14:58:11.370Z",
    "id": "oABr7fmzf"
  },
  {
    "_id": "If2KB6I8t",
    "name": "Drum Kit [6] buttons v2 copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67be196564f014107416d2c2",
          "67be196564f014107416d2c9",
          "67be196564f014107416d2d0",
          "67be196564f014107416d2d1",
          "67be196564f014107416d2d2",
          "67be196564f014107416d2d3",
          "67be196564f014107416d2d4",
          "67be196564f014107416d2d5",
          "67be196564f014107416d2d6",
          "67be196564f014107416d2d7",
          "67be196564f014107416d2d8",
          "67be196564f014107416d2d9",
          "67be196564f014107416d2da",
          "67be196564f014107416d2db",
          "67be196564f014107416d2dc",
          "67be196564f014107416d2dd"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2c1",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2c1"
      },
      {
        "name": "sketch.js",
        "content": "let loaded = false;\nlet img; // for the image\nlet transportStarted = false; // flag to start the Transport once\nlet started = 0;\nlet drumSelect = 0; //1 = tabla, 2 = mruthangam\nlet countBeats = 0; //counting squares\n\n// Dynamic grid configuration:\nconst numRows = 14; // change this value to alter the number of rows\nconst numCols = 16; // change this value to alter the number of columns\n\n// Define instruments with their sound mappings and connect them to destination.\nconst tabla = new Tone.Players({\n  num: \"Tabla/NUM.wav\",\n  ta: \"Tabla/TA.wav\",\n  tha: \"Tabla/THA.wav\",\n  tham: \"Tabla/THAM.wav\",\n  thi: \"Tabla/THI.wav\",\n  thom: \"Tabla/THOM.wav\",\n}).toDestination();\n\nconst mruthangam = new Tone.Players({\n  num: \"Mruthangam/NUM.wav\",\n  ta: \"Mruthangam/TA.wav\",\n  tha: \"Mruthangam/THA.wav\",\n  thi: \"Mruthangam/THI.wav\",\n  thom: \"Mruthangam/THOM.wav\",\n}).toDestination();\n\nconsole.log(tabla);\nconsole.log(mruthangam);\n\nconst beep = new Tone.Player(\"beep-beep.mp3\").toDestination();\nconst dholak = new Tone.Player(\"dholak bass.wav\").toDestination();\nconst mathan = new Tone.Player(\"mathan_drum.wav\").toDestination();\nconst singing = new Tone.Player(\"singinghindi.mp3\").toDestination();\nconst trinkets = new Tone.Player(\"trinkets.wav\").toDestination();\nconst udu = new Tone.Player(\"udu.wav\").toDestination();\nconst kartal = new Tone.Player(\"kartal.wav\").toDestination();\nconst sitar = new Tone.Player(\"sitar.wav\").toDestination();\n\n\n\n\nlet waveform = new Tone.Waveform(1024); // Analyze 1024 samples of audio data\n\n\n// Hardcoded labels for each row (length should match numRows).\nconst labels = [\n  \"drum num\",\n  \"drum ta\",\n  \"drum tha\",\n  \"drum tham\",\n  \"drum thi\",\n  \"drum thom\",\n  \"beep .\",\n  \"dholak .\",\n  \"mathan .\",\n  \"hindi .\",\n  \"golisu .\",\n  \"udu .\",\n  \"kartal\",\n  \"sitar\",\n];\n\nlet buttons = []; // 2D array for grid buttons\n\n// Set BPM and adjust time signature so that the number of beats equals numCols.\n// (If you want each column to be a beat, set the beats per measure to numCols.)\nTone.Transport.bpm.value = 180;\nTone.Transport.timeSignature = [16, 4];\n\nfunction preload() {\n  img = loadImage(\"india-outline.jpg\");\n}\n\nfunction setup() {\n  \n  createCanvas(1050, 600);\n  \n\n  // Define grid parameters: the grid occupies the left 2/3 of the canvas.\n  let gridX = 0;\n  let gridY = 0;\n  let gridW = (2 / 3) * width;\n  let gridH = height;\n\n  // Calculate cell dimensions based on dynamic rows/cols.\n  let cellW = gridW / numCols;\n  let cellH = gridH / numRows;\n\n  // Create grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    buttons[r] = [];\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c] = new Button(\n        gridX + c * cellW +2.5*cellW,\n        gridY + r * cellH,\n        cellW,\n        cellH,\n        r, // row index\n        c, // column index\n        labels[r] // label for that row (e.g., \"tabla num\")\n      );\n    }\n  }\n\n  // Schedule the repeating loop.\n  // We trigger playBeat every quarter note (\"4n\").\n  Tone.Transport.scheduleRepeat(playBeat, \"8n\");\n\n  // Create Clear button.\n  let clearIt = createButton(\"Clear\", \"0\");\n  clearIt.position(width - 50, 10);\n  clearIt.mousePressed(clearInstruments);\n  \n \n    // Buttons to select instruments\n  let tablaSelect = createButton(\"Tabla\");\n  tablaSelect.position(0, height);\n  tablaSelect.mousePressed(() => chooseInstrument(1)); // Pass 1 for Tabla\n\n  let mruthSelect = createButton(\"Mruthangam\");\n  mruthSelect.position(60, height);\n  mruthSelect.mousePressed(() => chooseInstrument(2)); // Pass 2 for Mruthangam\n}\n\nfunction draw() {\n\n  background(240);\n\n  // Define grid parameters (must match setup).\n  let gridX = 0;\n  let gridY = 0;\n  let gridW = (2 / 3) * width;\n  let gridH = height;\n  let cellW = gridW / numCols;\n  let cellH = gridH / numRows;\n\n  // Draw grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].display();\n    }\n  }\n  \n   // Draw the image in the right 1/3 of the canvas.\n  let imgX = (2 / 3) * width;\n  let imgW = width - imgX;\n  image(img, imgX + 2.5*cellW, 0, imgW+2.5*cellW, height);\n\n  // Draw vertical segmentation lines (every 4 columns, if applicable).\n  push();\n  strokeWeight(2);\n  stroke(10, 0, 100);\n  for (let i = 1; i < numCols; i++) {\n    if (i % 4 === 0) {\n      line(gridX + i * cellW+2.5*cellW, gridY, gridX + i * cellW+2.5*cellW, gridY + gridH);\n    }\n  }\n  pop();\n\n  // Highlight current step.\n    if (started ==1){\n  blendMode(ADD);\n  push();\n  noStroke();\n  fill(255, 30);\n  // Get the current beat from Tone.Transport.position.\n  // Tone.Transport.position is in \"bars:beats:sixteenths\" format.\n  let posParts = Tone.Transport.position.split(\":\");\n  // Use the \"beats\" part and take modulo numCols in case the measure has rolled over.\n  let beatIndex = parseInt(posParts[1]) % numCols;\n  rect(beatIndex * cellW+2.5*cellW, gridY, cellW, gridH);\ncircle(imgX+ imgX/4+ 2.5*cellW, height/2,countBeats*beatIndex);\n//}\n  pop();\n    }\n  // Draw the hardcoded labels along the left side of the grid.\n  blendMode(BLEND);\n  push();\n  noStroke();\n  fill(0);\n  for (let r = 0; r < numRows; r++) {\n    text(labels[r], 5, gridY + r * cellH + cellH / 2);\n  }\n  pop();\n\n \n  \n  //Draw Circle\n  push();\n  fill(countBeats*4, countBeats*6, countBeats*6,80);\n  noStroke();\n  console.log(countBeats);\n  circle(imgX+ imgX/4+ 2.5*cellW, height/2,countBeats*7);\n//}\n  pop();\n}\n\n\n//////////\nfunction mousePressed() {\n  // Start the Transport on the first mouse press.\n  \n  if (!transportStarted) {\n    Tone.start();\n    Tone.Transport.start();\n    transportStarted = true;\n    console.log(\"Transport started\");\n    started = 1;\n  }\n  // Check for clicks on grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].click(mouseX, mouseY);\n      started = 1;\n      \n    }\n  }\n}\n\nfunction clearInstruments() {\n  // Reset all buttons.\n  started = 0;\n  countBeats = 0;\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].on = false;\n    }\n  }\n}\n\n// Returns the instrument corresponding to a given row.\nfunction getInstrumentForRow(row) {\n  console.log(\"ROW\",row);\n  if (row < 7  && drumSelect ==1 ) {\n    console.log(\"tabla\");\n    return tabla;\n  } \n  else if (row < 7 && drumSelect == 2 ) {\n    console.log(\"m\");\n    return mruthangam;\n  } \n  \n   else if (row === 7) {\n    console.log(\"kar\");\n    return beep;\n  } \n   else if (row === 8) {\n    console.log(\"kar\");\n    return dholak;\n  } \n   else if (row === 9) {\n    console.log(\"kar\");\n    return mathan;\n  } \n  else if (row === 10) {\n    console.log(\"kar\");\n    return singing;\n  } \n   else if (row === 11) {\n    console.log(\"kar\");\n    return trinkets;\n  } \n  else if (row === 12) {\n    console.log(\"kar\");\n    return udu;\n  }\n   else if (row === 13) {\n    console.log(\"kar\");\n    return kartal;\n  }\n   else if (row === 13) {\n    console.log(\"kar\");\n    return sitar;\n  }\n  else\n  {console.log(\"KAT\");\n   return tabla;}\n}\n\n// The playBeat function is called every quarter note (\"4n\").\n// It extracts the beat index from Tone.Transport.position and\n// only plays sounds for cells in that column.\nfunction playBeat(time) {\n  // Get the current beat index (modulo numCols).\n  let posParts = Tone.Transport.position.split(\":\");\n  let beatIndex = parseInt(posParts[1]) % numCols;\n\n  // For each row, check the cell at column beatIndex.\n  for (let r = 0; r < numRows; r++) {\n    let cell = buttons[r][beatIndex];\n    if (cell.on) {\n    \n      let instrument = getInstrumentForRow(r);\n      console.log(\"Instrument for row \" + r + \":\", instrument);\n      console.log(instrument);\n      // For Tone.Players, extract the key (the second word of the label).\n      \n      if (typeof instrument.has === \"function\") {\n        console.log(\"!!!!!!!\");\n        let parts = labels[r].split(\" \");\n        console.log(\"PARTS\", parts);\n        let key = parts[1]; // e.g., \"num\" from \"tabla num\"\n        if (instrument.has(key)) {\n          instrument.player(key).start(time);\n        }\n      } else {\n        console.log(\"YESSSS\");\n        // For single-sample instruments.\n        instrument.start(time);\n      }\n    }\n  }\n}\n\n\nTone.loaded().then(function () {\n  loaded = true;\n  console.log(\"loaded!\");\n});\n\nfunction chooseInstrument(instrumentType){\n// append(selectedInstruments, this.value());\n  drumSelect = instrumentType;\n  console.log(drumSelect);\n  \n  }\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67be196564f014107416d2d9",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2d9"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    \n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"button.js\"></script>\n        <script src=\"sound.js\"></script>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2d3",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2d3"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2db",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2db"
      },
      {
        "name": "Tabla",
        "content": "",
        "children": [
          "67be196564f014107416d2ca",
          "67be196564f014107416d2cb",
          "67be196564f014107416d2cc",
          "67be196564f014107416d2cd",
          "67be196564f014107416d2ce",
          "67be196564f014107416d2cf"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2c9",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2c9"
      },
      {
        "name": "NUM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b4f5af22-9f1e-4e4b-94cb-8d22a388c1b2.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2ca",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2ca"
      },
      {
        "name": "TA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/9aade88f-758b-46d1-8747-8434277f3f5b.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2cb",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2cb"
      },
      {
        "name": "THA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b9ffe928-ff96-4f20-ad91-230d2090b148.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2cc",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2cc"
      },
      {
        "name": "THAM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/0535884b-746b-4947-b7e2-79b45124d4e3.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2cd",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2cd"
      },
      {
        "name": "THI.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/a4740c05-8531-40af-908b-4987a11461bb.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2ce",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2ce"
      },
      {
        "name": "THOM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/a9593251-c7ba-4df5-9474-4150ce5d6a57.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2cf",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2cf"
      },
      {
        "name": "button.js",
        "content": "// Learning Processing\n// Daniel Shiffman\n// http://www.learningprocessing.com\n//https://editor.p5js.org/yining/sketches/ByLFGX5R\n\n// Exercise 9-8: Write a Button class (see Example 5-5 for a non-object-oriented button). The button\n// class should register when a mouse is pressed over the button and change color.  Create button objects\n// of different sizes and locations using an array. Before writing the main program, sketch out the\n// Button class. Assume the button is off  when it first appears.\n\n\n// Button class.\nclass Button {\n  constructor(x, y, w, h, row, col, label) {\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.row = row;\n    this.col = col;\n    this.bhol = label; // e.g., \"tabla num\" or \"kartal\"\n    this.on = false;\n  }\n\n  click(mx, my) {\n    if (\n      mx > this.x &&\n      mx < this.x + this.w &&\n      my > this.y &&\n      my < this.y + this.h\n    ) {\n      this.on = !this.on;\n      if (this.on == true){ countBeats ++;}\n      console.log(countBeats);\n      if (this.on == false){ countBeats --;}\n      console.log(countBeats);\n    }\n  }\n\n  display() {\n    stroke(10);\n    fill(this.on ? color(0, 0, 140, 100) : color(220, 220, 220));\n    rect(this.x, this.y, this.w, this.h);\n  }\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2d1",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2d1"
      },
      {
        "name": "india-outline.jpg",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/983edd6a-6bcd-4c8b-8db0-948dbdfa469e.jpg",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2d4",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2d4"
      },
      {
        "name": "sound.js",
        "content": "// Sound Class\nclass Sound {\n  constructor(instrument, bhol, row) {\n    this.instrument = instrument;\n    this.bhol = bhol;\n    this.x = 50;\n    this.y = row * 40 + height / 2;\n    this.size = 20;\n  }\n\n  display() {\n    fill(0, 200, 100);\n    rect(this.x, this.y, this.size, this.size);\n  }\n\n  play() {\n    if (!loaded) {\n      console.log(\"Waiting for Tone.js to load...\");\n      return;\n    }\n    // Check if the instrument supports the \"has\" method\n    if (typeof this.instrument.has === \"function\") {\n      if (this.instrument.has(this.bhol)) {\n        this.instrument.player(this.bhol).start();\n      } else {\n        console.log(\"Sound\", this.bhol, \"not found in instrument\");\n      }\n    } else {\n      // Assume it's a Tone.Player; simply start it\n      this.instrument.start();\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2da",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2da"
      },
      {
        "name": "Mruthangam",
        "content": "",
        "children": [
          "67be196564f014107416d2c3",
          "67be196564f014107416d2c4",
          "67be196564f014107416d2c5",
          "67be196564f014107416d2c6",
          "67be196564f014107416d2c7",
          "67be196564f014107416d2c8"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2c2",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2c2"
      },
      {
        "name": "THI.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/2cdd307b-97b0-4e57-9384-9ae75c21fc6c.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2c7",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2c7"
      },
      {
        "name": "THAM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/81226290-cc6f-4a0f-b786-274d698777fc.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2c6",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2c6"
      },
      {
        "name": "TA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/52b9a43a-e46b-46ee-a898-e5a96d7030a8.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2c4",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2c4"
      },
      {
        "name": "THA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/a36c1784-1154-4837-85dd-5ac31067fd31.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2c5",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2c5"
      },
      {
        "name": "THOM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/8c3b27f0-95b3-4173-ba2e-1a537666fabe.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2c8",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2c8"
      },
      {
        "name": "NUM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/66dc22fd-f4f7-492d-975a-c289f29bef12.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2c3",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2c3"
      },
      {
        "name": "kartal.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/40efe185-0a2e-414b-9325-3cdf2c4f8564.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2d5",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2d5"
      },
      {
        "name": "beep-beep.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/5c367042-42f3-4917-9e03-f3f35af5378b.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2d0",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2d0"
      },
      {
        "name": "dholak bass.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/aa5655be-5dd3-455b-a6b8-a697a518cd4d.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2d2",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2d2"
      },
      {
        "name": "mathan_drum.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/5eee77a6-41ea-4ceb-8d7a-78baedaea6f2.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2d6",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2d6"
      },
      {
        "name": "singinghindi.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/91483ddc-dc3b-4df4-8bae-15d59d081d12.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2d7",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2d7"
      },
      {
        "name": "trinkets.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/349768f8-a484-4492-abc7-49a278d4f648.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2dc",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2dc"
      },
      {
        "name": "udu.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/8a051497-9520-4e89-92b6-5493832f493f.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2dd",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2dd"
      },
      {
        "name": "sitar.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/83468838-1695-426f-9785-d80bc5113c48.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be196564f014107416d2d8",
        "createdAt": "2025-02-25T19:04:28.036Z",
        "updatedAt": "2025-02-25T19:04:28.036Z",
        "id": "67be196564f014107416d2d8"
      }
    ],
    "createdAt": "2025-02-25T19:26:30.749Z",
    "updatedAt": "2025-02-25T19:26:30.749Z",
    "id": "If2KB6I8t"
  },
  {
    "_id": "M2eiXZ8Cj",
    "name": "Drum Kit [Prisha] - working",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67be02a8a5c772214606071f",
          "67ba726d9597b54b1e825391",
          "67ba726d9597b54b1e825398",
          "67ba726d9597b54b1e825399",
          "67ba726d9597b54b1e82539a",
          "67ba726d9597b54b1e82539b",
          "67ba726d9597b54b1e82539c",
          "67ba726d9597b54b1e82539d"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ba726d9597b54b1e825390",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67ba726d9597b54b1e825390"
      },
      {
        "name": "sketch.js",
        "content": "let loaded = false;\nlet img; // for the image\nlet transportStarted = false; // flag to start the Transport once\n\n// Dynamic grid configuration:\nconst numRows = 14; // change this value to alter the number of rows\nconst numCols = 16; // change this value to alter the number of columns\n\n// Define instruments with their sound mappings and connect them to destination.\nconst tabla = new Tone.Players({\n  num: \"Tabla/NUM.wav\",\n  ta: \"Tabla/TA.wav\",\n  tha: \"Tabla/THA.wav\",\n  thi: \"Tabla/THI.wav\",\n  thom: \"Tabla/THOM.wav\",\n}).toDestination();\n\nconst mruthangam = new Tone.Players({\n  num: \"Mruthangam/NUM.wav\",\n  ta: \"Mruthangam/TA.wav\",\n  tha: \"Mruthangam/THA.wav\",\n  thi: \"Mruthangam/THI.wav\",\n  thom: \"Mruthangam/THOM.wav\",\n}).toDestination();\n\nconst kartal = new Tone.Player(\"kartal.mp3\").toDestination();\nconst sitar = new Tone.Player(\"sitar.mp3\").toDestination();\n\n// Hardcoded labels for each row (length should match numRows).\nconst labels = [\n  \"tabla num\",\n  \"tabla ta\",\n  \"tabla tha\",\n  \"tabla tham\",\n  \"tabla thi\",\n  \"tabla thom\",\n  \"mruthangam num\",\n  \"mruthangam ta\",\n  \"mruthangam tha\",\n  \"mruthangam tham\",\n  \"mruthangam thi\",\n  \"mruthangam thom\",\n  \"kartal\",\n  \"sitar\",\n];\n\nlet buttons = []; // 2D array for grid buttons\n\n// Set BPM and adjust time signature so that the number of beats equals numCols.\n// (If you want each column to be a beat, set the beats per measure to numCols.)\nTone.Transport.bpm.value = 180;\nTone.Transport.timeSignature = [16, 4];\n\nfunction preload() {\n  img = loadImage(\"india-outline.jpg\");\n}\n\nfunction setup() {\n  createCanvas(1000, 600);\n\n  // Define grid parameters: the grid occupies the left 2/3 of the canvas.\n  let gridX = 0;\n  let gridY = 0;\n  let gridW = (2 / 3) * width;\n  let gridH = height;\n\n  // Calculate cell dimensions based on dynamic rows/cols.\n  let cellW = gridW / numCols;\n  let cellH = gridH / numRows;\n\n  // Create grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    buttons[r] = [];\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c] = new Button(\n        gridX + c * cellW,\n        gridY + r * cellH,\n        cellW,\n        cellH,\n        r, // row index\n        c, // column index\n        labels[r] // label for that row (e.g., \"tabla num\")\n      );\n    }\n  }\n\n  // Schedule the repeating loop.\n  // We trigger playBeat every eighth note (\"8n\").\n  // still need to work on this to find the right one\n  Tone.Transport.scheduleRepeat(playBeat, \"8n\");\n\n  // Create Clear button.\n  let clearIt = createButton(\"Clear\", \"0\");\n  clearIt.position(width - 50, 10);\n  clearIt.mousePressed(clearInstruments);\n}\n\nfunction draw() {\n  background(220);\n\n  // Define grid parameters (must match setup).\n  let gridX = 0;\n  let gridY = 0;\n  let gridW = (2 / 3) * width;\n  let gridH = height;\n  let cellW = gridW / numCols;\n  let cellH = gridH / numRows;\n\n  // Draw grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].display();\n    }\n  }\n\n  // Draw vertical segmentation lines (every 4 columns, if applicable).\n  push();\n  strokeWeight(2);\n  stroke(10, 0, 100);\n  for (let i = 1; i < numCols; i++) {\n    if (i % 4 === 0) {\n      line(gridX + i * cellW, gridY, gridX + i * cellW, gridY + gridH);\n    }\n  }\n  pop();\n\n  // Highlight current step.\n  blendMode(ADD);\n  push();\n  noStroke();\n  fill(255, 30);\n  // Get the current beat from Tone.Transport.position.\n  // Tone.Transport.position is in \"bars:beats:sixteenths\" format.\n  let posParts = Tone.Transport.position.split(\":\");\n  // Use the \"beats\" part and take modulo numCols in case the measure has rolled over.\n  let beatIndex = parseInt(posParts[1]) % numCols;\n  rect(beatIndex * cellW, gridY, cellW, gridH);\n  pop();\n\n  // Draw the hardcoded labels along the left side of the grid.\n  blendMode(BLEND);\n  push();\n  noStroke();\n  fill(0);\n  for (let r = 0; r < numRows; r++) {\n    text(labels[r], 5, gridY + r * cellH + cellH / 2);\n  }\n  pop();\n\n  // Draw the image in the right 1/3 of the canvas.\n  let imgX = (2 / 3) * width;\n  let imgW = width - imgX;\n  image(img, imgX, 0, imgW, height);\n}\n\nfunction mousePressed() {\n  // Start the Transport on the first mouse press.\n  if (!transportStarted) {\n    Tone.start();\n    Tone.Transport.start();\n    transportStarted = true;\n    console.log(\"Transport started\");\n  }\n  // Check for clicks on grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].click(mouseX, mouseY);\n    }\n  }\n}\n\nfunction clearInstruments() {\n  // Reset all buttons.\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].on = false;\n    }\n  }\n}\n\n// Returns the instrument corresponding to a given row.\nfunction getInstrumentForRow(row) {\n  if (row < 6) {\n    return tabla;\n  } else if (row < 12) {\n    return mruthangam;\n  } else if (row === 12) {\n    return kartal;\n  } else if (row === 13) {\n    return sitar;\n  }\n}\n\n// The playBeat function is called every quarter note (\"4n\").\n// It extracts the beat index from Tone.Transport.position and\n// only plays sounds for cells in that column.\nfunction playBeat(time) {\n  // Get the current beat index (modulo numCols).\n  let posParts = Tone.Transport.position.split(\":\");\n  let beatIndex = parseInt(posParts[1]) % numCols;\n\n  // For each row, check the cell at column beatIndex.\n  for (let r = 0; r < numRows; r++) {\n    let cell = buttons[r][beatIndex];\n    if (cell.on) {\n      let instrument = getInstrumentForRow(r);\n      // For Tone.Players, extract the key (the second word of the label).\n      if (typeof instrument.has === \"function\") {\n        let parts = labels[r].split(\" \");\n        let key = parts[1]; // e.g., \"num\" from \"tabla num\"\n        if (instrument.has(key)) {\n          instrument.player(key).start(time);\n        }\n      } else {\n        // For single-sample instruments.\n        instrument.start(time);\n      }\n    }\n  }\n}\n\n\nTone.loaded().then(function () {\n  loaded = true;\n  console.log(\"loaded!\");\n});",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67ba726d9597b54b1e82539b",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67ba726d9597b54b1e82539b"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    \n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"button.js\"></script>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba726d9597b54b1e825399",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67ba726d9597b54b1e825399"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba726d9597b54b1e82539d",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67ba726d9597b54b1e82539d"
      },
      {
        "name": "Tabla",
        "content": "",
        "children": [
          "67ba726d9597b54b1e825392",
          "67ba726d9597b54b1e825393",
          "67ba726d9597b54b1e825394",
          "67ba726d9597b54b1e825395",
          "67ba726d9597b54b1e825396",
          "67ba726d9597b54b1e825397"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ba726d9597b54b1e825391",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67ba726d9597b54b1e825391"
      },
      {
        "name": "NUM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/7641c89d-7bc8-438f-b551-1f36ccb0c5f3.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba726d9597b54b1e825392",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67ba726d9597b54b1e825392"
      },
      {
        "name": "TA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/2ffd35cd-e477-448a-b4c8-8513d6a1215c.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba726d9597b54b1e825393",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67ba726d9597b54b1e825393"
      },
      {
        "name": "THA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/80596252-940a-45d6-bd32-af7f0a28d198.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba726d9597b54b1e825394",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67ba726d9597b54b1e825394"
      },
      {
        "name": "THAM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/9d60b9a6-4f9c-4bbe-9637-6dc726bed32e.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba726d9597b54b1e825395",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67ba726d9597b54b1e825395"
      },
      {
        "name": "THI.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/444e56bd-c4eb-43be-9a75-453550208f3b.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba726d9597b54b1e825396",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67ba726d9597b54b1e825396"
      },
      {
        "name": "THOM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/cb47076f-0619-43e2-a5b8-0100b2e881bf.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba726d9597b54b1e825397",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67ba726d9597b54b1e825397"
      },
      {
        "name": "button.js",
        "content": "// Learning Processing\n// Daniel Shiffman\n// http://www.learningprocessing.com\n//https://editor.p5js.org/yining/sketches/ByLFGX5R\n\n// Exercise 9-8: Write a Button class (see Example 5-5 for a non-object-oriented button). The button\n// class should register when a mouse is pressed over the button and change color.  Create button objects\n// of different sizes and locations using an array. Before writing the main program, sketch out the\n// Button class. Assume the button is off  when it first appears.\n\n\n// Button class.\nclass Button {\n  constructor(x, y, w, h, row, col, label) {\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.row = row;\n    this.col = col;\n    this.bhol = label; // e.g., \"tabla num\" or \"kartal\"\n    this.on = false;\n  }\n\n  click(mx, my) {\n    if (\n      mx > this.x &&\n      mx < this.x + this.w &&\n      my > this.y &&\n      my < this.y + this.h\n    ) {\n      this.on = !this.on;\n    }\n  }\n\n  display() {\n    stroke(10);\n    fill(this.on ? color(0, 0, 140) : color(220, 220, 220));\n    rect(this.x, this.y, this.w, this.h);\n  }\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba726d9597b54b1e825398",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67ba726d9597b54b1e825398"
      },
      {
        "name": "india-outline.jpg",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/d96d99b0-42fc-417b-96d3-38b8e7517609.jpg",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba726d9597b54b1e82539a",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67ba726d9597b54b1e82539a"
      },
      {
        "name": "sound.js",
        "content": "// Sound Class\nclass Sound {\n  constructor(instrument, bhol, row) {\n    this.instrument = instrument;\n    this.bhol = bhol;\n    this.x = 50;\n    this.y = row * 40 + height / 2;\n    this.size = 20;\n  }\n\n  display() {\n    fill(0, 200, 100);\n    rect(this.x, this.y, this.size, this.size);\n  }\n\n  play() {\n    if (!loaded) {\n      console.log(\"Waiting for Tone.js to load...\");\n      return;\n    }\n    // Check if the instrument supports the \"has\" method\n    if (typeof this.instrument.has === \"function\") {\n      if (this.instrument.has(this.bhol)) {\n        this.instrument.player(this.bhol).start();\n      } else {\n        console.log(\"Sound\", this.bhol, \"not found in instrument\");\n      }\n    } else {\n      // Assume it's a Tone.Player; simply start it\n      this.instrument.start();\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba726d9597b54b1e82539c",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67ba726d9597b54b1e82539c"
      },
      {
        "name": "Mruthangam",
        "content": "",
        "children": [
          "67be02b17cfe01be5100f796",
          "67be02b0963f3c236ca0f065",
          "67be02b0e1d9a8987cca5c0a",
          "67be02b17cfe01be5100f7af",
          "67be02b0e1d9a8987cca5bce",
          "67be02b0e1d9a8987cca5be3"
        ],
        "fileType": "folder",
        "_id": "67be02a8a5c772214606071f",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67be02a8a5c772214606071f"
      },
      {
        "name": "THI.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b580354d-cde2-49ad-aadf-ef41131def42.wav",
        "children": [],
        "fileType": "file",
        "_id": "67be02b0e1d9a8987cca5bce",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67be02b0e1d9a8987cca5bce"
      },
      {
        "name": "THOM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/740578c1-2db0-40cd-986a-d4921d9262f8.wav",
        "children": [],
        "fileType": "file",
        "_id": "67be02b0e1d9a8987cca5be3",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67be02b0e1d9a8987cca5be3"
      },
      {
        "name": "TA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/423c3cf0-70ba-4fb1-aa2c-b598fdc7634b.wav",
        "children": [],
        "fileType": "file",
        "_id": "67be02b0963f3c236ca0f065",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67be02b0963f3c236ca0f065"
      },
      {
        "name": "THA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/fd0ad6c5-1bac-4322-9bab-2b8a5cf09635.wav",
        "children": [],
        "fileType": "file",
        "_id": "67be02b0e1d9a8987cca5c0a",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67be02b0e1d9a8987cca5c0a"
      },
      {
        "name": "NUM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c9fd786d-f2c9-4449-a7ee-d7faedef56f9.wav",
        "children": [],
        "fileType": "file",
        "_id": "67be02b17cfe01be5100f796",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67be02b17cfe01be5100f796"
      },
      {
        "name": "THAM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/5372528e-245b-4e19-a435-f95f0bdfd1bb.wav",
        "children": [],
        "fileType": "file",
        "_id": "67be02b17cfe01be5100f7af",
        "createdAt": "2025-02-25T17:49:41.665Z",
        "updatedAt": "2025-02-25T17:49:41.665Z",
        "id": "67be02b17cfe01be5100f7af"
      }
    ],
    "createdAt": "2025-02-23T00:57:17.788Z",
    "updatedAt": "2025-02-25T17:49:41.665Z",
    "id": "M2eiXZ8Cj"
  },
  {
    "_id": "o1ODT67rH",
    "name": "drum kit pads copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67ab918126d19d7455df16b5",
          "67ab918126d19d7455df16b6",
          "67ab918126d19d7455df16bc",
          "67ab918126d19d7455df16bd"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ab918126d19d7455df16b4",
        "createdAt": "2024-02-13T19:46:06.764Z",
        "updatedAt": "2024-02-13T19:46:06.764Z",
        "id": "67ab918126d19d7455df16b4"
      },
      {
        "name": "sketch.js",
        "content": "// Create a 120BPM beat\n\n// Create a Players object and load the drum kit files\nconst kit = new Tone.Players({\n  \"kick\": \"samples/505/kick.mp3\", \n  \"snare\": \"samples/505/snare.mp3\",\n  \"hh\": \"samples/505/hh.mp3\",\n  \"hho\": \"samples/505/hho.mp3\"\n});\nkit.toDestination();\n\nfunction setup(){\n  createCanvas(200, 200); \n  background(0);\n  console.log(\"PRESS:\\nj:kick\\nk:snare\\ni:hh\\nu:hho\");\n}\n\nfunction draw(){\n  noStroke();\n  fill(100);\n  rect(0, 0, width/2, height/2);\n  fill(200);\n  rect(width/2,0, width/2, height/2);  \n  fill(150);\n  rect(width/2, height/2, width/2, height/2);\n  fill(50);\n  rect(0, height/2, width/2, height/2);\n}\n\nfunction keyPressed(){\n  // Make sure the sound files have been completely loaded\n  if(key == \"j\"){\n      kit.player(\"kick\").start();  \n  }\n  else if(key == \"k\"){\n    kit.player(\"snare\").start();\n  }\n  else if(key == \"i\"){\n    kit.player(\"hh\").start();\n  }\n  else if(key == \"u\"){\n    kit.player(\"hho\").start();\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67ab918126d19d7455df16bc",
        "createdAt": "2024-02-13T19:46:06.764Z",
        "updatedAt": "2024-02-13T19:46:06.764Z",
        "id": "67ab918126d19d7455df16bc"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab918126d19d7455df16b5",
        "createdAt": "2024-02-13T19:46:06.764Z",
        "updatedAt": "2024-02-13T19:46:06.764Z",
        "id": "67ab918126d19d7455df16b5"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab918126d19d7455df16bd",
        "createdAt": "2024-02-13T19:46:06.764Z",
        "updatedAt": "2024-02-13T19:46:06.764Z",
        "id": "67ab918126d19d7455df16bd"
      },
      {
        "name": "samples",
        "content": "",
        "children": [
          "67ab918126d19d7455df16b7"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ab918126d19d7455df16b6",
        "createdAt": "2024-02-13T19:46:06.764Z",
        "updatedAt": "2024-02-13T19:46:06.764Z",
        "id": "67ab918126d19d7455df16b6"
      },
      {
        "name": "505",
        "content": "",
        "children": [
          "67ab918126d19d7455df16b8",
          "67ab918126d19d7455df16b9",
          "67ab918126d19d7455df16ba",
          "67ab918126d19d7455df16bb"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ab918126d19d7455df16b7",
        "createdAt": "2024-02-13T19:46:06.764Z",
        "updatedAt": "2024-02-13T19:46:06.764Z",
        "id": "67ab918126d19d7455df16b7"
      },
      {
        "name": "kick.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/beff511f-46e2-41e6-aac1-da31eeaf33e5.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab918126d19d7455df16ba",
        "createdAt": "2024-02-13T19:46:06.764Z",
        "updatedAt": "2024-02-13T19:46:06.764Z",
        "id": "67ab918126d19d7455df16ba"
      },
      {
        "name": "hh.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/bdd24546-b470-4a55-ab7d-07c176a34c3d.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab918126d19d7455df16b8",
        "createdAt": "2024-02-13T19:46:06.764Z",
        "updatedAt": "2024-02-13T19:46:06.764Z",
        "id": "67ab918126d19d7455df16b8"
      },
      {
        "name": "snare.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/e9ea4f9b-6590-4f17-bd23-588933f4acf2.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab918126d19d7455df16bb",
        "createdAt": "2024-02-13T19:46:06.764Z",
        "updatedAt": "2024-02-13T19:46:06.764Z",
        "id": "67ab918126d19d7455df16bb"
      },
      {
        "name": "hho.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/08f8d027-5eda-4ae8-8554-b799be7c8cf5.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab918126d19d7455df16b9",
        "createdAt": "2024-02-13T19:46:06.764Z",
        "updatedAt": "2024-02-13T19:46:06.764Z",
        "id": "67ab918126d19d7455df16b9"
      }
    ],
    "createdAt": "2025-02-11T18:05:53.869Z",
    "updatedAt": "2025-02-11T18:05:53.869Z",
    "id": "o1ODT67rH"
  },
  {
    "_id": "P1LykIoRK",
    "name": "drums from india",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67b4d8d38406e1a616eaa915",
          "67b4d8d38406e1a616eaa916",
          "67b4d8d38406e1a616eaa91c",
          "67b4d8d38406e1a616eaa91d"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67b4d8d38406e1a616eaa914",
        "createdAt": "2025-02-25T01:40:31.397Z",
        "updatedAt": "2025-02-25T01:40:31.397Z",
        "id": "67b4d8d38406e1a616eaa914"
      },
      {
        "name": "sketch.js",
        "content": "// create tone.players\n// load in sounds\n// instrument folder for each sound\n// buttons for each instrument\n// click button to make x sounds per instrument appear on side\n    // concat sounds to the sounds array on the side?\n// set tempo - connect to a slider\n// schedule repeat - call a playback function\n// playback function - play the input loop\n// sound class\n    // duration, velocity\n// array of sounds\n\nconst tabla = new Tone.Players({\n  na: \"tabla/na.mp3\",\n});\n\nTone.Transport.bpm.value = 120;\n\nclass Sound {\n  constructor(bhol, row, length, velocity) {\n    this.bhol = bhol;\n    this.x = 50;\n    this.y = row;\n    this.size = 20;\n    this.length = length;\n    this.velocity = velocity;\n  }\n  display() {\n    for (let i = 0; i < 17; i++) {\n      rect(this.x, this.y, this.size);\n    }\n  }\n  play() {\n    Tone.Transport.scheduleRepeat(this.length);\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67b4d8d38406e1a616eaa91c",
        "createdAt": "2025-02-25T01:40:31.397Z",
        "updatedAt": "2025-02-25T01:40:31.397Z",
        "id": "67b4d8d38406e1a616eaa91c"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b4d8d38406e1a616eaa915",
        "createdAt": "2025-02-25T01:40:31.397Z",
        "updatedAt": "2025-02-25T01:40:31.397Z",
        "id": "67b4d8d38406e1a616eaa915"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b4d8d38406e1a616eaa91d",
        "createdAt": "2025-02-25T01:40:31.397Z",
        "updatedAt": "2025-02-25T01:40:31.397Z",
        "id": "67b4d8d38406e1a616eaa91d"
      },
      {
        "name": "samples",
        "content": "",
        "children": [
          "67b4d8d38406e1a616eaa917"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67b4d8d38406e1a616eaa916",
        "createdAt": "2025-02-25T01:40:31.397Z",
        "updatedAt": "2025-02-25T01:40:31.397Z",
        "id": "67b4d8d38406e1a616eaa916"
      },
      {
        "name": "505",
        "content": "",
        "children": [
          "67b4d8d38406e1a616eaa918",
          "67b4d8d38406e1a616eaa919",
          "67b4d8d38406e1a616eaa91a",
          "67b4d8d38406e1a616eaa91b"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67b4d8d38406e1a616eaa917",
        "createdAt": "2025-02-25T01:40:31.397Z",
        "updatedAt": "2025-02-25T01:40:31.397Z",
        "id": "67b4d8d38406e1a616eaa917"
      },
      {
        "name": "kick.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/fae11c8d-5caa-4462-bfb9-6e0c6e709397.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b4d8d38406e1a616eaa91a",
        "createdAt": "2025-02-25T01:40:31.397Z",
        "updatedAt": "2025-02-25T01:40:31.397Z",
        "id": "67b4d8d38406e1a616eaa91a"
      },
      {
        "name": "hh.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/cb04f4d4-3a83-4c0f-a720-8a4166f40d6b.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b4d8d38406e1a616eaa918",
        "createdAt": "2025-02-25T01:40:31.397Z",
        "updatedAt": "2025-02-25T01:40:31.397Z",
        "id": "67b4d8d38406e1a616eaa918"
      },
      {
        "name": "snare.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/ec7387c3-6c02-4cf3-a4bb-86d3f9743cb0.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b4d8d38406e1a616eaa91b",
        "createdAt": "2025-02-25T01:40:31.397Z",
        "updatedAt": "2025-02-25T01:40:31.397Z",
        "id": "67b4d8d38406e1a616eaa91b"
      },
      {
        "name": "hho.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/e84deb67-d11a-47f5-af78-cf9713652980.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b4d8d38406e1a616eaa919",
        "createdAt": "2025-02-25T01:40:31.397Z",
        "updatedAt": "2025-02-25T01:40:31.397Z",
        "id": "67b4d8d38406e1a616eaa919"
      }
    ],
    "createdAt": "2025-02-18T19:00:36.273Z",
    "updatedAt": "2025-02-25T01:40:31.397Z",
    "id": "P1LykIoRK"
  },
  {
    "_id": "cHz1kPkPy",
    "name": "Hail oboe",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6759f643eb13f757436b1170",
          "6759f643eb13f757436b116f",
          "6759f643eb13f757436b1171"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6759f643eb13f757436b1172",
        "createdAt": "2024-12-11T20:30:54.143Z",
        "updatedAt": "2024-12-11T20:30:54.143Z",
        "id": "6759f643eb13f757436b1172"
      },
      {
        "name": "sketch.js",
        "content": "// Declare global variables\nlet video; // Variable to hold the video element\nlet detector; // Variable for the object detection model\nlet detections = []; // Array to store detected objects\n\n// Preload function runs before the setup to load external assets\nfunction preload() {\n  // Load a video file and prepare it with the `videoReady` callback\n  video = createVideo(createCapture(VIDEO), videoReady);\n}\n\n// The setup function initializes the sketch\nfunction setup() {\n  video.size(1080, 1920); // Set the size of the video\n  video.play(); // Start playing the video\n  video.hide(); // Hide the video element (it will be displayed on the canvas)\n  frameRate(10); // Limit frame rate to 10 frames per second\n  createCanvas(1080, 600); // Create a canvas to display the video and results\n  OPC.toggle(\"showConfidence\", false); // Toggle to hide confidence levels in detections\n  OPC.toggle(\"people\", true); // Enable detection and display for people\n  OPC.toggle(\"cars\", true); // Enable detection and display for cars\n  OPC.toggle(\"motorcycles\", true); // Enable detection and display for motorcycles\n}\n\n// Callback when the video is ready\nfunction videoReady() {\n  // Initialize the COCO-SSD object detection model\n  detector = ml5.objectDetector(\"cocossd\", modelReady);\n}\n\n// Callback for when the COCO-SSD model is ready\nfunction modelReady() {\n  // Start detecting objects in the video\n  detector.detect(video, gotDetections);\n}\n\n// Callback for processing detection results\nfunction gotDetections(error, results) {\n  if (error) {\n    console.error(error); // Log any errors to the console\n  }\n  detections = results; // Store the detected objects in the `detections` array\n  detector.detect(video, gotDetections); // Continue detecting in a loop\n}\n\n// The draw function is called continuously to render the canvas\nfunction draw() {\n  image(video, 0, 0); // Display the video frame on the canvas\n\n  // Loop through all detected objects\n  for (let i = 1; i < detections.length; i += 1) {\n    let object = detections[i]; // Get the current detected object\n\n    // Check if the detected object is a person and display it\n    if (object.label == \"person\" && people == true) {\n      stroke(0, 255, 0); // Set a green stroke for the bounding box\n      strokeWeight(2); // Set stroke weight\n      noFill(); // Disable fill for the rectangle\n      rect(object.x, object.y, object.width, object.height); // Draw bounding box around the object\n      noStroke(); // Disable stroke for text\n      fill(255); // Set text color to white\n      textSize(24); // Set text size\n      if (showConfidence == true) {\n        // Display object label with confidence percentage\n        text(\n          object.label + \" \" + round(object.confidence * 100) + \"%\",\n          object.x + 10,\n          object.y - 24\n        );\n      } else {\n        // Display object label only\n        text(object.label, object.x + 10, object.y - 24);\n      }\n    }\n\n    // Check if the detected object is a car and display it\n    if (object.label == \"car\" && cars == true) {\n      stroke(0, 255, 0); // Set green stroke\n      strokeWeight(2); // Set stroke weight\n      noFill(); // Disable fill\n      rect(object.x, object.y, object.width, object.height); // Draw bounding box\n      noStroke(); // Disable stroke for text\n      fill(255); // Set text color to white\n      textSize(24); // Set text size\n      if (showConfidence == true) {\n        text(\n          object.label + \" \" + round(object.confidence * 100) + \"%\",\n          object.x + 10,\n          object.y - 24\n        );\n      } else {\n        text(object.label, object.x + 10, object.y - 24);\n      }\n    }\n\n    // Check if the detected object is a motorcycle and display it\n    if (object.label == \"motorcycle\" && motorcycles == true) {\n      stroke(0, 255, 0); // Set green stroke\n      strokeWeight(2); // Set stroke weight\n      noFill(); // Disable fill\n      rect(object.x, object.y, object.width, object.height); // Draw bounding box\n      noStroke(); // Disable stroke for text\n      fill(255); // Set text color to white\n      textSize(24); // Set text size\n      if (showConfidence == true) {\n        text(\n          object.label + \" \" + round(object.confidence * 100) + \"%\",\n          object.x + 10,\n          object.y - 24\n        );\n      } else {\n        text(object.label, object.x + 10, object.y - 24);\n      }\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6759f643eb13f757436b116f",
        "createdAt": "2024-12-11T20:30:54.143Z",
        "updatedAt": "2024-12-11T20:30:54.143Z",
        "id": "6759f643eb13f757436b116f"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n\t<meta charset=\"utf-8\" />\n\t<!-- keep the line below for OpenProcessing compatibility -->\n\t<script src=\"https://openprocessing.org/openprocessing_sketch.js\"></script>\n\t<script src=\"https://cdn.jsdelivr.net/npm/p5@1.11.2/lib/p5.js\"></script>\n\t<script src=\"https://cdn.jsdelivr.net/npm/p5@1.11.2/lib/addons/p5.sound.min.js\"></script>\n\t<script src=\"mySketch.js\"></script>\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n</head>\n\n<body>   \n\t\n</body>\n\n</html>",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6759f643eb13f757436b1170",
        "createdAt": "2024-12-11T20:30:54.143Z",
        "updatedAt": "2024-12-11T20:30:54.143Z",
        "id": "6759f643eb13f757436b1170"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6759f643eb13f757436b1171",
        "createdAt": "2024-12-11T20:30:54.143Z",
        "updatedAt": "2024-12-11T20:30:54.143Z",
        "id": "6759f643eb13f757436b1171"
      }
    ],
    "updatedAt": "2024-12-11T20:30:54.143Z",
    "createdAt": "2024-12-11T20:30:54.143Z",
    "id": "cHz1kPkPy"
  },
  {
    "_id": "KblXZJzFv",
    "name": "ICM 12.1",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6751051540b55693037cd2c4",
          "6751051540b55693037cd2c3",
          "6751051540b55693037cd2c5"
        ],
        "fileType": "folder",
        "_id": "6751051540b55693037cd2c6",
        "createdAt": "2024-12-05T02:36:10.657Z",
        "updatedAt": "2024-12-05T02:36:10.657Z",
        "id": "6751051540b55693037cd2c6"
      },
      {
        "name": "sketch.js",
        "content": "let str = \"I wish to wash my Irish wristwatch.\";\nconsole.log(str, str.length, str.charAt(0));\nlet c = 0;\nlet x = 0;\nlet y = 0;\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n  textAlign(LEFT, TOP);\n  \n  // Create a paragraph element\n  createP(str);\n  textSize(random(50, 100));\n}\n\nfunction draw() {\n  //background(220);\n  //text(str, 0, 0);\n  //for(let c = 0; c < str.length; c++) {\n  if(frameCount % 30 == 1) {\n    // Get the character from the string\n    let character = str.charAt(floor(c));\n    \n    // Calculate the width of the character\n    let w = textWidth(character);\n    \n    // Caculate the height of the character\n    let h = textAscent() + textDescent();\n    \n    // Wrap around, make space for the last character\n    if( x > width - w) {\n      x = 0;\n      y += textAscent() + textDescent();\n    }\n    \n    // Draw the character to the canvas\n    text(character, x, random(height - h));\n    \n    // Shift over to the right\n    x += w;\n    \n    // Advance to the next cahracter\n    c++;\n    c%=str.length;\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6751051540b55693037cd2c3",
        "createdAt": "2024-12-05T02:36:10.657Z",
        "updatedAt": "2024-12-05T02:36:10.657Z",
        "id": "6751051540b55693037cd2c3"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "6751051540b55693037cd2c4",
        "createdAt": "2024-12-05T02:36:10.657Z",
        "updatedAt": "2024-12-05T02:36:10.657Z",
        "id": "6751051540b55693037cd2c4"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "6751051540b55693037cd2c5",
        "createdAt": "2024-12-05T02:36:10.657Z",
        "updatedAt": "2024-12-05T02:36:10.657Z",
        "id": "6751051540b55693037cd2c5"
      }
    ],
    "updatedAt": "2024-12-05T02:36:10.657Z",
    "createdAt": "2024-12-05T02:36:10.657Z",
    "id": "KblXZJzFv"
  },
  {
    "_id": "r1QgDuGXa",
    "name": "ICM 12.2",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "675117fa2eb7fa12485aa264",
          "675117e983837dc0fe16a63d",
          "675117e983837dc0fe16a642",
          "675117e983837dc0fe16a644"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "675117e983837dc0fe16a638",
        "createdAt": "2024-12-05T03:06:14.933Z",
        "updatedAt": "2024-12-05T03:06:14.933Z",
        "id": "675117e983837dc0fe16a638"
      },
      {
        "name": "sketch.js",
        "content": "// Array of words\nlet words = [];\n\n// Variable to hold the random string being built\nlet str = '';\n\n// Paragraph element to hold the text\nlet p;\n\nfunction preload() {\n  loadStrings('butter.txt', process);\n}\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n  p = createP();\n}\n\nfunction draw() {\n  // Draw next word every half second\n  if (frameCount % 30 == 1) {\n    // Add another word to the string and a whitespace\n    str += random(words) + ' ';\n    // Update paragraph element\n    p.html(str);    \n  }\n}\n\nfunction process(lines) {\n  // Go line by line by value\n  for (let line of lines) {\n    // Turn each line into an array of words\n    let tokens = splitTokens(line);\n    // Add it to 1 big array\n    words = words.concat(tokens);\n  }\n  // Go word by word, by index\n  // Clean up each word\n  for (let w = words.length-1; w >= 0; w--) {\n    let word = words[w];\n    // Remove punctuation\n    word = word.replace(/[-_:;.,!?()]/g, \"\");\n    // Make it all lowercase\n    word = word.toLowerCase();\n    // Get rid of whitespace around the word\n    word = word.trim();\n    // If nothing is left, get rid of it\n    if (word.length < 1) words.splice(w, 1);\n    // Otherwise put cleaned up word back in array\n    else words[w] = word;\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "675117e983837dc0fe16a642",
        "createdAt": "2024-12-05T03:06:14.933Z",
        "updatedAt": "2024-12-05T03:06:14.933Z",
        "id": "675117e983837dc0fe16a642"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html>\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.dom.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675117e983837dc0fe16a63d",
        "createdAt": "2024-12-05T03:06:14.933Z",
        "updatedAt": "2024-12-05T03:06:14.933Z",
        "id": "675117e983837dc0fe16a63d"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: none;\n}\n\np {\n font-size: 28px; \n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675117e983837dc0fe16a644",
        "createdAt": "2024-12-05T03:06:14.933Z",
        "updatedAt": "2024-12-05T03:06:14.933Z",
        "id": "675117e983837dc0fe16a644"
      },
      {
        "name": "butter.txt",
        "content": "Betty Botter bought some butter but, said she, the butterâ€™s bitter.\nIf I put it in my batter, it will make my batter bitter.\nBut a bit of better butter will make my bitter batter better.\nSo she bought some better butter, better than the bitter butter,\nput it in her bitter batter, made her bitter batter better.\nSo â€˜t was better Betty Botter bought some better butter.",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675117fa2eb7fa12485aa264",
        "createdAt": "2024-12-05T03:06:14.933Z",
        "updatedAt": "2024-12-05T03:06:14.933Z",
        "id": "675117fa2eb7fa12485aa264"
      }
    ],
    "createdAt": "2024-12-05T03:03:05.488Z",
    "updatedAt": "2024-12-05T03:06:14.933Z",
    "id": "r1QgDuGXa"
  },
  {
    "_id": "10nr0uV-4",
    "name": "ICM 8.2",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6722f94a6478fdf28a8c74a9",
          "672279ea6478fdf28a8c74a6",
          "672279ea6478fdf28a8c74a5",
          "672279ea6478fdf28a8c74a7"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "672279ea6478fdf28a8c74a8",
        "createdAt": "2024-10-31T04:07:12.702Z",
        "updatedAt": "2024-10-31T04:07:12.702Z",
        "id": "672279ea6478fdf28a8c74a8"
      },
      {
        "name": "sketch.js",
        "content": "let cat;\nlet myCat;\n\nfunction preload() {\n  cat = loadImage(\"cat.jpg\");\n}\n\nfunction setup() {\n  createCanvas(cat.width, cat.height);\n  myCat = createImage(width, height);\n\n  myCat.loadPixels();\n  cat.loadPixels();\n  pixelDensity(1);\n  \n  for (let i = 0; i<cat.pixels.length; i++){\n    myCat.pixels[i] = cat.pixels[i];\n  }\n\n  for (let x = 0; x < width; x++) {\n    for (let y = 0; y < height; y++) {\n      let index = (x + y * width) * 4;\n      if ((x+y)%2 == 0) {\n        myCat.pixels[index] = 0;\n        myCat.pixels[index + 1] = 255;\n        myCat.pixels[index + 2] = 0;\n        myCat.pixels[index + 3] = 255;\n      }\n    }\n  }\n\n  myCat.updatePixels();\n\n  image(myCat, 0, 0);\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "672279ea6478fdf28a8c74a5",
        "createdAt": "2024-10-31T04:07:12.702Z",
        "updatedAt": "2024-10-31T04:07:12.702Z",
        "id": "672279ea6478fdf28a8c74a5"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672279ea6478fdf28a8c74a6",
        "createdAt": "2024-10-31T04:07:12.702Z",
        "updatedAt": "2024-10-31T04:07:12.702Z",
        "id": "672279ea6478fdf28a8c74a6"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672279ea6478fdf28a8c74a7",
        "createdAt": "2024-10-31T04:07:12.702Z",
        "updatedAt": "2024-10-31T04:07:12.702Z",
        "id": "672279ea6478fdf28a8c74a7"
      },
      {
        "name": "cat.jpg",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c3815127-e9d5-4c7d-a5ba-35c9df2b669d.jpg",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6722f94a6478fdf28a8c74a9",
        "createdAt": "2024-10-31T04:07:12.702Z",
        "updatedAt": "2024-10-31T04:07:12.702Z",
        "id": "6722f94a6478fdf28a8c74a9"
      }
    ],
    "updatedAt": "2024-10-31T04:07:12.702Z",
    "createdAt": "2024-10-31T03:58:24.481Z",
    "id": "10nr0uV-4"
  },
  {
    "_id": "zPQtcIU7T",
    "name": "ICM 8.3",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "672302a26478fdf28a8c74ab",
          "672302a26478fdf28a8c74ac",
          "672302a26478fdf28a8c74ad",
          "672302a26478fdf28a8c74ae"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "672302a26478fdf28a8c74aa",
        "createdAt": "2024-10-31T05:45:46.061Z",
        "updatedAt": "2024-10-31T05:45:46.061Z",
        "id": "672302a26478fdf28a8c74aa"
      },
      {
        "name": "sketch.js",
        "content": "let cat;\nlet myCat;\n\nfunction preload() {\n  cat = loadImage(\"cat.jpg\");\n}\n\nfunction setup() {\n  createCanvas(cat.width, cat.height);\n  myCat = createImage(width, height);\n\n  myCat.loadPixels();\n  cat.loadPixels();\n  pixelDensity(1);\n\n  for (let i = 0; i < cat.pixels.length; i++) {\n    myCat.pixels[i] = cat.pixels[i];\n  }\n\n  for (let y = height/2 - 5; y < height/2 + 5; y++) {\n    for (let x = 0; x < width; x++) {\n      let index = (x + y * width) * 4;\n        myCat.pixels[index] = 0;\n        myCat.pixels[index + 1] = 0;\n        myCat.pixels[index + 2] = 0;\n        myCat.pixels[index + 3] = 0;\n    }\n  }\n\n  myCat.updatePixels();\n\n  image(myCat, 0, 0);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "672302a26478fdf28a8c74ad",
        "createdAt": "2024-10-31T05:45:46.061Z",
        "updatedAt": "2024-10-31T05:45:46.061Z",
        "id": "672302a26478fdf28a8c74ad"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672302a26478fdf28a8c74ac",
        "createdAt": "2024-10-31T05:45:46.061Z",
        "updatedAt": "2024-10-31T05:45:46.061Z",
        "id": "672302a26478fdf28a8c74ac"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672302a26478fdf28a8c74ae",
        "createdAt": "2024-10-31T05:45:46.061Z",
        "updatedAt": "2024-10-31T05:45:46.061Z",
        "id": "672302a26478fdf28a8c74ae"
      },
      {
        "name": "cat.jpg",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/834824ee-f4e6-4af7-9adf-56aacdc86da9.jpg",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672302a26478fdf28a8c74ab",
        "createdAt": "2024-10-31T05:45:46.061Z",
        "updatedAt": "2024-10-31T05:45:46.061Z",
        "id": "672302a26478fdf28a8c74ab"
      }
    ],
    "createdAt": "2024-10-31T04:08:03.561Z",
    "updatedAt": "2024-10-31T05:45:46.061Z",
    "id": "zPQtcIU7T"
  },
  {
    "_id": "vgDz82UEx",
    "name": "ICM 8.4",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6723196f126dec7d5458b7da",
          "6723196f126dec7d5458b7db",
          "6723196f126dec7d5458b7dc",
          "6723196f126dec7d5458b7dd"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6723196f126dec7d5458b7d9",
        "createdAt": "2024-10-31T05:47:24.397Z",
        "updatedAt": "2024-10-31T05:47:24.397Z",
        "id": "6723196f126dec7d5458b7d9"
      },
      {
        "name": "sketch.js",
        "content": "let cat;\nlet myCat;\n\nfunction preload() {\n  cat = loadImage(\"cat.jpg\");\n}\n\nfunction setup() {\n  createCanvas(cat.width, cat.height);\n  myCat = createImage(width, height);\n\n  myCat.loadPixels();\n  cat.loadPixels();\n  pixelDensity(1);\n\n  for (let i = 0; i < cat.pixels.length; i++) {\n    myCat.pixels[i] = cat.pixels[i];\n  }\n\n  for (let x = width/2 - 5; x < width/2 + 5; x++) {\n    for (let y = 0; y < height; y++) {\n      let index = (x + y * width) * 4;\n        myCat.pixels[index] = 0;\n        myCat.pixels[index + 1] = 0;\n        myCat.pixels[index + 2] = 255;\n        myCat.pixels[index + 3] = 255;\n    }\n  }\n\n  myCat.updatePixels();\n\n  image(myCat, 0, 0);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6723196f126dec7d5458b7dc",
        "createdAt": "2024-10-31T05:47:24.397Z",
        "updatedAt": "2024-10-31T05:47:24.397Z",
        "id": "6723196f126dec7d5458b7dc"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6723196f126dec7d5458b7db",
        "createdAt": "2024-10-31T05:47:24.397Z",
        "updatedAt": "2024-10-31T05:47:24.397Z",
        "id": "6723196f126dec7d5458b7db"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6723196f126dec7d5458b7dd",
        "createdAt": "2024-10-31T05:47:24.397Z",
        "updatedAt": "2024-10-31T05:47:24.397Z",
        "id": "6723196f126dec7d5458b7dd"
      },
      {
        "name": "cat.jpg",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/faedcd2c-19da-4635-80fa-abe7d9c06dfe.jpg",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6723196f126dec7d5458b7da",
        "createdAt": "2024-10-31T05:47:24.397Z",
        "updatedAt": "2024-10-31T05:47:24.397Z",
        "id": "6723196f126dec7d5458b7da"
      }
    ],
    "createdAt": "2024-10-31T05:45:19.765Z",
    "updatedAt": "2024-10-31T05:47:24.397Z",
    "id": "vgDz82UEx"
  },
  {
    "_id": "b2NCZCaa4",
    "name": "ICM 8.5 - two tone mirror",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67231a7cb23e85b1b920eede",
          "67231a7cb23e85b1b920eedd",
          "67231a7cb23e85b1b920eedf"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67231a7cb23e85b1b920eee0",
        "createdAt": "2024-11-09T20:03:04.667Z",
        "updatedAt": "2024-11-09T20:03:04.667Z",
        "id": "67231a7cb23e85b1b920eee0"
      },
      {
        "name": "sketch.js",
        "content": "let video;\nlet videoSize = 5;\n\nfunction setup() {\n  createCanvas(640, 480);\n  video = createCapture(VIDEO);\n\n  // hide the DOM element\n  video.hide();\n\n  colorMode(HSB);\n}\n\nfunction draw() {\n  background(220);\n\n  video.loadPixels();\n\n  for (let x = 0; x < width; x+=videoSize) {\n    for (let y = 0; y < height; y+=videoSize) {\n      let i = (x + y * width) * 4;\n      let c = color(video.pixels[i], video.pixels[i + 1], video.pixels[i + 2]);\n      let b = brightness(c);\n\n      // console.log(b)\n      \n      fill(b > 50 ? 0 : 255);\n\n      // Draw a big rect to represent this pixel\n      rect(x, y, videoSize, videoSize);\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67231a7cb23e85b1b920eedd",
        "createdAt": "2024-11-09T20:03:04.667Z",
        "updatedAt": "2024-11-09T20:03:04.667Z",
        "id": "67231a7cb23e85b1b920eedd"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67231a7cb23e85b1b920eede",
        "createdAt": "2024-11-09T20:03:04.667Z",
        "updatedAt": "2024-11-09T20:03:04.667Z",
        "id": "67231a7cb23e85b1b920eede"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67231a7cb23e85b1b920eedf",
        "createdAt": "2024-11-09T20:03:04.667Z",
        "updatedAt": "2024-11-09T20:03:04.667Z",
        "id": "67231a7cb23e85b1b920eedf"
      }
    ],
    "updatedAt": "2024-11-09T20:03:04.667Z",
    "createdAt": "2024-10-31T14:34:27.521Z",
    "id": "b2NCZCaa4"
  },
  {
    "_id": "GhKxmTgwt",
    "name": "ICM 9.1",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6733f325140e5514a1de4a94",
          "6733f2ba140e5514a1de4a91",
          "6733f2ba140e5514a1de4a90",
          "6733f2ba140e5514a1de4a92"
        ],
        "fileType": "folder",
        "_id": "6733f2ba140e5514a1de4a93",
        "createdAt": "2024-11-13T00:31:39.938Z",
        "updatedAt": "2024-11-13T00:31:39.938Z",
        "id": "6733f2ba140e5514a1de4a93"
      },
      {
        "name": "sketch.js",
        "content": "let sound;\n\nfunction preload() {\n  sound = loadSound(\"bell.wav\");\n}\n\nfunction setup() {\n  createCanvas(400, 400);\n}\n\nfunction draw() {\n  background(220);\n}\n\nfunction mousePressed() {\n  sound.play();\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6733f2ba140e5514a1de4a90",
        "createdAt": "2024-11-13T00:31:39.938Z",
        "updatedAt": "2024-11-13T00:31:39.938Z",
        "id": "6733f2ba140e5514a1de4a90"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "6733f2ba140e5514a1de4a91",
        "createdAt": "2024-11-13T00:31:39.938Z",
        "updatedAt": "2024-11-13T00:31:39.938Z",
        "id": "6733f2ba140e5514a1de4a91"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "6733f2ba140e5514a1de4a92",
        "createdAt": "2024-11-13T00:31:39.938Z",
        "updatedAt": "2024-11-13T00:31:39.938Z",
        "id": "6733f2ba140e5514a1de4a92"
      },
      {
        "name": "bell.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/1a43819c-ca20-48b8-9674-ef121467b98e.wav",
        "children": [],
        "fileType": "file",
        "_id": "6733f325140e5514a1de4a94",
        "createdAt": "2024-11-13T00:31:39.938Z",
        "updatedAt": "2024-11-13T00:31:39.938Z",
        "id": "6733f325140e5514a1de4a94"
      }
    ],
    "updatedAt": "2024-11-13T00:31:39.938Z",
    "createdAt": "2024-11-13T00:31:39.938Z",
    "id": "GhKxmTgwt"
  },
  {
    "_id": "qxdxm6vg6",
    "name": "ICM 9.2",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6733f3f6931206013604719d",
          "6733f3f66d2c639000e5352f",
          "6733f3f693120601360471a8",
          "6733f3f693120601360471b5",
          "6733f3f693120601360471c3",
          "6733f3f76d2c639000e53559",
          "6733f3f784fad562d67dab2a",
          "6733f3ab140e5514a1de4a96",
          "6733f3ab140e5514a1de4a97",
          "6733f3ab140e5514a1de4a98",
          "6733f3ab140e5514a1de4a99"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6733f3ab140e5514a1de4a95",
        "createdAt": "2024-11-13T01:21:47.831Z",
        "updatedAt": "2024-11-13T01:21:47.831Z",
        "id": "6733f3ab140e5514a1de4a95"
      },
      {
        "name": "sketch.js",
        "content": "let sounds = [];\nlet d = 0;\n\nfunction preload() {\n  for (i = 0; i < 7; i++) {\n    sounds.push(loadSound(i + \".mp3\"));\n  }\n}\n\nfunction setup() {\n  createCanvas(400, 400);\n}\n\nfunction draw() {\n  background(220);\n}\n\nfunction mousePressed() {\n  if (!sounds[d].isPlaying()) {\n    sounds[d].play();\n  } else {\n    sounds[d].pause();\n    if (d < 8) {\n      d++;\n    } else {\n      d = 0;\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6733f3ab140e5514a1de4a98",
        "createdAt": "2024-11-13T01:21:47.831Z",
        "updatedAt": "2024-11-13T01:21:47.831Z",
        "id": "6733f3ab140e5514a1de4a98"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6733f3ab140e5514a1de4a97",
        "createdAt": "2024-11-13T01:21:47.831Z",
        "updatedAt": "2024-11-13T01:21:47.831Z",
        "id": "6733f3ab140e5514a1de4a97"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6733f3ab140e5514a1de4a99",
        "createdAt": "2024-11-13T01:21:47.831Z",
        "updatedAt": "2024-11-13T01:21:47.831Z",
        "id": "6733f3ab140e5514a1de4a99"
      },
      {
        "name": "bell.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/48b24dfe-c19c-4e82-b7bd-b5bd41dde303.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6733f3ab140e5514a1de4a96",
        "createdAt": "2024-11-13T01:21:47.831Z",
        "updatedAt": "2024-11-13T01:21:47.831Z",
        "id": "6733f3ab140e5514a1de4a96"
      },
      {
        "name": "0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/fb23e480-666a-486a-83b0-fc4af95e36d5.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6733f3f6931206013604719d",
        "createdAt": "2024-11-13T01:21:47.831Z",
        "updatedAt": "2024-11-13T01:21:47.831Z",
        "id": "6733f3f6931206013604719d"
      },
      {
        "name": "1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c0b77409-401f-4f8d-8fca-cd2838b69ec7.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6733f3f66d2c639000e5352f",
        "createdAt": "2024-11-13T01:21:47.831Z",
        "updatedAt": "2024-11-13T01:21:47.831Z",
        "id": "6733f3f66d2c639000e5352f"
      },
      {
        "name": "2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f3949f15-a488-4830-b539-89fd859fbd1f.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6733f3f693120601360471a8",
        "createdAt": "2024-11-13T01:21:47.831Z",
        "updatedAt": "2024-11-13T01:21:47.831Z",
        "id": "6733f3f693120601360471a8"
      },
      {
        "name": "3.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/1bc697d8-91f7-443c-a580-15a0fbff5c15.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6733f3f693120601360471b5",
        "createdAt": "2024-11-13T01:21:47.831Z",
        "updatedAt": "2024-11-13T01:21:47.831Z",
        "id": "6733f3f693120601360471b5"
      },
      {
        "name": "4.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/04731866-ad55-4f32-8434-7cab55bd03e2.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6733f3f693120601360471c3",
        "createdAt": "2024-11-13T01:21:47.831Z",
        "updatedAt": "2024-11-13T01:21:47.831Z",
        "id": "6733f3f693120601360471c3"
      },
      {
        "name": "5.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/309dd1cf-437d-4c7b-9432-841afa807fdf.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6733f3f76d2c639000e53559",
        "createdAt": "2024-11-13T01:21:47.831Z",
        "updatedAt": "2024-11-13T01:21:47.831Z",
        "id": "6733f3f76d2c639000e53559"
      },
      {
        "name": "6.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c88a9a67-577a-479f-90a8-545085279018.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6733f3f784fad562d67dab2a",
        "createdAt": "2024-11-13T01:21:47.831Z",
        "updatedAt": "2024-11-13T01:21:47.831Z",
        "id": "6733f3f784fad562d67dab2a"
      }
    ],
    "createdAt": "2024-11-13T00:32:44.239Z",
    "updatedAt": "2024-11-13T01:21:47.831Z",
    "id": "qxdxm6vg6"
  },
  {
    "_id": "-1EqOflri",
    "name": "ICM 9.3",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6733ff77140e5514a1de4a9b",
          "6733ff77140e5514a1de4a9a",
          "6733ff77140e5514a1de4a9c"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6733ff77140e5514a1de4a9d",
        "createdAt": "2024-11-13T01:39:58.002Z",
        "updatedAt": "2024-11-13T01:39:58.002Z",
        "id": "6733ff77140e5514a1de4a9d"
      },
      {
        "name": "sketch.js",
        "content": "let mic;\nlet fft;\n\nfunction setup() {\n  createCanvas(400, 400);\n  \n  mic = new p5.AudioIn();\n  mic.start();\n  \n  fft = new p5.FFT();\n  fft.setInput(mic);\n  \n}\n\nfunction draw() {\n  background(0);\n  // // Visualize the mic level with an ellipse\n  // let level = mic.getLevel()*5000;\n  // if (level > width/2) {\n  //   background(0, 100, 100);\n  // }\n  // ellipse(width/2, height/2, level, level);\n  \n  \n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6733ff77140e5514a1de4a9a",
        "createdAt": "2024-11-13T01:39:58.002Z",
        "updatedAt": "2024-11-13T01:39:58.002Z",
        "id": "6733ff77140e5514a1de4a9a"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6733ff77140e5514a1de4a9b",
        "createdAt": "2024-11-13T01:39:58.002Z",
        "updatedAt": "2024-11-13T01:39:58.002Z",
        "id": "6733ff77140e5514a1de4a9b"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6733ff77140e5514a1de4a9c",
        "createdAt": "2024-11-13T01:39:58.002Z",
        "updatedAt": "2024-11-13T01:39:58.002Z",
        "id": "6733ff77140e5514a1de4a9c"
      }
    ],
    "updatedAt": "2024-11-13T01:39:58.002Z",
    "createdAt": "2024-11-13T01:28:22.254Z",
    "id": "-1EqOflri"
  },
  {
    "_id": "WmkFUEq_O",
    "name": "ICM FINAL",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "675a587ce340f088d8bde023",
          "675a59a543cf7ce636a4cb7c",
          "675a59a643cf7ce636a4cbe4",
          "675a59a5dad1b087c6352bae",
          "675af4f2fcec93fa02f6aa1c",
          "675a59f643cf7ce636a4f1d7",
          "675af4af4d006ed5fc0b930d",
          "675a59a528892e34f9a94cf8",
          "675a5872e340f088d8bde020",
          "675a5872e340f088d8bde01f",
          "675a5872e340f088d8bde021"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "675a5872e340f088d8bde022",
        "createdAt": "2024-12-12T19:28:24.705Z",
        "updatedAt": "2024-12-12T19:28:24.705Z",
        "id": "675a5872e340f088d8bde022"
      },
      {
        "name": "sketch.js",
        "content": "let classifier; // Variable to store the image classifier\nlet currentImage; // Variable to store the currently displayed image\nlet results = []; // Array to store classification results\nlet modelReady = false; // Boolean flag to indicate if the model is loaded\nlet imageIndex = 0; // Index to track the current image in the array\nlet images = []; // Array to hold all the images to be classified\n\n// URL of the Teachable Machine model\nlet imageModelURL = \"https://teachablemachine.withgoogle.com/models/VV0XkHNSP/\";\n\nfunction preload() {\n  // Preload function runs before setup()\n  // Load the image classification model\n  classifier = ml5.imageClassifier(imageModelURL + \"model.json\", () => {\n    console.log(\"Model loaded successfully!\");\n    modelReady = true; // Set the flag to true once the model is loaded\n  });\n\n  // Load images into the images array\n  images[0] = loadImage(\"0.png\"); // Load image 0\n  images[1] = loadImage(\"1.png\"); // Load image 1\n  images[2] = loadImage(\"2.png\"); // Load image 2\n  images[3] = loadImage(\"3.png\"); // Load image 3\n  images[4] = loadImage(\"4.png\"); // Load image 4\n  images[5] = loadImage(\"5.png\"); // Load image 5\n  images[6] = loadImage(\"6.png\"); // Load image 6\n}\n\nfunction setup() {\n  createCanvas(640, 480); // Create a 640x480 pixel canvas\n  background(0); // Set the initial background to black\n\n  // Display the first image initially\n  currentImage = images[0];\n  \n  // If the model is ready, classify the first image\n  if (modelReady) {\n    classifyImage();\n  }\n}\n\nfunction classifyImage() {\n  // Check if the model and current image are ready\n  if (!modelReady || !currentImage) {\n    console.log(\"Model or image not ready\");\n    return; // Exit the function if not ready\n  }\n\n  // Log the current image being analyzed\n  console.log(`\\nAnalyzing Image ${imageIndex + 1}...`);\n\n  // Use the classifier to classify the current image\n  classifier.classify(currentImage, gotResult);\n}\n\nfunction gotResult(error, newResults) {\n  // If the error parameter is actually the results array\n  if (Array.isArray(error)) {\n    newResults = error; // Treat it as the results\n    error = null; // Clear the error\n  }\n\n  // Handle any classification errors\n  if (error) {\n    console.error(\"Real classification error:\", error);\n    return;\n  }\n\n  // Log the classification results\n  console.log(`\\nðŸ“Š Results for Image ${imageIndex + 1}:`);\n  newResults.forEach((result) => {\n    const percentage = (result.confidence * 100).toFixed(2); // Confidence as percentage\n    const emoji = result.label === \"love\" ? \"â¤ï¸\" : \"ðŸ˜”\"; // Emoji based on label\n    console.log(`${emoji} ${result.label}: ${percentage}%`); // Log label and confidence\n  });\n\n  // Update the global results array with the new classification results\n  results = [...newResults];\n}\n\nfunction draw() {\n  background(0); // Clear the canvas with a black background\n\n//   // Draw the current image on the canvas\n//   if (currentImage) {\n//     // // Calculate scale ratio to fit the image within the canvas while maintaining aspect ratio\n//     // let scaleRatio = Math.min(\n//     //   width / currentImage.width,\n//     //   height / currentImage.height\n//     // );\n//     let newWidth = currentImage.width * scaleRatio; // Scaled width\n//     let newHeight = currentImage.height * scaleRatio; // Scaled height\n//     let x = (width - newWidth) / 2; // Center the image horizontally\n//     let y = (height - newHeight) / 2; // Center the image vertically\n\n//     // Draw the image at the calculated position and size\n//     image(currentImage, x, y, newWidth, newHeight);\n//   }\n  \n  image(currentImage, 0, 0, width, height);\n\n  // Draw the classification results as an overlay\n  if (results && results.length > 0) {\n    console.log(\"Drawing results:\", results); // Debug log to verify results exist\n\n    // Draw a semi-transparent rectangle as a background for results\n    noStroke();\n    fill(0, 0, 0, 200); // Black with transparency\n    rect(10, 10, 300, 75);\n\n    // Title for results overlay\n    fill(255); // White text\n    textSize(16);\n    textAlign(LEFT);\n\n    // Loop through each classification result and display it\n    results.forEach((result, i) => {\n      const y = 40 + i * 25; // Y-position for each result\n      const confidence = (result.confidence * 100).toFixed(1); // Confidence percentage\n\n      // Draw a semi-transparent rectangle behind each result line\n      fill(0, 0, 0, 150);\n      rect(15, y - 15, 290, 20);\n\n      // Set text color based on confidence value\n      fill(confidence > 50 ? color(100, 255, 100) : 255); // Green if confidence > 50%\n      text(`${result.label}: ${confidence}%`, 20, y); // Display label and confidence\n    });\n  }\n}\n\nfunction keyPressed() {\n  // Check if the \"P\" key is pressed\n  if (key === \"p\" || key === \"P\") {\n    // Increment the image index to switch to the next image\n    imageIndex = (imageIndex + 1) % images.length; // Loop back to start if at the end\n    currentImage = images[imageIndex]; // Update the current image\n    console.log(\"\\nSwitched to image\", imageIndex + 1);\n\n    // Classify the new image\n    classifyImage();\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "675a5872e340f088d8bde01f",
        "createdAt": "2024-12-12T19:28:24.705Z",
        "updatedAt": "2024-12-12T19:28:24.705Z",
        "id": "675a5872e340f088d8bde01f"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <script src=\"https://unpkg.com/ml5@1/dist/ml5.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675a5872e340f088d8bde020",
        "createdAt": "2024-12-12T19:28:24.705Z",
        "updatedAt": "2024-12-12T19:28:24.705Z",
        "id": "675a5872e340f088d8bde020"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675a5872e340f088d8bde021",
        "createdAt": "2024-12-12T19:28:24.705Z",
        "updatedAt": "2024-12-12T19:28:24.705Z",
        "id": "675a5872e340f088d8bde021"
      },
      {
        "name": "0.mp4",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/e808d673-1a53-4d72-837f-bbe065bb78e1.mp4",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675a587ce340f088d8bde023",
        "createdAt": "2024-12-12T19:28:24.705Z",
        "updatedAt": "2024-12-12T19:28:24.705Z",
        "id": "675a587ce340f088d8bde023"
      },
      {
        "name": "6.png",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/0fb18472-bf4b-42d2-982e-583b33acaaec.png",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675a59a528892e34f9a94cf8",
        "createdAt": "2024-12-12T19:28:24.705Z",
        "updatedAt": "2024-12-12T19:28:24.705Z",
        "id": "675a59a528892e34f9a94cf8"
      },
      {
        "name": "2.png",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/408868f6-df77-4bb5-80b4-37fd8b489c84.png",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675a59a5dad1b087c6352bae",
        "createdAt": "2024-12-12T19:28:24.705Z",
        "updatedAt": "2024-12-12T19:28:24.705Z",
        "id": "675a59a5dad1b087c6352bae"
      },
      {
        "name": "0.png",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/351e48c3-f9ae-4171-be74-8abaed39b70a.png",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675a59a543cf7ce636a4cb7c",
        "createdAt": "2024-12-12T19:28:24.705Z",
        "updatedAt": "2024-12-12T19:28:24.705Z",
        "id": "675a59a543cf7ce636a4cb7c"
      },
      {
        "name": "1.png",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/d696c77a-c1cb-4636-ad68-2a4c5df7d2db.png",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675a59a643cf7ce636a4cbe4",
        "createdAt": "2024-12-12T19:28:24.705Z",
        "updatedAt": "2024-12-12T19:28:24.705Z",
        "id": "675a59a643cf7ce636a4cbe4"
      },
      {
        "name": "4.png",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/88ce7f9b-cd87-415b-8099-5d2dfd10f0a3.png",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675a59f643cf7ce636a4f1d7",
        "createdAt": "2024-12-12T19:28:24.705Z",
        "updatedAt": "2024-12-12T19:28:24.705Z",
        "id": "675a59f643cf7ce636a4f1d7"
      },
      {
        "name": "5.png",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/292500ff-4f52-4657-90dd-8a67c3af04bb.png",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675af4af4d006ed5fc0b930d",
        "createdAt": "2024-12-12T19:28:24.705Z",
        "updatedAt": "2024-12-12T19:28:24.705Z",
        "id": "675af4af4d006ed5fc0b930d"
      },
      {
        "name": "3.png",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/3e766963-9351-4bc2-bdc8-15baf2009779.png",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675af4f2fcec93fa02f6aa1c",
        "createdAt": "2024-12-12T19:28:24.705Z",
        "updatedAt": "2024-12-12T19:28:24.705Z",
        "id": "675af4f2fcec93fa02f6aa1c"
      }
    ],
    "updatedAt": "2024-12-12T19:28:24.705Z",
    "createdAt": "2024-12-12T03:29:08.399Z",
    "id": "WmkFUEq_O"
  },
  {
    "_id": "_N5Jd0CBk",
    "name": "ICM FINAL : classifying love",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "675a04a07c46186448532f13",
          "6759f7ba66233e0f8201588a",
          "6759f7ba66233e0f82015889",
          "6759f7ba66233e0f8201588b"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6759f7ba66233e0f8201588c",
        "createdAt": "2024-12-11T23:32:28.672Z",
        "updatedAt": "2024-12-11T23:32:28.672Z",
        "id": "6759f7ba66233e0f8201588c"
      },
      {
        "name": "sketch.js",
        "content": "let video; // Video element for playback\nlet featureExtractor; // Feature extractor for ML5.js\nlet classifier; // Classifier to label images\nlet currentLabel = \"\"; // Stores the current label to be added to regions\nlet boxes = []; // Array to store bounding box coordinates\nlet videoReady = false; // Tracks if the video is ready for processing\nlet loss; // Variable to track training loss\n\n// Load the video file before setup\nfunction preload() {\n  video = createVideo(\"0.mp4\", () => { // Load the video file\n    console.log(\"Video loaded\"); // Log when the video is loaded\n    videoReady = true; // Mark the video as ready\n  });\n  video.hide(); // Hide the video element since we'll draw it to the canvas\n}\n\n// Initial setup for the canvas and ML5 feature extractor\nfunction setup() {\n  createCanvas(640, 480); // Create a canvas with 640x480 dimensions\n\n  // Initialize MobileNet feature extractor\n  featureExtractor = ml5.featureExtractor(\"MobileNet\", modelLoaded);\n  // Initialize a classifier tied to the video input\n  classifier = featureExtractor.classification(video, videoReadyCallback);\n\n  // Create buttons for labeling and actions\n  let loveButton = createButton(\"Label Love\"); // Button to set the label \"love\"\n  loveButton.mousePressed(() => (currentLabel = \"love\")); // Set the label when pressed\n\n  let lonelinessButton = createButton(\"Label Loneliness\"); // Button to set the label \"loneliness\"\n  lonelinessButton.mousePressed(() => (currentLabel = \"loneliness\")); // Set the label when pressed\n\n  let saveBoxButton = createButton(\"Save Region\"); // Button to save labeled regions\n  saveBoxButton.mousePressed(saveBoxRegions); // Call function to save regions when pressed\n\n  let trainButton = createButton(\"Train Model\"); // Button to train the model\n  trainButton.mousePressed(trainModel); // Call function to start training when pressed\n}\n\n// Callback when the feature extractor model is loaded\nfunction modelLoaded() {\n  console.log(\"FeatureExtractor (MobileNet) loaded!\"); // Log success\n}\n\n// Callback when the video is ready for classification\nfunction videoReadyCallback() {\n  console.log(\"Video ready for classification!\"); // Log readiness\n  video.loop(); // Start the video in a loop\n  videoReady = true; // Mark video as ready\n}\n\n// Main drawing loop\nfunction draw() {\n  background(0); // Clear the canvas with a black background\n\n  if (videoReady) {\n    image(video, 0, 0, width, height); // Draw the current video frame onto the canvas\n    loadPixels(); // Ensure the canvas pixels are loaded into memory\n    console.log(\"Video frame drawn on canvas.\"); // Debug log to confirm the video is drawn\n  }\n\n  // Draw all saved bounding boxes\n  noFill();\n  stroke(255, 0, 0); // Red outline for rectangles\n  strokeWeight(2); // Thickness of rectangle outline\n  boxes.forEach((box) => {\n    rect(box.x, box.y, box.w, box.h); // Draw each bounding box\n  });\n}\n\n// Handle key presses for video controls\nfunction keyPressed() {\n  if (key === 'p') { // Press 'p' to play the video\n    video.play(); // Play the video\n    console.log(\"Video playing.\"); // Log the action\n  }\n\n  if (key === 'a') { // Press 'a' to pause the video\n    video.pause(); // Pause the video\n    console.log(\"Video paused. Use mouse to draw bounding boxes.\"); // Log the action\n  }\n\n  if (key === 'r') { // Press 'r' to restart the video\n    video.time(0); // Restart the video from the beginning\n    video.pause(); // Pause the video\n    console.log(\"Video restarted.\"); // Log the action\n  }\n}\n\n// Start a new bounding box on mouse press\nfunction mousePressed() {\n  if (currentLabel !== \"\") { // Only start drawing if a label is selected\n    boxes.push({ x: mouseX, y: mouseY, w: 0, h: 0 }); // Add a new bounding box\n    console.log(\"Started a new bounding box:\", boxes[boxes.length - 1]); // Log the new box\n  }\n}\n\n// Update the size of the bounding box as the mouse is dragged\nfunction mouseDragged() {\n  let box = boxes[boxes.length - 1]; // Get the most recently added box\n  if (box) {\n    box.w = abs(mouseX - box.x); // Calculate width\n    box.h = abs(mouseY - box.y); // Calculate height\n    if (mouseX < box.x) box.x = mouseX; // Adjust for reverse dragging on x-axis\n    if (mouseY < box.y) box.y = mouseY; // Adjust for reverse dragging on y-axis\n    console.log(\"Updated bounding box:\", box); // Log updated box dimensions\n  }\n}\n\n// Save labeled regions by extracting bounding box pixel arrays\nfunction saveBoxRegions() {\n  if (currentLabel !== \"\" && boxes.length > 0) { // Ensure label and boxes exist\n    boxes = boxes.filter((box) => box.w > 0 && box.h > 0); // Remove invalid boxes\n\n    let added = 0; // Counter for successfully added images\n    setTimeout(() => { // Add delay to ensure canvas rendering\n      loadPixels(); // Load all pixel data into memory\n      boxes.forEach((box) => {\n        if (\n          typeof box.w === \"number\" &&\n          typeof box.h === \"number\" &&\n          box.w > 0 &&\n          box.h > 0 &&\n          box.x >= 0 &&\n          box.y >= 0 &&\n          box.x + box.w <= width &&\n          box.y + box.h <= height\n        ) {\n          // Create a p5.Image to hold the region's pixel data\n          let img = createImage(box.w, box.h);\n          img.loadPixels();\n          for (let y = 0; y < box.h; y++) {\n            for (let x = 0; x < box.w; x++) {\n              let idxCanvas = ((box.y + y) * width + (box.x + x)) * 4; // Canvas pixel index\n              let idxImage = (y * box.w + x) * 4; // Image pixel index\n              img.pixels[idxImage] = pixels[idxCanvas];       // Red\n              img.pixels[idxImage + 1] = pixels[idxCanvas + 1]; // Green\n              img.pixels[idxImage + 2] = pixels[idxCanvas + 2]; // Blue\n              img.pixels[idxImage + 3] = pixels[idxCanvas + 3]; // Alpha\n            }\n          }\n          img.updatePixels();\n\n          // Pass the created image to the classifier\n          if (img) {\n            console.log(`Extracted region for box:`, box);\n            classifier.addImage(img, currentLabel); // Add the p5.Image object to the classifier\n            added++;\n          } else {\n            console.log(\"Failed to create image for box:\", box);\n          }\n        } else {\n          console.log(\"Invalid bounding box skipped:\", box); // Log skipped box\n        }\n      });\n      console.log(`${added} regions labeled as ${currentLabel}`); // Log successfully added regions\n      boxes = []; // Clear all boxes after saving\n    }, 50); // 50ms delay for canvas update\n  } else {\n    console.log(\"No label selected or no bounding boxes drawn.\"); // Log if no boxes/labels exist\n  }\n}\n\n// Train the model after labeling regions\nfunction trainModel() {\n  const numLabels = classifier.getNumLabels(); // Get the number of labeled categories\n  if (numLabels === 0) { // Ensure there are labeled examples\n    console.log(\"No examples added. Please add examples before training.\"); // Log error\n    return;\n  }\n\n  console.log(\"Training model...\"); // Log training start\n  classifier.train((lossValue) => { // Start training\n    loss = lossValue; // Update loss value\n    if (loss == null) { // Check if training is complete\n      console.log(\"Training complete!\"); // Log success\n    } else {\n      console.log(\"Loss: \" + loss); // Log the current loss value\n    }\n  });\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6759f7ba66233e0f82015889",
        "createdAt": "2024-12-11T23:32:28.672Z",
        "updatedAt": "2024-12-11T23:32:28.672Z",
        "id": "6759f7ba66233e0f82015889"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Video Frame Labeling</title>\n    <!-- Include p5.js -->\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js\"></script>\n    <!-- Include ml5.js -->\n    <script src=\"https://unpkg.com/ml5@0.12.2/dist/ml5.min.js\"></script>\n  </head>\n  <body>\n    <!-- Link to sketch.js -->\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6759f7ba66233e0f8201588a",
        "createdAt": "2024-12-11T23:32:28.672Z",
        "updatedAt": "2024-12-11T23:32:28.672Z",
        "id": "6759f7ba66233e0f8201588a"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6759f7ba66233e0f8201588b",
        "createdAt": "2024-12-11T23:32:28.672Z",
        "updatedAt": "2024-12-11T23:32:28.672Z",
        "id": "6759f7ba66233e0f8201588b"
      },
      {
        "name": "0.mp4",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/5c6a3ef6-3c50-42f3-9bf2-db61bae25e5b.mp4",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675a04a07c46186448532f13",
        "createdAt": "2024-12-11T23:32:28.672Z",
        "updatedAt": "2024-12-11T23:32:28.672Z",
        "id": "675a04a07c46186448532f13"
      }
    ],
    "updatedAt": "2024-12-11T23:32:28.672Z",
    "createdAt": "2024-12-11T20:36:56.485Z",
    "id": "_N5Jd0CBk"
  },
  {
    "_id": "VgdUZGQ59",
    "name": "ICM W10 in class (pitch)",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67363d3a2d80183ee2bb69d8",
          "67363d3a2d80183ee2bb69d7",
          "67363d3a2d80183ee2bb69d9"
        ],
        "fileType": "folder",
        "_id": "67363d3a2d80183ee2bb69da",
        "createdAt": "2024-11-14T19:02:19.883Z",
        "updatedAt": "2024-11-14T19:02:19.883Z",
        "id": "67363d3a2d80183ee2bb69da"
      },
      {
        "name": "sketch.js",
        "content": "let osc;\n\nfunction setup() {\n  createCanvas(400, 400);\n  osc = new p5.Oscillator();\n  osc.setType('sine');\n  osc.freq(0);\n  osc.start();\n}\n\nfunction draw() {\n  background(220);\n}\n\nfunction keyPressed() {\n  // let f = random(50, 500);\n  let f = random(ratios)\n  osc.freq(f);\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67363d3a2d80183ee2bb69d7",
        "createdAt": "2024-11-14T19:02:19.883Z",
        "updatedAt": "2024-11-14T19:02:19.883Z",
        "id": "67363d3a2d80183ee2bb69d7"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "67363d3a2d80183ee2bb69d8",
        "createdAt": "2024-11-14T19:02:19.883Z",
        "updatedAt": "2024-11-14T19:02:19.883Z",
        "id": "67363d3a2d80183ee2bb69d8"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "67363d3a2d80183ee2bb69d9",
        "createdAt": "2024-11-14T19:02:19.883Z",
        "updatedAt": "2024-11-14T19:02:19.883Z",
        "id": "67363d3a2d80183ee2bb69d9"
      }
    ],
    "updatedAt": "2024-11-14T19:02:19.883Z",
    "createdAt": "2024-11-14T19:02:09.322Z",
    "id": "VgdUZGQ59"
  },
  {
    "_id": "-ZFjw2Nl6",
    "name": "ICM W10 in class_drum loops",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6736494d2d80183ee2bb69e1",
          "6736494c2d80183ee2bb69e0",
          "6736494d2d80183ee2bb69e2",
          "6736494d2d80183ee2bb69e3",
          "6736494d2d80183ee2bb69e4",
          "6736494c2d80183ee2bb69df",
          "6736494d2d80183ee2bb69e5",
          "6736493e2d80183ee2bb69dc",
          "6736493e2d80183ee2bb69db",
          "6736493e2d80183ee2bb69dd"
        ],
        "fileType": "folder",
        "_id": "6736493e2d80183ee2bb69de",
        "createdAt": "2024-11-15T21:07:30.946Z",
        "updatedAt": "2024-11-15T21:07:30.946Z",
        "id": "6736493e2d80183ee2bb69de"
      },
      {
        "name": "sketch.js",
        "content": "let drums = [];\n\nfunction preload() {\n  for (i = 0; i < 7; i++) {\n    let drum = loadSound('drums/' + i + '.mp3');\n    drums.push(drum);\n  }\n}\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n}\n\nlet x = 0;\n\nfunction draw() {\n  background(220);\n  x++;\n  \n  if(x > width) {\n    x = 0;\n    background(255);\n  }\n  \n  let y+= height/drums.length;\n  fill(0);\n  \n  if(frameCount % 60 == 1) { //using 1 instead of 0 makes it start immediately\n    drums[0].play();\n    rect(x, y, 5, 15);\n  }\n  \n  // Mango\n    if(frameCount % (60/2) == 1) { //using 1 instead of 0 makes it start immediately\n    drums[1].play();\n    rect(x, y, 5, 15);\n  }\n  \n  // Pineapple\n    if(frameCount % (60/3) == 1) { //using 1 instead of 0 makes it start immediately\n    drums[2].play();\n    rect(x, y, 5, 15);\n  }\n  \n  // new event inside same time window: using diff remainders to generate syncopation\n    if(frameCount % 60 == 41) { //using 1 instead of 0 makes it start immediately\n    drums[3].play();\n    rect(x, y, 5, 15);\n  }\n}\n\nfunction keyPressed() {\n  drums[key - 1].play();\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6736493e2d80183ee2bb69db",
        "createdAt": "2024-11-15T21:07:30.946Z",
        "updatedAt": "2024-11-15T21:07:30.946Z",
        "id": "6736493e2d80183ee2bb69db"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "6736493e2d80183ee2bb69dc",
        "createdAt": "2024-11-15T21:07:30.946Z",
        "updatedAt": "2024-11-15T21:07:30.946Z",
        "id": "6736493e2d80183ee2bb69dc"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "6736493e2d80183ee2bb69dd",
        "createdAt": "2024-11-15T21:07:30.946Z",
        "updatedAt": "2024-11-15T21:07:30.946Z",
        "id": "6736493e2d80183ee2bb69dd"
      },
      {
        "name": "5.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/846bd3d2-8fab-4a66-a414-a96e757cff15.mp3",
        "children": [],
        "fileType": "file",
        "_id": "6736494c2d80183ee2bb69df",
        "createdAt": "2024-11-15T21:07:30.946Z",
        "updatedAt": "2024-11-15T21:07:30.946Z",
        "id": "6736494c2d80183ee2bb69df"
      },
      {
        "name": "1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/1a0027fe-dc07-4397-a67f-2dc04bc06e57.mp3",
        "children": [],
        "fileType": "file",
        "_id": "6736494c2d80183ee2bb69e0",
        "createdAt": "2024-11-15T21:07:30.946Z",
        "updatedAt": "2024-11-15T21:07:30.946Z",
        "id": "6736494c2d80183ee2bb69e0"
      },
      {
        "name": "0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f173f2ad-9cf7-4851-9582-378d5ea5395d.mp3",
        "children": [],
        "fileType": "file",
        "_id": "6736494d2d80183ee2bb69e1",
        "createdAt": "2024-11-15T21:07:30.946Z",
        "updatedAt": "2024-11-15T21:07:30.946Z",
        "id": "6736494d2d80183ee2bb69e1"
      },
      {
        "name": "2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/bcaec503-8e09-460b-b567-2656b3ec031b.mp3",
        "children": [],
        "fileType": "file",
        "_id": "6736494d2d80183ee2bb69e2",
        "createdAt": "2024-11-15T21:07:30.946Z",
        "updatedAt": "2024-11-15T21:07:30.946Z",
        "id": "6736494d2d80183ee2bb69e2"
      },
      {
        "name": "3.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/6c6b0196-9d34-4b65-8ae1-5a5d59278c47.mp3",
        "children": [],
        "fileType": "file",
        "_id": "6736494d2d80183ee2bb69e3",
        "createdAt": "2024-11-15T21:07:30.946Z",
        "updatedAt": "2024-11-15T21:07:30.946Z",
        "id": "6736494d2d80183ee2bb69e3"
      },
      {
        "name": "4.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/ff456b6a-a779-43b4-9861-fd734de394d4.mp3",
        "children": [],
        "fileType": "file",
        "_id": "6736494d2d80183ee2bb69e4",
        "createdAt": "2024-11-15T21:07:30.946Z",
        "updatedAt": "2024-11-15T21:07:30.946Z",
        "id": "6736494d2d80183ee2bb69e4"
      },
      {
        "name": "6.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/1dba3528-5503-4020-959e-7c10055f63fd.mp3",
        "children": [],
        "fileType": "file",
        "_id": "6736494d2d80183ee2bb69e5",
        "createdAt": "2024-11-15T21:07:30.946Z",
        "updatedAt": "2024-11-15T21:07:30.946Z",
        "id": "6736494d2d80183ee2bb69e5"
      }
    ],
    "updatedAt": "2024-11-15T21:07:30.946Z",
    "createdAt": "2024-11-15T21:07:17.042Z",
    "id": "-ZFjw2Nl6"
  },
  {
    "_id": "SU2dc3ig9",
    "name": "ICM W9 in class - basic drum kit",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "672d0d4f67b9c1f3159fae41",
          "672d0c8867b9c1f3159fae3e",
          "672d0c8867b9c1f3159fae3d",
          "672d0c8867b9c1f3159fae3f"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "672d0c8867b9c1f3159fae40",
        "createdAt": "2024-11-07T19:00:36.578Z",
        "updatedAt": "2024-11-07T19:00:36.578Z",
        "id": "672d0c8867b9c1f3159fae40"
      },
      {
        "name": "sketch.js",
        "content": "let drums = [];\n\nfunction preload() {\n  for (let d = 0; d < 7; d++) {\n    drums[d] = loadSound(\"drums/\" + d + \".mp3\");\n  }\n}\n\nfunction setup() {\n  createCanvas(400, 400);\n}\n\nfunction draw() {\n  background(255);\n}\n\nfunction keyPressed() {\n  console.log(key);\n  drums[key].play();\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "672d0c8867b9c1f3159fae3d",
        "createdAt": "2024-11-07T19:00:36.578Z",
        "updatedAt": "2024-11-07T19:00:36.578Z",
        "id": "672d0c8867b9c1f3159fae3d"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672d0c8867b9c1f3159fae3e",
        "createdAt": "2024-11-07T19:00:36.578Z",
        "updatedAt": "2024-11-07T19:00:36.578Z",
        "id": "672d0c8867b9c1f3159fae3e"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672d0c8867b9c1f3159fae3f",
        "createdAt": "2024-11-07T19:00:36.578Z",
        "updatedAt": "2024-11-07T19:00:36.578Z",
        "id": "672d0c8867b9c1f3159fae3f"
      },
      {
        "name": "drums",
        "content": "",
        "children": [
          "672d0d5667b9c1f3159fae47",
          "672d0d5667b9c1f3159fae46",
          "672d0d5567b9c1f3159fae42",
          "672d0d5667b9c1f3159fae48",
          "672d0d5667b9c1f3159fae45",
          "672d0d5567b9c1f3159fae43",
          "672d0d5667b9c1f3159fae44",
          "672d0d5767b9c1f3159fae49"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "672d0d4f67b9c1f3159fae41",
        "createdAt": "2024-11-07T19:00:36.578Z",
        "updatedAt": "2024-11-07T19:00:36.578Z",
        "id": "672d0d4f67b9c1f3159fae41"
      },
      {
        "name": "2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b6288616-2898-46e9-b48a-105259558cc6.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672d0d5567b9c1f3159fae42",
        "createdAt": "2024-11-07T19:00:36.578Z",
        "updatedAt": "2024-11-07T19:00:36.578Z",
        "id": "672d0d5567b9c1f3159fae42"
      },
      {
        "name": "5.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/4d201f4e-078f-406e-a0c6-59e06b2632ba.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672d0d5567b9c1f3159fae43",
        "createdAt": "2024-11-07T19:00:36.578Z",
        "updatedAt": "2024-11-07T19:00:36.578Z",
        "id": "672d0d5567b9c1f3159fae43"
      },
      {
        "name": "6.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/13149251-6a06-4703-8c4c-e4a7ff23525c.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672d0d5667b9c1f3159fae44",
        "createdAt": "2024-11-07T19:00:36.578Z",
        "updatedAt": "2024-11-07T19:00:36.578Z",
        "id": "672d0d5667b9c1f3159fae44"
      },
      {
        "name": "4.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/20105b32-9d57-4ff0-b3fb-9286345d8016.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672d0d5667b9c1f3159fae45",
        "createdAt": "2024-11-07T19:00:36.578Z",
        "updatedAt": "2024-11-07T19:00:36.578Z",
        "id": "672d0d5667b9c1f3159fae45"
      },
      {
        "name": "1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/6327d1c5-0601-4c5c-83c7-66dd07d984f2.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672d0d5667b9c1f3159fae46",
        "createdAt": "2024-11-07T19:00:36.578Z",
        "updatedAt": "2024-11-07T19:00:36.578Z",
        "id": "672d0d5667b9c1f3159fae46"
      },
      {
        "name": "0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/711c0dcf-26ca-4b77-a084-e0b6de6208e2.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672d0d5667b9c1f3159fae47",
        "createdAt": "2024-11-07T19:00:36.578Z",
        "updatedAt": "2024-11-07T19:00:36.578Z",
        "id": "672d0d5667b9c1f3159fae47"
      },
      {
        "name": "3.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/75adb273-9ab7-4b41-80ee-58f10b3845b3.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672d0d5667b9c1f3159fae48",
        "createdAt": "2024-11-07T19:00:36.578Z",
        "updatedAt": "2024-11-07T19:00:36.578Z",
        "id": "672d0d5667b9c1f3159fae48"
      },
      {
        "name": "bell.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/4dc6bccd-1c40-461c-8bba-8c240b0550be.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672d0d5767b9c1f3159fae49",
        "createdAt": "2024-11-07T19:00:36.578Z",
        "updatedAt": "2024-11-07T19:00:36.578Z",
        "id": "672d0d5767b9c1f3159fae49"
      }
    ],
    "updatedAt": "2024-11-07T19:00:36.578Z",
    "createdAt": "2024-11-07T18:59:56.777Z",
    "id": "SU2dc3ig9"
  },
  {
    "_id": "uh8Fo4mGo",
    "name": "ICM W9 in class - sound visualization",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "672d0e6867b9c1f3159fae4f",
          "672d0e6867b9c1f3159fae4e",
          "672d0e6867b9c1f3159fae50"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "672d0e6867b9c1f3159fae51",
        "createdAt": "2024-11-08T20:43:35.851Z",
        "updatedAt": "2024-11-08T20:43:35.851Z",
        "id": "672d0e6867b9c1f3159fae51"
      },
      {
        "name": "sketch.js",
        "content": "let mic;\nlet fft;\n\nfunction setup() {\n  createCanvas(1024, 400);\n  mic = new p5.AudioIn();\n  mic.start();\n  \n  fft = new p5.FFT();\n  fft.setInput(mic);\n}\n\nfunction draw() {\n  background(255);\n  \n//   Volume Visualization\n//   let level = mic.getLevel();\n//   console.log(level);\n  \n//   let size = level * 1000\n//   if(level > 0,5) background\n//   ellipse(width/3, height/2, size);\n//   ellipse(width/3, height/3, size);\n  \n//  Bins Visualization\n  let bins = fft.analyze();\n  for (let b = 0; b < bins.length; b++){\n    let bin = bins[b];\n    let y = height - bin\n    line(b, height, b, y);\n  }\n\n//   Waveform Visualization\n  // let wave = fft.waveform();\n  // // console.log(wave);\n  // beginShape();\n  // for (let w = 0; w < wave.length; w++){\n  //   let y = wave[w] * 100 + height/2;\n  //   vertex(w, y);\n  // }\n  // endShape();\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "672d0e6867b9c1f3159fae4e",
        "createdAt": "2024-11-08T20:43:35.851Z",
        "updatedAt": "2024-11-08T20:43:35.851Z",
        "id": "672d0e6867b9c1f3159fae4e"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672d0e6867b9c1f3159fae4f",
        "createdAt": "2024-11-08T20:43:35.851Z",
        "updatedAt": "2024-11-08T20:43:35.851Z",
        "id": "672d0e6867b9c1f3159fae4f"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672d0e6867b9c1f3159fae50",
        "createdAt": "2024-11-08T20:43:35.851Z",
        "updatedAt": "2024-11-08T20:43:35.851Z",
        "id": "672d0e6867b9c1f3159fae50"
      }
    ],
    "updatedAt": "2024-11-08T20:43:35.851Z",
    "createdAt": "2024-11-08T20:43:35.851Z",
    "id": "uh8Fo4mGo"
  },
  {
    "_id": "Wjv0qYBbq",
    "name": "ICM Week 8.1",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "672278846478fdf28a8c74a2",
          "672278846478fdf28a8c74a1",
          "672278846478fdf28a8c74a3"
        ],
        "fileType": "folder",
        "_id": "672278846478fdf28a8c74a4",
        "createdAt": "2024-10-30T18:23:17.636Z",
        "updatedAt": "2024-10-30T18:23:17.636Z",
        "id": "672278846478fdf28a8c74a4"
      },
      {
        "name": "sketch.js",
        "content": "function setup() {\n  createCanvas(200, 200);\n}\n\nfunction draw() {\nbackground(0);\n  for (let x = 0; x < width; x++) {\n    for (let y = 0; y < height; y++) {\n      stroke(255, 0, 0);\n      point(x, y);\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "672278846478fdf28a8c74a1",
        "createdAt": "2024-10-30T18:23:17.636Z",
        "updatedAt": "2024-10-30T18:23:17.636Z",
        "id": "672278846478fdf28a8c74a1"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "672278846478fdf28a8c74a2",
        "createdAt": "2024-10-30T18:23:17.636Z",
        "updatedAt": "2024-10-30T18:23:17.636Z",
        "id": "672278846478fdf28a8c74a2"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "672278846478fdf28a8c74a3",
        "createdAt": "2024-10-30T18:23:17.636Z",
        "updatedAt": "2024-10-30T18:23:17.636Z",
        "id": "672278846478fdf28a8c74a3"
      }
    ],
    "updatedAt": "2024-10-30T18:23:17.636Z",
    "createdAt": "2024-10-30T18:23:17.636Z",
    "id": "Wjv0qYBbq"
  },
  {
    "_id": "_emW32qHd",
    "name": "ICMW11 - in class Text Arrays",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "673f81fa3676f07c4e580ba3",
          "673f81fa3676f07c4e580ba2",
          "673f81fa3676f07c4e580ba4",
          "673f831a092e512721d50435"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "673f81fa3676f07c4e580ba5",
        "createdAt": "2024-11-21T19:20:59.713Z",
        "updatedAt": "2024-11-21T19:20:59.713Z",
        "id": "673f81fa3676f07c4e580ba5"
      },
      {
        "name": "sketch.js",
        "content": "let p;\nlet str = \"\";\nlet words = [];\n\nfunction preload() {\n  loadStrings(\"turkey.txt\", process);\n}\n\nfunction setup() {\n  noCanvas();\n  p = createP();\n}\n\nfunction draw() {\n  background(255);\n  if (frameCount % 30 == 1) {\n    str += random(words) + \" \";\n    p.html(str);\n  }\n}\n\nfunction process(lines) {\n  // use this kind of for loop when you want to call the whole array\n  for (let line of lines) {\n    console.log(line);\n    // gives back a tokens array that removes all white spaces from text\n    let tokens = splitTokens(line);\n    words.push(...tokens);\n    words.concat(tokens);\n    console.log(tokens);\n  }\n\n  // in words loop pulls out 0\n  for (let w in words) {\n    let word = words[w];\n    console.log(\"before\", word);\n    \n    \n    word.trim();\n    word.toLowerCase();\n    // dash needs to go first - if you want to put it later put a backslash in front of it\n    word = word.replace(/[-_?!:;,.()]/g, '')\n    console.log(\"after\", word);\n    words[w] = word;\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "673f81fa3676f07c4e580ba2",
        "createdAt": "2024-11-21T19:20:59.713Z",
        "updatedAt": "2024-11-21T19:20:59.713Z",
        "id": "673f81fa3676f07c4e580ba2"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f81fa3676f07c4e580ba3",
        "createdAt": "2024-11-21T19:20:59.713Z",
        "updatedAt": "2024-11-21T19:20:59.713Z",
        "id": "673f81fa3676f07c4e580ba3"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f81fa3676f07c4e580ba4",
        "createdAt": "2024-11-21T19:20:59.713Z",
        "updatedAt": "2024-11-21T19:20:59.713Z",
        "id": "673f81fa3676f07c4e580ba4"
      },
      {
        "name": "turkey.txt",
        "content": "Albuquerque is a turkey,\nAnd he's feathered and he's fine.\nAnd he wobbles, and he gobbles,\nAnd he's absolutely mine.\n\nHe's the best pet that you can get,\nBetter than a dog or cat.\nAlbuquerque, he's my turkey,\nAnd I'm awfully glad of that.\n\nAlbuquerque, he's my turkey,\nHe's so cozy in his bed,\nBecause for our Thanksgiving dinner,\nWe had scrambled eggs instead.",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f831a092e512721d50435",
        "createdAt": "2024-11-21T19:20:59.713Z",
        "updatedAt": "2024-11-21T19:20:59.713Z",
        "id": "673f831a092e512721d50435"
      }
    ],
    "updatedAt": "2024-11-21T19:20:59.713Z",
    "createdAt": "2024-11-21T18:58:05.815Z",
    "id": "_emW32qHd"
  },
  {
    "_id": "5f-jEInHH",
    "name": "ImageModel_TM copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "675a40c143cf7ce6369c9e00",
          "675a4030344ef7e39bcac8ea",
          "675a4030344ef7e39bcac8eb"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "675a4030344ef7e39bcac8e9",
        "createdAt": "2024-12-12T02:59:49.923Z",
        "updatedAt": "2024-12-12T02:59:49.923Z",
        "id": "675a4030344ef7e39bcac8e9"
      },
      {
        "name": "index.html",
        "content": "<html>\n\n<head>\n  <meta charset=\"UTF-8\">\n  <title>Webcam Image Classification using a pre-trained customized model and p5.js</title>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.min.js\"></script>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.dom.min.js\"></script>\n  <script src=\"https://unpkg.com/ml5@latest/dist/ml5.min.js\" type=\"text/javascript\"></script>\n</head>\n\n<body>\n  <script src=\"sketch.js\"></script>\n</body>\n\n</html>",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675a4030344ef7e39bcac8ea",
        "createdAt": "2024-12-12T02:59:49.923Z",
        "updatedAt": "2024-12-12T02:59:49.923Z",
        "id": "675a4030344ef7e39bcac8ea"
      },
      {
        "name": "sketch.js",
        "content": "// Classifier Variable\nlet classifier;\n// Model URL\nlet imageModelURL = \"https://teachablemachine.withgoogle.com/models/VV0XkHNSP/\";\n// Video\nlet video;\n// To store the classification results\nlet results = [];\nlet isClassifying = false;\n\nfunction preload() {\n  // Load the image classifier\n  classifier = ml5.imageClassifier(imageModelURL + \"model.json\", () => {\n    console.log(\"Model loaded successfully!\");\n  });\n}\n\nfunction setup() {\n  createCanvas(640, 480);\n  \n  // Create video\n  video = createVideo(\n    [\"0.mp4\"],\n    () => {\n      console.log(\"Video loaded successfully\");\n      video.volume(0);\n      video.loop();\n      video.hide();\n      // Start classification after a short delay\n      setTimeout(startClassification, 1000);\n    }\n  );\n}\n\nfunction startClassification() {\n  if (!isClassifying) {\n    console.log(\"Starting classification process\");\n    isClassifying = true;\n    classifyVideo();\n  }\n}\n\nfunction classifyVideo() {\n  if (!video || !video.elt) {\n    console.log(\"No video element available\");\n    return;\n  }\n\n  console.log(\"Attempting classification...\");\n  console.log(\"Video state:\", {\n    readyState: video.elt.readyState,\n    paused: video.elt.paused,\n    currentTime: video.elt.currentTime,\n    duration: video.elt.duration\n  });\n\n  // Only classify if video is actually playing\n  if (video.elt.readyState === 4 && !video.elt.paused) {\n    classifier.classify(video.elt, (error, results) => {\n      if (error) {\n        console.error(\"Classification error:\", error);\n      } else {\n        console.log(\"Classification successful:\", results);\n        updateResults(results);\n      }\n      // Continue classification loop\n      setTimeout(classifyVideo, 250);\n    });\n  } else {\n    console.log(\"Video not ready for classification\");\n    setTimeout(classifyVideo, 1000);\n  }\n}\n\nfunction updateResults(newResults) {\n  console.log(\"Updating results:\", newResults);\n  results = [...newResults];\n  console.log(\"Current results array:\", results);\n}\n\nfunction draw() {\n  // Draw the video\n  background(0);\n  if (video) {\n    image(video, 0, 0, width, height);\n  }\n\n  // Draw the results\n  fill(255);\n  noStroke();\n  textSize(32);\n  textAlign(LEFT);\n\n  // Always draw this test text\n  text(\"Classification Results:\", 10, 30);\n\n  if (results && results.length > 0) {\n    results.forEach((result, i) => {\n      text(\n        `${result.label}: ${(result.confidence * 100).toFixed(2)}%`,\n        10,\n        70 + (i * 40)\n      );\n    });\n  } else {\n    text(\"Waiting for results...\", 10, 70);\n  }\n}\n\nfunction keyPressed() {\n  if (key === 's') {\n    video.stop();\n    isClassifying = false;\n  } else if (key === 'p') {\n    video.play();\n    startClassification();\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "675a4030344ef7e39bcac8eb",
        "createdAt": "2024-12-12T02:59:49.923Z",
        "updatedAt": "2024-12-12T02:59:49.923Z",
        "id": "675a4030344ef7e39bcac8eb"
      },
      {
        "name": "0.mp4",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/75e67670-8bd1-4db7-8745-f25178d0176b.mp4",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "675a40c143cf7ce6369c9e00",
        "createdAt": "2024-12-12T02:59:49.923Z",
        "updatedAt": "2024-12-12T02:59:49.923Z",
        "id": "675a40c143cf7ce6369c9e00"
      }
    ],
    "createdAt": "2024-12-12T01:45:20.710Z",
    "updatedAt": "2024-12-12T02:59:49.923Z",
    "id": "5f-jEInHH"
  },
  {
    "_id": "Wem0w9PdVK",
    "name": "IMS - Week 1 Assignment",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67db092d27076537e6460d1f",
          "67db092d27076537e6460d20",
          "67db092d27076537e6460d21"
        ],
        "fileType": "folder",
        "_id": "67db092d27076537e6460d1e",
        "createdAt": "2025-03-21T13:47:51.258Z",
        "updatedAt": "2025-03-21T13:47:51.258Z",
        "id": "67db092d27076537e6460d1e"
      },
      {
        "name": "sketch.js",
        "content": "// Prisha's Comments and Edits\n// Added colors and more randomness with types of shapes using switch case\n\n// Dan Shiffman's Code\n// Self Avoiding Walk (Random Walk with Alpha)\n// The Coding Train / Daniel Shiffman\n// https://editor.p5js.org/codingtrain/sketches/IEw2RkDnJ\n\nlet x;\nlet y;\n\nlet grid;\nlet spacing = 5;\nlet cols, rows;\n\n// this function makes an array of arrays to create a 2D grid\nfunction make2DArray(cols, rows) {\n  let arr = new Array(cols);\n  for (let i = 0; i < arr.length; i++) {\n    arr[i] = new Array(rows);\n  }\n  return arr;\n}\n\nfunction setup() {\n  createCanvas(400, 400);\n  // define columns based on desired spacing\n  // spacing is a good variable to play with to achieve different effects\n  cols = floor(width / spacing);\n  rows = floor(height / spacing);\n  x = cols / 2;\n  y = rows / 2;\n  // background(51);\n  background(0);\n  grid = make2DArray(cols, rows);\n}\n\nfunction draw() {\n  // stroke(255, 100);\n\n  // makes the size of the points being drawn responsive to the size of the grid\n  // strokeWeight(spacing * 0.5);\n  noFill();\n\n\n  const shape = floor(random(3));\n  switch (shape) {\n    case 0:\n      // strokeWeight(1);\n      rect(x * spacing, y * spacing, spacing);\n      break;\n    case 1:\n      strokeWeight(spacing);\n      point(x * spacing, y * spacing);\n      break;\n    case 2:\n      strokeWeight(1); \n      triangle(x * spacing, y * spacing, (x + (spacing * 0.5)) * spacing, y * spacing, (x + (spacing * 0.25)) * spacing,  (y + (spacing * 0.25)) * spacing);\n      break;\n  }\n\n  // something i tried that i didn't use\n  // rect(x * spacing, y * spacing, spacing * 0.5);\n\n  // SHIFFMAN CODE:\n  // this part is what makes it generative\n  // strokeWeight(spacing * 0.5);\n  // point(x * spacing, y * spacing);\n  // const r = floor(random(4));\n\n  // create cases for each random pattern chosen in the draw loop\n  // switch (r) {\n  //   case 0:\n  //     x = x + 1;\n  //     break;\n  //   case 1:\n  //     x = x - 1;\n  //     break;\n  //   case 2:\n  //     y = y + 1;\n  //     break;\n  //   case 3:\n  //     y = y - 1;\n  //     break;\n  // }\n\n  // adds in colors and maps them to the grid to create a rainbow gradient\n  let r = x * spacing;\n  let g = y * spacing;\n  // let b = random(100, 200);\n  let b = 200;\n  let a = 100;\n  stroke(r, g, b, a);\n  // fill(r, g, b, a);\n\n  const pattern = floor(random(4));\n  switch (pattern) {\n    case 0:\n      blendMode(HARD_LIGHT);\n      x = x + 2;\n      break;\n    case 1:\n      blendMode(ADD);\n      x = x - 2;\n      break;\n    case 2:\n      blendMode(EXCLUSION);\n      y = y + 2;\n      break;\n    case 3:\n      blendMode(SCREEN);\n      y = y - 2;\n      break;\n  }\n}\n\n// use the shapes we defined in draw to custom draw on the canvas\n\n// function mouseDragged() {\n//   const userShape = floor(random(3));\n//   switch (userShape) {\n//     case 0:\n//       rectMode(CENTER);\n//       rect(mouseX, mouseY, spacing * 0.5);\n//       break;\n//     case 1:\n//       strokeWeight(spacing);\n//       point(mouseX, mouseY);\n//       break;\n//     case 2:\n//       strokeWeight(1); \n//       triangle(mouseX, mouseY, (mouseX + (spacing * 0.5)), mouseY, (mouseX + (spacing * 0.25)),  (mouseY + (spacing * 0.25)));\n//       break;\n// }\n// }",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67db092d27076537e6460d20",
        "createdAt": "2025-03-21T13:47:51.258Z",
        "updatedAt": "2025-03-21T13:47:51.258Z",
        "id": "67db092d27076537e6460d20"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.3.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.3.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "67db092d27076537e6460d1f",
        "createdAt": "2025-03-21T13:47:51.258Z",
        "updatedAt": "2025-03-21T13:47:51.258Z",
        "id": "67db092d27076537e6460d1f"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "67db092d27076537e6460d21",
        "createdAt": "2025-03-21T13:47:51.258Z",
        "updatedAt": "2025-03-21T13:47:51.258Z",
        "id": "67db092d27076537e6460d21"
      }
    ],
    "createdAt": "2025-03-19T18:13:02.054Z",
    "updatedAt": "2025-03-21T13:47:51.258Z",
    "id": "Wem0w9PdVK"
  },
  {
    "_id": "gzm72DHGD",
    "name": "Indian Drum Kit - Interactive Rhythm Composition",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67be8822998d570d15e2ac7d",
          "67be8822998d570d15e2ac7e",
          "67be8822998d570d15e2ac85",
          "67be8822998d570d15e2ac8c",
          "67be8822998d570d15e2ac8d",
          "67be8822998d570d15e2ac8e",
          "67be8822998d570d15e2ac8f",
          "67be8822998d570d15e2ac90",
          "67be8822998d570d15e2ac91",
          "67be8822998d570d15e2ac92",
          "67be8822998d570d15e2ac93",
          "67be8822998d570d15e2ac94",
          "67be8822998d570d15e2ac95",
          "67be8822998d570d15e2ac96",
          "67be8822998d570d15e2ac97",
          "67be8822998d570d15e2ac98"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac7c",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac7c"
      },
      {
        "name": "sketch.js",
        "content": "let loaded = false;\nlet img; // for the image\nlet transportStarted = false; // flag to start the Transport once\nlet started = 0;\nlet drumSelect = 0; //1 = tabla, 2 = mruthangam\nlet countBeats = 0; //counting squares\n\n// Dynamic grid configuration:\nconst numRows = 14; // change this value to alter the number of rows\nconst numCols = 16; // change this value to alter the number of columns\n\n// Define instruments with their sound mappings and connect them to destination.\nconst tabla = new Tone.Players({\n  num: \"Tabla/NUM.wav\",\n  ta: \"Tabla/TA.wav\",\n  tha: \"Tabla/THA.wav\",\n  tham: \"Tabla/THAM.wav\",\n  thi: \"Tabla/THI.wav\",\n  thom: \"Tabla/THOM.wav\",\n}).toDestination();\n\nconst mruthangam = new Tone.Players({\n  num: \"Mruthangam/NUM.wav\",\n  ta: \"Mruthangam/TA.wav\",\n  tha: \"Mruthangam/THA.wav\",\n  thi: \"Mruthangam/THI.wav\",\n  thom: \"Mruthangam/THOM.wav\",\n}).toDestination();\n\nconsole.log(tabla);\nconsole.log(mruthangam);\n\nconst beep = new Tone.Player(\"beep-beep.mp3\").toDestination();\nconst dholak = new Tone.Player(\"dholak bass.wav\").toDestination();\nconst mathan = new Tone.Player(\"mathan_drum.wav\").toDestination();\nconst singing = new Tone.Player(\"singinghindi.mp3\").toDestination();\nconst trinkets = new Tone.Player(\"trinkets.wav\").toDestination();\nconst udu = new Tone.Player(\"udu.wav\").toDestination();\nconst kartal = new Tone.Player(\"High Plains Drums.mp3\").toDestination();\nconst sitar = new Tone.Player(\"sitar.wav\").toDestination();\n\n\n\n\nlet waveform = new Tone.Waveform(1024); // Analyze 1024 samples of audio data\n\n\n// Hardcoded labels for each row (length should match numRows).\nconst labels = [\n  \"drum num\",\n  \"drum ta\",\n  \"drum tha\",\n  \"drum tham\",\n  \"drum thi\",\n  \"drum thom\",\n  \"beep .\",\n  \"dholak .\",\n  \"mathan .\",\n  \"hindi .\",\n  \"golisu .\",\n  \"udu .\",\n  \"kartal\",\n  \"sitar\",\n];\n\nlet buttons = []; // 2D array for grid buttons\n\n// Set BPM and adjust time signature so that the number of beats equals numCols.\n// (If you want each column to be a beat, set the beats per measure to numCols.)\nTone.Transport.bpm.value = 120;\nTone.Transport.timeSignature = [16, 4];\n\nfunction preload() {\n  img = loadImage(\"india-outline.jpg\");\n}\n\nfunction setup() {\n  \n  createCanvas(1050, 600);\n  \n\n  // Define grid parameters: the grid occupies the left 2/3 of the canvas.\n  let gridX = 0;\n  let gridY = 0;\n  let gridW = (2 / 3) * width;\n  let gridH = height;\n\n  // Calculate cell dimensions based on dynamic rows/cols.\n  let cellW = gridW / numCols;\n  let cellH = gridH / numRows;\n\n  // Create grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    buttons[r] = [];\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c] = new Button(\n        gridX + c * cellW +2.5*cellW,\n        gridY + r * cellH,\n        cellW,\n        cellH,\n        r, // row index\n        c, // column index\n        labels[r] // label for that row (e.g., \"tabla num\")\n      );\n    }\n  }\n\n  // Schedule the repeating loop.\n  // We trigger playBeat every quarter note (\"4n\").\n  Tone.Transport.scheduleRepeat(playBeat, \"8n\");\n\n  // Create Clear button.\n  let clearIt = createButton(\"Clear\", \"0\");\n  clearIt.position(width - 50, 10);\n  clearIt.mousePressed(clearInstruments);\n  \n \n    // Buttons to select instruments\n  let tablaSelect = createButton(\"Tabla\");\n  tablaSelect.position(0, height);\n  tablaSelect.mousePressed(() => chooseInstrument(1)); // Pass 1 for Tabla\n\n  let mruthSelect = createButton(\"Mruthangam\");\n  mruthSelect.position(60, height);\n  mruthSelect.mousePressed(() => chooseInstrument(2)); // Pass 2 for Mruthangam\n}\n\nfunction draw() {\n\n  background(240);\n\n  // Define grid parameters (must match setup).\n  let gridX = 0;\n  let gridY = 0;\n  let gridW = (2 / 3) * width;\n  let gridH = height;\n  let cellW = gridW / numCols;\n  let cellH = gridH / numRows;\n\n  // Draw grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].display();\n    }\n  }\n  \n   // Draw the image in the right 1/3 of the canvas.\n  let imgX = (2 / 3) * width;\n  let imgW = width - imgX;\n  image(img, imgX + 2.5*cellW, 0, imgW+2.5*cellW, height);\n\n  // Draw vertical segmentation lines (every 4 columns, if applicable).\n  push();\n  strokeWeight(2);\n  stroke(10, 0, 100);\n  for (let i = 1; i < numCols; i++) {\n    if (i % 4 === 0) {\n      line(gridX + i * cellW+2.5*cellW, gridY, gridX + i * cellW+2.5*cellW, gridY + gridH);\n    }\n  }\n  pop();\n\n  // Highlight current step.\n    if (started ==1){\n  blendMode(ADD);\n  push();\n  noStroke();\n  fill(255, 30);\n  // Get the current beat from Tone.Transport.position.\n  // Tone.Transport.position is in \"bars:beats:sixteenths\" format.\n  let posParts = Tone.Transport.position.split(\":\");\n  // Use the \"beats\" part and take modulo numCols in case the measure has rolled over.\n  let beatIndex = parseInt(posParts[1]) % numCols;\n  rect(beatIndex * cellW+2.5*cellW, gridY, cellW, gridH);\ncircle(imgX+ imgX/4+ 2.5*cellW, height/2,countBeats*beatIndex);\n//}\n  pop();\n    }\n  // Draw the hardcoded labels along the left side of the grid.\n  blendMode(BLEND);\n  push();\n  noStroke();\n  fill(0);\n  for (let r = 0; r < numRows; r++) {\n    text(labels[r], 5, gridY + r * cellH + cellH / 2);\n  }\n  pop();\n\n \n  \n  //Draw Circle\n  push();\n  fill(countBeats*4, countBeats*6, countBeats*6,80);\n  noStroke();\n  console.log(countBeats);\n  circle(imgX+ imgX/4+ 2.5*cellW, height/2,countBeats*7);\n//}\n  pop();\n}\n\n\n//////////\nfunction mousePressed() {\n  // Start the Transport on the first mouse press.\n  \n  if (!transportStarted) {\n    Tone.start();\n    Tone.Transport.start();\n    transportStarted = true;\n    console.log(\"Transport started\");\n    started = 1;\n  }\n  // Check for clicks on grid buttons.\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].click(mouseX, mouseY);\n      started = 1;\n      \n    }\n  }\n}\n\nfunction clearInstruments() {\n  // Reset all buttons.\n  started = 0;\n  countBeats = 0;\n  for (let r = 0; r < numRows; r++) {\n    for (let c = 0; c < numCols; c++) {\n      buttons[r][c].on = false;\n    }\n  }\n}\n\n// Returns the instrument corresponding to a given row.\nfunction getInstrumentForRow(row) {\n  console.log(\"ROW\",row);\n  if (row < 6  && drumSelect ==1 ) {\n    console.log(\"tabla\");\n    return tabla;\n  } \n  else if (row < 6 && drumSelect == 2 ) {\n    console.log(\"m\");\n    return mruthangam;\n  } \n  \n   else if (row === 6) {\n    console.log(\"kar\");\n    return beep;\n  } \n   else if (row === 7) {\n    console.log(\"kar\");\n    return dholak;\n  } \n   else if (row === 8) {\n    console.log(\"kar\");\n    return mathan;\n  } \n  else if (row === 9) {\n    console.log(\"kar\");\n    return singing;\n  } \n   else if (row === 10) {\n    return trinkets;\n  } \n  else if (row === 11) {\n    return udu;\n  }\n   else if (row === 12) {\n    return kartal;\n  }\n   else if (row === 13) {\n    return sitar;\n  }\n  else\n  {console.log(\"KAT\");\n   return tabla;}\n}\n\n// The playBeat function is called every quarter note (\"4n\").\n// It extracts the beat index from Tone.Transport.position and\n// only plays sounds for cells in that column.\nfunction playBeat(time) {\n  // Get the current beat index (modulo numCols).\n  let posParts = Tone.Transport.position.split(\":\");\n  let beatIndex = parseInt(posParts[1]) % numCols;\n\n  // For each row, check the cell at column beatIndex.\n  for (let r = 0; r < numRows; r++) {\n    let cell = buttons[r][beatIndex];\n    if (cell.on) {\n    \n      let instrument = getInstrumentForRow(r);\n      console.log(\"Instrument for row \" + r + \":\", instrument);\n      console.log(instrument);\n      // For Tone.Players, extract the key (the second word of the label).\n      \n      if (typeof instrument.has === \"function\") {\n        console.log(\"!!!!!!!\");\n        let parts = labels[r].split(\" \");\n        console.log(\"PARTS\", parts);\n        let key = parts[1]; // e.g., \"num\" from \"tabla num\"\n        if (instrument.has(key)) {\n          instrument.player(key).start(time);\n        }\n      } else {\n        console.log(\"YESSSS\");\n        // For single-sample instruments.\n        instrument.start(time);\n      }\n    }\n  }\n}\n\n\nTone.loaded().then(function () {\n  loaded = true;\n  console.log(\"loaded!\");\n});\n\nfunction chooseInstrument(instrumentType){\n// append(selectedInstruments, this.value());\n  drumSelect = instrumentType;\n  console.log(drumSelect);\n  \n  }\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67be8822998d570d15e2ac94",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac94"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    \n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"button.js\"></script>\n        <script src=\"sound.js\"></script>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac8f",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac8f"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac96",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac96"
      },
      {
        "name": "Tabla",
        "content": "",
        "children": [
          "67be8822998d570d15e2ac86",
          "67be8822998d570d15e2ac87",
          "67be8822998d570d15e2ac88",
          "67be8822998d570d15e2ac89",
          "67be8822998d570d15e2ac8a",
          "67be8822998d570d15e2ac8b"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac85",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac85"
      },
      {
        "name": "NUM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c89020f4-1289-453c-b85b-0f28b0672896.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac86",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac86"
      },
      {
        "name": "TA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/e7bd8a30-e825-4efa-8b07-f80ae81df58b.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac87",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac87"
      },
      {
        "name": "THA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f70bd7a6-82e4-4a92-8668-1d171ef3d329.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac88",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac88"
      },
      {
        "name": "THAM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/658f09fc-bb27-4ccc-bda4-5dde2a53de18.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac89",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac89"
      },
      {
        "name": "THI.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/a5d1b12a-3835-4e75-99cb-b735ce179337.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac8a",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac8a"
      },
      {
        "name": "THOM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/a6dc56fe-fec4-4fa2-8f03-72c9899fe57e.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac8b",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac8b"
      },
      {
        "name": "button.js",
        "content": "// Learning Processing\n// Daniel Shiffman\n// http://www.learningprocessing.com\n//https://editor.p5js.org/yining/sketches/ByLFGX5R\n\n// Exercise 9-8: Write a Button class (see Example 5-5 for a non-object-oriented button). The button\n// class should register when a mouse is pressed over the button and change color.  Create button objects\n// of different sizes and locations using an array. Before writing the main program, sketch out the\n// Button class. Assume the button is off  when it first appears.\n\n\n// Button class.\nclass Button {\n  constructor(x, y, w, h, row, col, label) {\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.row = row;\n    this.col = col;\n    this.bhol = label; // e.g., \"tabla num\" or \"kartal\"\n    this.on = false;\n  }\n\n  click(mx, my) {\n    if (\n      mx > this.x &&\n      mx < this.x + this.w &&\n      my > this.y &&\n      my < this.y + this.h\n    ) {\n      this.on = !this.on;\n      if (this.on == true){ countBeats ++;}\n      console.log(countBeats);\n      if (this.on == false){ countBeats --;}\n      console.log(countBeats);\n    }\n  }\n\n  display() {\n    stroke(10);\n    fill(this.on ? color(0, 0, 140, 100) : color(220, 220, 220));\n    rect(this.x, this.y, this.w, this.h);\n  }\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac8d",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac8d"
      },
      {
        "name": "india-outline.jpg",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c8f4e76a-63c2-4a35-8713-7496b1ec5339.jpg",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac90",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac90"
      },
      {
        "name": "sound.js",
        "content": "// Sound Class\nclass Sound {\n  constructor(instrument, bhol, row) {\n    this.instrument = instrument;\n    this.bhol = bhol;\n    this.x = 50;\n    this.y = row * 40 + height / 2;\n    this.size = 20;\n  }\n\n  display() {\n    fill(0, 200, 100);\n    rect(this.x, this.y, this.size, this.size);\n  }\n\n  play() {\n    if (!loaded) {\n      console.log(\"Waiting for Tone.js to load...\");\n      return;\n    }\n    // Check if the instrument supports the \"has\" method\n    if (typeof this.instrument.has === \"function\") {\n      if (this.instrument.has(this.bhol)) {\n        this.instrument.player(this.bhol).start();\n      } else {\n        console.log(\"Sound\", this.bhol, \"not found in instrument\");\n      }\n    } else {\n      // Assume it's a Tone.Player; simply start it\n      this.instrument.start();\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac95",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac95"
      },
      {
        "name": "Mruthangam",
        "content": "",
        "children": [
          "67be8822998d570d15e2ac7f",
          "67be8822998d570d15e2ac80",
          "67be8822998d570d15e2ac81",
          "67be8822998d570d15e2ac82",
          "67be8822998d570d15e2ac83",
          "67be8822998d570d15e2ac84"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac7e",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac7e"
      },
      {
        "name": "THI.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c4049c29-9948-4e98-8ad1-11f92c63db94.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac83",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac83"
      },
      {
        "name": "THAM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/a71df9b8-22cc-416d-96ca-1e21c016f793.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac82",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac82"
      },
      {
        "name": "TA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/134489ec-eaa1-42f7-9a74-6b08a21c6dee.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac80",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac80"
      },
      {
        "name": "THA.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/0a3313e4-90b2-4880-937a-24ac96864eeb.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac81",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac81"
      },
      {
        "name": "THOM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/8291cb3f-011f-4556-8916-08ccd9a8a78f.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac84",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac84"
      },
      {
        "name": "NUM.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/740f6c90-d0b2-468f-9bac-04c58fe8cef2.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac7f",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac7f"
      },
      {
        "name": "beep-beep.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/05ad46e0-d1d6-4770-a9fe-8aacd1c759e8.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac8c",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac8c"
      },
      {
        "name": "dholak bass.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c4b63c6b-a880-4209-b6ca-798402204fcc.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac8e",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac8e"
      },
      {
        "name": "mathan_drum.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/bb4aef88-67d5-4224-95fd-74adbd3f06a2.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac91",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac91"
      },
      {
        "name": "singinghindi.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/fc8ac288-5d69-4440-a309-4b9401842eae.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac92",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac92"
      },
      {
        "name": "trinkets.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f515d617-029c-4906-861e-e13d7cfdfd18.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac97",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac97"
      },
      {
        "name": "udu.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/cd7dc460-3d1a-463c-afe8-e0dcc57ece4a.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac98",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac98"
      },
      {
        "name": "sitar.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/9eed4044-9289-480b-b741-43ec178022d0.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67be8822998d570d15e2ac93",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac93"
      },
      {
        "name": "High Plains Drums.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/7d275f0d-4dd4-46b3-adfb-f0dc4e2012db.mp3",
        "children": [],
        "fileType": "file",
        "_id": "67be8822998d570d15e2ac7d",
        "createdAt": "2025-03-18T15:26:57.844Z",
        "updatedAt": "2025-03-18T15:26:57.844Z",
        "id": "67be8822998d570d15e2ac7d"
      }
    ],
    "createdAt": "2025-02-26T03:18:59.648Z",
    "updatedAt": "2025-03-18T15:26:57.844Z",
    "id": "gzm72DHGD"
  },
  {
    "_id": "QVgxjBr-L",
    "name": "indian drums - claude fix",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67ba4a5cbe6541ecc74ac24b",
          "67ba4a2f30ee62dbd3de0f46",
          "67ba4c11018b590a838cb4ef",
          "67ba4a2f30ee62dbd3de0f45",
          "67ba4a58905bd413ec7e062c",
          "67ba4a2f30ee62dbd3de0f47"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ba4a2f30ee62dbd3de0f48",
        "createdAt": "2025-02-23T00:40:07.482Z",
        "updatedAt": "2025-02-23T00:40:07.482Z",
        "id": "67ba4a2f30ee62dbd3de0f48"
      },
      {
        "name": "sketch.js",
        "content": "/*\n  Project: Indian Classical Music Rhythm Sequencer                // Project name\n  Description: An interactive grid-based interface for creating rhythmic patterns \n  using traditional Indian percussion sounds (tabla, mruthangam, etc.)   // Brief project description\n\n  TODO:\n  - Sunday: Complete Sound class and Instrument class implementation   // Tasks to complete on Sunday\n  - Research needed:\n    1. Implement varying button lengths for different sounds             // Research varying button lengths\n    2. Research timing of Carnatic music (beats of 16, 4, etc.)            // Research Carnatic music timing\n    3. Figure out coordination of multiple sound samples timing           // Coordinate timing of multiple samples\n  - Monday: Integrate sound research with existing code                  // Task for Monday\n  \n  Implementation Flow:\n  1. Preload and buffer all sounds                                      // Step 1: Preload sounds\n  2. When loaded, make buttons interactive                              // Step 2: Activate buttons after load\n  3. Handle instrument button clicks                                    // Step 3: Handle instrument selection\n  4. Create Sound instances                                               // Step 4: Create Sound objects for grid\n  5. Create Button instances based on selected sound                      // Step 5: Create grid buttons\n*/\n\n// Initialize instruments with their sound samples\nconst tabla = new Tone.Players({                             // Create tabla instrument using Tone.Players\n  num: \"Tabla/NUM.wav\",                                      // Sample for \"num\": Long resonant stroke\n  ta: \"Tabla/TA.wav\",                                        // Sample for \"ta\": Sharp tap sound\n  tha: \"Tabla/THA.wav\",                                      // Sample for \"tha\": Bass stroke\n  thi: \"Tabla/THI.wav\",                                      // Sample for \"thi\": Edge stroke\n  thom: \"Tabla/THOM.wav\",                                    // Sample for \"thom\": Center stroke\n});                                                          // End of tabla instrument definition\ntabla.bhols = [\"num\", \"ta\", \"tha\", \"thi\", \"thom\"];          // Define available bhols for tabla\n\nconst mruthangam = new Tone.Players({                        // Create mruthangam instrument (South Indian drum)\n  num: \"Tabla/NUM.wav\",                                      // Reusing tabla sample for \"num\"\n  ta: \"Tabla/TA.wav\",                                        // Reusing tabla sample for \"ta\"\n  tha: \"Tabla/THA.wav\",                                      // Reusing tabla sample for \"tha\"\n  thi: \"Tabla/THI.wav\",                                      // Reusing tabla sample for \"thi\"\n  thom: \"Tabla/THOM.wav\",                                    // Reusing tabla sample for \"thom\"\n});                                                          // End of mruthangam instrument definition\nmruthangam.bhols = [\"num\", \"ta\", \"tha\", \"thi\", \"thom\"];     // Define available bhols for mruthangam\n\n// Single-sample instruments\nconst kartal = new Tone.Player(\"kartal.mp3\");                // Create kartal instrument (wooden clapping)\nkartal.bhols = [\"play\"];                                     // Define a default bhol for kartal (single sample)\nconst sitar = new Tone.Player(\"sitar.mp3\");                  // Create sitar instrument (stringed instrument)\nsitar.bhols = [\"play\"];                                      // Define a default bhol for sitar (single sample)\n\n// Store all instruments for easy access and switching\nlet instruments = [tabla, mruthangam, kartal, sitar];        // Array containing all instrument objects\n\n// Initialize global arrays and state variables\nlet cells = [];                                            // Array to store active sound objects on the grid\nlet buttons = [];                                          // 2D array to store grid button objects\n// let clicks = [];                                        // (Old bhol selection buttons code commented out)\n// let countinstruments = 0;                               // (Old counter for selected instruments, commented out)\n// let selectedInstruments = [];                           // (Old array for storing selected instrument names, commented out)\nlet started = 0;                                           // Flag indicating whether the sequence has started\nlet currentInstrument = tabla;                             // Default selected instrument is tabla\n\n// Set global tempo\nTone.Transport.bpm.value = 120;                            // Set the global tempo to 120 beats per minute\n\n// Preload required assets\nfunction preload() {                                      \n    img = loadImage(\"india-outline.jpg\");                // Load the background image from file \"india-outline.jpg\"\n}\n\n// Initial setup function executed once when the program starts\nfunction setup() {\n    createCanvas(700, 700);                              // Create a drawing canvas of 700 by 700 pixels\n    \n    // Create instrument selection buttons (HTML buttons)\n    const instrumentNames = [\"Tabla\", \"Mruthangam\", \"Kartal\", \"Sitar\"];  // Array of instrument names for buttons\n    for (let i = 0; i < instruments.length; i++) {       // Loop over each instrument in the instruments array\n        let btn = createButton(instrumentNames[i]);      // Create an HTML button with the instrument name as its label\n        btn.position(i * 100, 10);                       // Position each button horizontally (spaced 100 pixels apart) at y = 10\n        btn.mousePressed(() => {                         // Attach an event handler to respond when the button is clicked\n            currentInstrument = instruments[i];          // Set the global currentInstrument to the selected instrument\n            createGrid();                                // Recreate the grid to reflect the bhols of the new instrument\n        });                                              // End of mousePressed event handler\n    }\n    \n    // Old bhol selection buttons code (no longer used)\n    /*\n    // Create sound selection buttons\n    const bhols = [\"num\", \"ta\", \"tha\", \"thi\", \"thom\"];\n    for (let i = 0; i < bhols.length; i++) {\n        clicks[i] = createButton(bhols[i]);\n        \n        // Position buttons in two rows if needed\n        if (i * 100 < width) {\n            clicks[i].position(i * 100, height / 2 - height / 15);\n        } else {\n            clicks[i].position((i - 7) * 100 + 50, height / 2 - height / 25);\n        }\n        \n        // Add click functionality\n        clicks[i].bhol = bhols[i];\n        clicks[i].mousePressed(function() {\n            selectedInstruments.push(this.bhol);\n            countinstruments++;\n            started = 1;\n            // Set the bhol for all button sounds\n            for (let row of buttons) {\n                for (let button of row) {\n                    button.sound.setBhol(this.bhol);\n                }\n            }\n        });\n    }\n    */\n    \n    // Create clear button to reset the grid and sequence\n    let clearIt = createButton(\"Clear\");               // Create an HTML button labeled \"Clear\"\n    clearIt.position(width - 50, 10);                    // Position the clear button near the top right of the canvas\n    clearIt.mousePressed(clearInstruments);            // Attach clearInstruments function to run when the button is clicked\n    \n    // Initially create the grid using the default instrument (tabla)\n    createGrid();                                      // Call createGrid() to generate the grid based on currentInstrument's bhols\n}\n\n// Define grid creation function that builds the grid based on the current instrument\nfunction createGrid() {\n    // Determine number of grid rows from the number of bhols in the current instrument\n    const GRID_ROWS = currentInstrument.bhols.length;  // Set grid rows equal to number of available bhols for the instrument\n    const GRID_COLS = 16;                                // Set the number of grid columns to 16\n    const GRID_START_X = 80;                             // Set starting x-coordinate for the grid to 80 pixels from the left edge\n    const BUTTON_SIZE = width / 20;                      // Calculate each grid button's size as canvas width divided by 20\n\n    buttons = [];                                      // Reset the buttons array to empty before creating new buttons\n    for (let y = 0; y < GRID_ROWS; y++) {              // Loop over each row (each row corresponds to one bhol)\n        buttons[y] = [];                             // Initialize the row in the buttons array as an empty array\n        for (let x = 0; x < GRID_COLS; x++) {          // Loop over each column in the grid\n            let buttonSound = new Sound(currentInstrument);  // Create a new Sound object using the current instrument\n            buttonSound.setBhol(currentInstrument.bhols[y]);   // Set the Sound object's bhol based on the current row's bhol\n            buttons[y][x] = new Button(               // Create a new Button object for this grid cell\n                GRID_START_X + (x * BUTTON_SIZE),      // Calculate the x position: grid start plus column index times button size\n                (y * BUTTON_SIZE) + height / 2,         // Calculate the y position: row index times button size plus vertical offset\n                BUTTON_SIZE,                           // Set the button's width to BUTTON_SIZE\n                BUTTON_SIZE,                           // Set the button's height to BUTTON_SIZE\n                y,                                     // Pass the row index to the Button constructor\n                x,                                     // Pass the column index to the Button constructor\n                buttonSound                          // Associate the previously created Sound object with this button\n            ); // End of Button constructor call\n        }\n    }\n}\n\n// Main draw loop runs continuously to update the canvas\nfunction draw() {\n    background(220);                                  // Clear the canvas with a light gray background\n\n    // Loop over each button in the grid and display it\n    for (let y = 0; y < buttons.length; y++) {        // Loop over each row in the buttons array\n        for (let x = 0; x < buttons[y].length; x++) {   // Loop over each button in the current row\n            buttons[y][x].display();                   // Call the display method to draw the button on the canvas\n        }\n    }\n\n    // Loop to display all active sound objects (sound blocks)\n    for (let sound of cells) {                         // Iterate over each Sound object stored in the cells array\n        sound.display();                              // Call the display method of the Sound object\n    }\n\n    // Draw vertical beat segment lines to visually divide the grid into segments\n    push();                                           // Save current drawing style settings\n    strokeWeight(2);                                  // Set the stroke weight (line thickness) to 2 pixels\n    stroke(10, 0, 100);                               // Set the stroke color to a dark blue tone\n    for (let i = 4; i <= 12; i += 4) {                 // Loop to draw lines at every 4th column between 4 and 12\n        let x = 80 + (i * (width / 20));               // Calculate the x-coordinate of the line using GRID_START_X and button size\n        line(x, height / 2, x, height);                // Draw a vertical line from the top of the grid to the bottom of the canvas\n    }\n    pop();                                            // Restore previous drawing style settings\n\n    // Optionally display the current instrument's bhols along the left side of the canvas\n    push();                                           // Save current drawing style settings\n    strokeWeight(3);                                  // Set stroke weight to 3 for text drawing\n    for (let i = 0; i < currentInstrument.bhols.length; i++) {  // Loop over each bhol in the current instrument\n        text(currentInstrument.bhols[i], 5, (i * width) / 20 + width / 40 + height / 2); // Draw the bhol text label on the canvas\n    }\n    pop();                                            // Restore previous drawing style settings\n}\n\n// Handle mouse input for grid button clicks\nfunction mousePressed() {\n    for (let y = 0; y < buttons.length; y++) {        // Loop over each row in the grid\n        for (let x = 0; x < buttons[y].length; x++) {   // Loop over each button in the current row\n            buttons[y][x].click(mouseX, mouseY);        // Call the click method on the button with current mouse coordinates\n        }\n    }\n}\n\n// Function to clear the grid and reset the sequence when the \"Clear\" button is pressed\nfunction clearInstruments() {\n    started = 0;                                      // Reset the sequence started flag to 0 (off)\n    // countinstruments = 0;                           // (Old code commented out: reset instrument counter)\n    // selectedInstruments = [];                       // (Old code commented out: clear selected instrument names)\n    cells = [];                                       // Clear the array storing active sound objects\n    clear();                                          // Clear the drawing canvas\n    createGrid();                                     // Recreate the grid in its initial state\n}\n\n// Sound class handles all audio-related functionality for each sound block\nclass Sound {\n    constructor(instrument) {\n        this.instrument = instrument;                // Store the associated instrument (Tone.Player or Tone.Players)\n        this.bhol = null;                            // Initialize the bhol type as null (will be set later)\n        this.x = 50;                                 // Set default x position for visual display\n        this.y = 0;                                  // Set default y position (will be updated based on grid row)\n        this.size = 20;                              // Set the base size for the visual representation of the sound block\n        this.duration = 1;                           // Set the default duration in grid units (modifiable by bhol type)\n    }\n\n    // Method to set the sound's bhol and adjust its duration accordingly\n    setBhol(bhol) {\n        this.bhol = bhol;                            // Store the bhol type (e.g., \"num\", \"ta\", etc.)\n        // Adjust duration based on specific bhol type\n        switch(bhol) {\n            case \"num\":                           // If the bhol is \"num\"\n            case \"thom\":                          // Or if the bhol is \"thom\"\n                this.duration = 2;                // Set duration to 2 grid units (longer sound)\n                break;                            // Exit the switch statement\n            default:                              // For all other bhols\n                this.duration = 1;                // Set duration to 1 grid unit (standard sound length)\n        }\n    }\n\n    // Method to update the vertical position of the sound block based on its grid row\n    setPosition(row) {\n        this.y = row * 40 + height / 2;              // Calculate y position using row index and a vertical offset\n    }\n\n    // Method to display the sound block visually on the canvas\n    display() {\n        if (this.bhol) {                             // Only draw if the bhol type is set\n            fill(0, 200, 100);                       // Set the fill color to green for the sound block\n            rect(this.x, this.y, this.size * this.duration, this.size); // Draw a rectangle representing the sound block\n        }\n    }\n\n    // Method to play the sound using Tone.js\n    play() {\n        if (!loaded) {                             // Check if Tone.js assets are loaded\n            console.log(\"Waiting for Tone.js to load...\"); // Log a message if assets are not yet loaded\n            return;                                // Exit the function early if not loaded\n        }\n        // If the instrument is a Tone.Players instance and has the specified bhol sample\n        if (this.instrument && this.bhol && typeof this.instrument.has === \"function\" && this.instrument.has(this.bhol)) {\n            this.instrument.player(this.bhol).start();  // Retrieve and start playing the sample for the specified bhol\n        } \n        // Otherwise, if the instrument is a single-sample Tone.Player\n        else if (this.instrument && typeof this.instrument.start === \"function\") {\n            this.instrument.start();               // Start playing the single sample\n        }\n        else {\n            console.log(\"Instrument does not have sample: \" + this.bhol); // Log an error if the sample is not available\n        }\n    }\n}\n\n// Button class handles grid interaction for each button cell\nclass Button {\n    constructor(x, y, w, h, row, col, sound) {\n        this.x = x;                                 // Set the x position of the button on the canvas\n        this.y = y;                                 // Set the y position of the button on the canvas\n        this.w = w;                                 // Set the width of the button\n        this.h = h;                                 // Set the height of the button\n        this.on = false;                            // Initialize the button state as off (inactive)\n        this.row = row;                             // Store the grid row index where the button is located\n        this.col = col;                             // Store the grid column index where the button is located\n        this.sound = sound;                         // Associate a Sound object with this button\n    }\n\n    // Method to handle mouse click events on the button\n    click(mx, my) {\n        // Check if the mouse coordinates (mx, my) are within this button's boundaries\n        if (mx > this.x && mx < this.x + this.w && my > this.y && my < this.y + this.h) {\n            this.on = !this.on;                    // Toggle the button's on/off state\n            if (this.on && this.sound) {             // If the button is activated and has an associated Sound object\n                this.sound.setPosition(this.row);    // Update the Sound object's vertical position based on the grid row\n                cells.push(this.sound);              // Add the Sound object to the active sounds array (cells)\n                this.sound.play();                   // Play the sound using Tone.js\n            }\n        }\n    }\n\n    // Method to display the button on the canvas\n    display() {\n        stroke(10);                                  // Set the border color for the button\n        fill(this.on ? color(0, 0, 140) : color(220, 220, 220)); // Set the fill color: blue if active, gray if inactive\n        rect(this.x, this.y, this.w, this.h);          // Draw the button as a rectangle on the canvas\n    }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67ba4a2f30ee62dbd3de0f45",
        "createdAt": "2025-02-23T00:40:07.482Z",
        "updatedAt": "2025-02-23T00:40:07.482Z",
        "id": "67ba4a2f30ee62dbd3de0f45"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n<!--     <script src=\"sound.js\"></script>\n    <script src=\"button.js\"></script> -->\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba4a2f30ee62dbd3de0f46",
        "createdAt": "2025-02-23T00:40:07.482Z",
        "updatedAt": "2025-02-23T00:40:07.482Z",
        "id": "67ba4a2f30ee62dbd3de0f46"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba4a2f30ee62dbd3de0f47",
        "createdAt": "2025-02-23T00:40:07.482Z",
        "updatedAt": "2025-02-23T00:40:07.482Z",
        "id": "67ba4a2f30ee62dbd3de0f47"
      },
      {
        "name": "sound.js",
        "content": "// Sound class handles all audio-related functionality\nclass Sound {\n    constructor(instrument) {\n        this.instrument = instrument;    // Tone.Player instance\n        this.bhol = null;               // Type of sound (will be set later)\n        this.x = 50;                    // X position for visual display\n        this.y = 0;                     // Y position (set based on grid row)\n        this.size = 20;                 // Base size for visual display\n        this.duration = 1;              // Default duration in grid units\n    }\n\n    // Set the type of sound and its duration\n    setBhol(bholType) {\n        this.bhol = bholType;\n        // Set duration based on sound type\n        switch(bholType) {\n            case \"num\":                 // Longer sounds\n            case \"thom\":\n                this.duration = 2;\n                break;\n            default:                    // Standard sounds\n                this.duration = 1;\n        }\n    }\n\n    // Update vertical position based on grid row\n    setPosition(row) {\n        this.y = row * 40 + height / 2;\n    }\n\n    // Draw sound representation on canvas\n    display() {\n        if (this.bhol) {               // Only display if sound type is set\n            fill(0, 200, 100);         // Green color for sound blocks\n            rect(this.x, this.y, this.size * this.duration, this.size);\n        }\n    }\n\n    // Play the sound using Tone.js\n    play() {\n        if (!loaded) {\n            console.log(\"Waiting for Tone.js to load...\");\n            return;\n        }\n        if (this.instrument && this.bhol && this.instrument.has(this.bhol)) {\n            this.instrument.player(this.bhol).start();\n        } else {\n            console.log(\"Instrument does not have sample: \" + this.bhol);\n        }\n    }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba4a58905bd413ec7e062c",
        "createdAt": "2025-02-23T00:40:07.482Z",
        "updatedAt": "2025-02-23T00:40:07.482Z",
        "id": "67ba4a58905bd413ec7e062c"
      },
      {
        "name": "button.js",
        "content": "\n// Button class handles grid interaction\nclass Button {\n    constructor(x, y, w, h, row, col, sound) {\n        this.x = x;                     // X position on canvas\n        this.y = y;                     // Y position on canvas\n        this.w = w;                     // Width\n        this.h = h;                     // Height\n        this.on = false;                // Button state\n        this.row = row;                 // Grid row index\n        this.col = col;                 // Grid column index\n        this.sound = sound;             // Associated Sound object\n    }\n\n    // Handle mouse clicks\n    click(mx, my) {\n        if (mx > this.x && mx < this.x + this.w && my > this.y && my < this.y + this.h) {\n            this.on = !this.on;         // Toggle button state\n            if (this.on && this.sound) {\n                this.sound.setPosition(this.row);  // Update sound position\n                cells.push(this.sound);            // Add to active sounds\n                this.sound.play();                 // Play the sound\n            }\n        }\n    }\n\n    // Draw button on canvas\n    display() {\n        stroke(10);                     // Border color\n        fill(this.on ? color(0, 0, 140) : color(220, 220, 220));  // Blue when on, gray when off\n        rect(this.x, this.y, this.w, this.h);\n    }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba4a5cbe6541ecc74ac24b",
        "createdAt": "2025-02-23T00:40:07.482Z",
        "updatedAt": "2025-02-23T00:40:07.482Z",
        "id": "67ba4a5cbe6541ecc74ac24b"
      },
      {
        "name": "india-outline.jpg",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/7d7e6f3f-da92-4050-9db1-4f1930c88899.jpg",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ba4c11018b590a838cb4ef",
        "createdAt": "2025-02-23T00:40:07.482Z",
        "updatedAt": "2025-02-23T00:40:07.482Z",
        "id": "67ba4c11018b590a838cb4ef"
      }
    ],
    "updatedAt": "2025-02-23T00:40:07.482Z",
    "createdAt": "2025-02-22T22:05:42.143Z",
    "id": "QVgxjBr-L"
  },
  {
    "_id": "9XXer8h3-",
    "name": "Interactive Melody Composition",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67cf4bf30b3eaadcc6b9eea8",
          "67cf4bf30b3eaadcc6b9eea7",
          "67cf4bf30b3eaadcc6b9eea9"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67cf4bf30b3eaadcc6b9eeaa",
        "createdAt": "2025-03-18T15:26:04.531Z",
        "updatedAt": "2025-03-18T15:26:04.531Z",
        "id": "67cf4bf30b3eaadcc6b9eeaa"
      },
      {
        "name": "sketch.js",
        "content": "// Create a Synth instrument from Tone.js and connect it to the audio output\nconst synth = new Tone.Synth();\nsynth.toDestination();\n\n// Define the scales (using note strings; later the base octave will be applied)\nconst pentatonicScale = [\"C4\", \"D4\", \"E4\", \"G4\", \"A4\"]; // 5 notes => 5 stairs\nconst minorScale = [\"A3\", \"B3\", \"C4\", \"D4\", \"E4\", \"F4\", \"G4\", \"A4\"]; // 8 notes => 8 stairs\nconst majorScale = [\"C4\", \"D4\", \"E4\", \"F4\", \"G4\", \"A4\", \"B4\", \"C5\"]; // 8 notes => 8 stairs\n\nlet currentScene = \"pentatonic\"; // Default scene\nlet ball;\nlet stairs = [];\nlet octaveSlider;  // Global slider for base octave\n\n// Helper: Given a note letter, stair index, scale length, and base octave,\n// returns the full note string. For 8-note scales, the last note is one octave higher.\nfunction getFullNote(noteLetter, index, scaleLength, baseOctave) {\n  let octave = baseOctave;\n  if (scaleLength === 8 && index === scaleLength - 1) {\n    octave = baseOctave + 1;\n  }\n  return noteLetter + octave;\n}\n\nfunction setup() {\n  createCanvas(800, 600);\n  \n  // Inject custom CSS for the slider to give it a cyberpunk style.\n  let styleElem = createElement('style', `\n    input[type=range] {\n      -webkit-appearance: none;\n      appearance: none;\n      background: #000;\n      height: 8px;\n      border: 2px solid #0ff;\n      border-radius: 5px;\n      box-shadow: 0 0 10px #0ff;\n    }\n    input[type=range]::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      appearance: none;\n      width: 20px;\n      height: 20px;\n      background: #0ff;\n      border: 2px solid #000;\n      border-radius: 50%;\n      box-shadow: 0 0 10px #0ff;\n      cursor: pointer;\n    }\n    input[type=range]::-moz-range-thumb {\n      width: 20px;\n      height: 20px;\n      background: #0ff;\n      border: 2px solid #000;\n      border-radius: 50%;\n      box-shadow: 0 0 10px #0ff;\n      cursor: pointer;\n    }\n  `);\n  styleElem.parent(document.head);\n  \n  // Create a navigation container for scene buttons.\n  let nav = createDiv('');\n  nav.position(10, 10);\n  nav.style('padding', '10px');\n  nav.style('background-color', 'rgba(0, 0, 0, 0.5)');\n  nav.style('border', '2px solid #0ff');\n  nav.style('box-shadow', '0 0 10px #0ff');\n  nav.style('font-family', 'monospace');\n\n  // Create and style the Pentatonic button.\n  let pentButton = createButton(\"Pentatonic\");\n  pentButton.parent(nav);\n  pentButton.style('margin-right', '10px');\n  styleCyberpunkButton(pentButton);\n  pentButton.mousePressed(() => switchScene(\"pentatonic\"));\n  \n  // Create and style the Minor button.\n  let minorButton = createButton(\"Minor\");\n  minorButton.parent(nav);\n  minorButton.style('margin-right', '10px');\n  styleCyberpunkButton(minorButton);\n  minorButton.mousePressed(() => switchScene(\"minor\"));\n  \n  // Create and style the Major button.\n  let majorButton = createButton(\"Major\");\n  majorButton.parent(nav);\n  styleCyberpunkButton(majorButton);\n  majorButton.mousePressed(() => switchScene(\"major\"));\n  \n  // Create a vertical slider for octave selection at the top right.\n  // Slider range: 2 to 6 with a default value of 4.\n  octaveSlider = createSlider(2, 6, 4, 1);\n  // Rotate the slider so it appears vertical and adjust its width.\n  octaveSlider.style('transform', 'rotate(-90deg)');\n  octaveSlider.style('width', '100px');\n  // Move the slider 50 pixels down from its previous position.\n  octaveSlider.position(width - 120, 70);\n  \n  // Enable a neon glow effect for drawing.\n  drawingContext.shadowColor = color(0, 255, 255);\n  drawingContext.shadowBlur = 20;\n  \n  // Initialize ball properties.\n  ball = {\n    x: width * 0.15,\n    y: height * 0.1,\n    vx: 2,\n    vy: 0,\n    radius: 15,\n    currentStair: null\n  };\n\n  // Initialize stairs based on the default scene.\n  updateStairs();\n}\n\nfunction styleCyberpunkButton(btn) {\n  btn.style('background-color', '#000');\n  btn.style('border', '2px solid #0ff');\n  btn.style('color', '#0ff');\n  btn.style('padding', '8px 16px');\n  btn.style('font-family', 'monospace');\n  btn.style('cursor', 'pointer');\n  btn.style('box-shadow', '0 0 10px #0ff');\n  btn.style('transition', 'background-color 0.3s, color 0.3s');\n  btn.mouseOver(() => {\n    btn.style('background-color', '#0ff');\n    btn.style('color', '#000');\n  });\n  btn.mouseOut(() => {\n    btn.style('background-color', '#000');\n    btn.style('color', '#0ff');\n  });\n}\n\nfunction updateStairs() {\n  stairs = [];\n  let scale;\n  if (currentScene === \"pentatonic\") {\n    scale = pentatonicScale;\n  } else if (currentScene === \"minor\") {\n    scale = minorScale;\n  } else if (currentScene === \"major\") {\n    scale = majorScale;\n  }\n  let numStairs = scale.length;\n  let startX = width * 0.125;\n  let startY = width * 0.125;\n  let stairWidth = width * 0.1;\n  let stairHeight = width * 0.025;\n  let verticalGap = width * 0.0625;\n  \n  // For each note in the scale, store the note letter (without the octave)\n  for (let i = 0; i < numStairs; i++) {\n    let noteLetter = scale[i].replace(/[0-9]/g, '');\n    stairs.push({\n      x: startX + i * stairWidth,\n      y: startY + i * verticalGap,\n      w: stairWidth,\n      h: stairHeight,\n      noteLetter: noteLetter,\n      index: i,\n      scaleLength: numStairs\n    });\n  }\n}\n\nfunction switchScene(scene) {\n  currentScene = scene;\n  updateStairs();\n}\n\nfunction draw() {\n  background(10, 10, 20);\n  \n  // Draw a neon grid as a futuristic backdrop.\n  stroke(50, 200, 255, 50);\n  strokeWeight(1);\n  for (let x = 0; x < width; x += 40) {\n    line(x, 0, x, height);\n  }\n  for (let y = 0; y < height; y += 40) {\n    line(0, y, width, y);\n  }\n  \n  // Draw stairs with a glowing neon cyan outline.\n  noFill();\n  stroke(0, 255, 200);\n  strokeWeight(4);\n  for (let stair of stairs) {\n    rect(stair.x, stair.y, stair.w, stair.h);\n  }\n  \n  // Draw labels for each stair showing the note (with the octave from the slider) and its frequency.\n  textAlign(CENTER, TOP);\n  textSize(12);\n  fill(255);\n  noStroke();\n  let baseOctave = octaveSlider.value();\n  for (let stair of stairs) {\n    let fullNote = getFullNote(stair.noteLetter, stair.index, stair.scaleLength, baseOctave);\n    let freq = Tone.Frequency(fullNote).toFrequency();\n    text(fullNote + \": \" + freq.toFixed(2) + \" Hz\", stair.x + stair.w / 2, stair.y + stair.h + 5);\n  }\n  \n  // Display the current base octave below the slider.\n  push();\n  resetMatrix();\n  fill(255);\n  textAlign(CENTER, TOP);\n  // The slider is positioned at (width - 120, 70) with a width of 100px,\n  // so its center is at (width - 70). We place the label 50 pixels below the slider.\n  text(\"BASE OCTAVE: \" + baseOctave, width - 70, 150);\n  pop();\n  \n  // Draw the neon pink ball.\n  noStroke();\n  fill(255, 50, 150);\n  ellipse(ball.x, ball.y, ball.radius * 2);\n  \n  // Update ball physics.\n  ball.vy += 0.5;\n  ball.x += ball.vx;\n  ball.y += ball.vy;\n\n  // Check for collision with stairs (only when falling).\n  let collisionOccurred = false;\n  for (let i = 0; i < stairs.length; i++) {\n    let stair = stairs[i];\n    if (ball.vy > 0 &&\n        ball.x > stair.x && ball.x < stair.x + stair.w &&\n        ball.y + ball.radius > stair.y && ball.y - ball.radius < stair.y + stair.h) {\n      \n      collisionOccurred = true;\n      ball.y = stair.y - ball.radius;\n      ball.vy *= -0.7;\n      ball.vx *= 0.98;\n      \n      if (ball.currentStair !== i) {\n        ball.currentStair = i;\n        let fullNote = getFullNote(stair.noteLetter, i, stair.scaleLength, baseOctave);\n        synth.triggerAttackRelease(fullNote, \"8n\");\n      }\n      break;\n    }\n  }\n  \n  if (!collisionOccurred) {\n    ball.currentStair = null;\n  }\n}\n\nfunction mousePressed() {\n  Tone.start(); // Ensure Tone.js audio context is running\n  ball.x = mouseX;\n  ball.y = mouseY;\n  ball.vx = 2;\n  ball.vy = 0;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67cf4bf30b3eaadcc6b9eea7",
        "createdAt": "2025-03-18T15:26:04.531Z",
        "updatedAt": "2025-03-18T15:26:04.531Z",
        "id": "67cf4bf30b3eaadcc6b9eea7"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cf4bf30b3eaadcc6b9eea8",
        "createdAt": "2025-03-18T15:26:04.531Z",
        "updatedAt": "2025-03-18T15:26:04.531Z",
        "id": "67cf4bf30b3eaadcc6b9eea8"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cf4bf30b3eaadcc6b9eea9",
        "createdAt": "2025-03-18T15:26:04.531Z",
        "updatedAt": "2025-03-18T15:26:04.531Z",
        "id": "67cf4bf30b3eaadcc6b9eea9"
      }
    ],
    "updatedAt": "2025-03-18T15:26:04.531Z",
    "createdAt": "2025-03-10T20:46:37.807Z",
    "id": "9XXer8h3-"
  },
  {
    "_id": "aU4rTILY_",
    "name": "law of detachment",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67a15951a3b3801a853710ea",
          "67a157eda3b3801a8536dc88",
          "67a0381ceddd4e276e4e7f04",
          "67a052d7a97251fb1adb3ab9",
          "67a0381ceddd4e276e4e7f03",
          "67a0381ceddd4e276e4e7f05"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67a0381ceddd4e276e4e7f06",
        "createdAt": "2025-03-18T15:24:25.390Z",
        "updatedAt": "2025-03-18T15:24:25.390Z",
        "id": "67a0381ceddd4e276e4e7f06"
      },
      {
        "name": "sketch.js",
        "content": "// Arrays of textphrases for audio loops\n\nlet detachment = [\n  \"detach\", \n  \"yourself\", \n  \"from\", \n  \"yourself\"\n];\n\nlet instrumentals = [\n  \"going home\",\n  \"be yourself\",\n  \"i swear...\",\n  \"dj's organ chord\",\n];\n\n// Arrays to store loop objects\nlet detachmentLoops = [];\nlet instrumentalLoops = [];\n\n// Create a reverb effect with decay and wet (effect intensity) settings\nlet reverb = new Tone.Reverb({\n  decay: 0.8,  // How long the reverb sound continues\n  wet: 0.9,    // How much reverb is applied to the sound\n});\n\n// Slider to control reverb wet value\nlet reverbSlider;\n\n// Flags and tracking variables\nlet loaded = false;\nlet activeDetachment = null;  // Tracks the currently active detachment loop\nlet activeInstrumental = null;  // Tracks the currently active instrumental loop\n\n// Waveform analyzer to visualize audio\nlet waveform = new Tone.Waveform(1024); // Analyze 1024 samples of audio data\n\n// Color palette for loop tracks\nlet trackColors = [\n  \"#FF5733\",\n  \"#33FF57\",\n  \"#5733FF\",\n  \"#FF33A1\",\n  \"#33A1FF\",\n  \"#A1FF33\",\n  \"#FFA133\",\n  \"#33FFA1\",\n];\n\nfunction setup() {\n  createCanvas(600, 600);\n  \n  // Create a slider to control reverb effect\n  reverbSlider = createSlider(0, 1, 0.5, 0.1);\n  reverbSlider.position(width / 2 - 75, 550);  // Position slider at center top\n  // reverbSlider.style(\"width\", \"150px\");\n  reverbSlider.input(updateReverb);  // Call updateReverb when slider value changes\n  \n  loadLoops();  // Initialize audio loops\n}\n\nfunction draw() {\n  let reverbWet = reverbSlider.value();\n  \n  // Create a background that changes color based on reverb intensity\n  background(lerpColor(color(\"#FFFFFF\"), color(\"#E398F8\"), reverbWet));\n  \n  // textAlign(CENTER);\n  // textSize(30)\n  // noStroke();\n  // fill(lerpColor(color(\"#E398F8\"), color(\"#3F55FF\"), reverbWet));\n  // text(\"Law of Detachment\", width/2, 50);\n  \n  // Draw waveform visualizations for detachment and instrumental loops\n  drawWaveform(detachmentLoops, width * 0.25, height - 150);\n  drawWaveform(instrumentalLoops, width * 0.75, height - 150);\n}\n\n// Function to draw audio waveform\nfunction drawWaveform(loopArray, x, y) {\n  push();\n  translate(x - width / 4, y);\n  \n  // Iterate through loops to draw active loop waveforms\n  for (let i = 0; i < loopArray.length; i++) {\n    let activeLoop = loopArray[i];\n    \n    // Check if loop is currently playing\n    if (activeLoop && activeLoop.player.state === \"started\") {\n      let waveformData = waveform.getValue();\n      let waveWidth = width / 2;\n      let waveHeight = 100;\n      \n      stroke(activeLoop.color);  // Use loop's unique color\n      noFill();\n      \n      // Create multiple offset lines to create depth in waveform visualization\n      for (let offset = -15; offset <= 30; offset += 15) {\n        beginShape();\n        for (let j = 0; j < waveformData.length; j++) {\n          let xPos = map(j, 0, waveformData.length, 0, waveWidth);\n          let yPos = map(waveformData[j], -1, 1, -waveHeight / 2, waveHeight / 2) + offset;\n          vertex(xPos, yPos);\n        }\n        endShape();\n      }\n    }\n  }\n  pop();\n}\n\n// Function to load and initialize audio loops\nfunction loadLoops() {\n  Tone.Transport.bpm.value = 88;  // Set global tempo\n  \n  // Create 4 loops for each category (detachment and instrumental)\n  for (let i = 0; i < 4; i++) {\n    let detachmentName = detachment[i];\n    let instrumentalName = instrumentals[i];\n    \n    // Create detachment and instrumental loops with unique properties\n    detachmentLoops[i] = new Loop(\n      \"detachment/\" + i + \".mp3\",  // Audio file path\n      i,                            // Index\n      detachmentName,               // Display name\n      \"left\",                       // UI position\n      \"detachment\",                 // Category\n      trackColors[i]                // Color\n    );\n    \n    instrumentalLoops[i] = new Loop(\n      \"instrumentals/\" + i + \".mp3\",\n      i,\n      instrumentalName,\n      \"right\",\n      \"instrumental\",\n      trackColors[i + 4]\n    );\n    \n    // Connect players to waveform and reverb for analysis and effect\n    detachmentLoops[i].player.connect(waveform);\n    instrumentalLoops[i].player.connect(waveform);\n    detachmentLoops[i].player.connect(reverb);\n    instrumentalLoops[i].player.connect(reverb);\n  }\n  \n  reverb.toDestination();  // Route reverb to audio output\n}\n\n// Update reverb wet value based on slider\nfunction updateReverb() {\n  reverb.wet.rampTo(reverbSlider.value());\n}\n\n// Confirm audio is loaded\nTone.loaded().then(function () {\n  console.log(\"loaded\");\n});\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67a0381ceddd4e276e4e7f03",
        "createdAt": "2025-03-18T15:24:25.390Z",
        "updatedAt": "2025-03-18T15:24:25.390Z",
        "id": "67a0381ceddd4e276e4e7f03"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://unpkg.com/tone@15.0.4/build/Tone.js\"></script>\n    <script src=\"lessonLoop.js\"></script>\n    <script src=\"instrumentalLoop.js\"></script>\n    <script src=\"Loop.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a0381ceddd4e276e4e7f04",
        "createdAt": "2025-03-18T15:24:25.390Z",
        "updatedAt": "2025-03-18T15:24:25.390Z",
        "id": "67a0381ceddd4e276e4e7f04"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a0381ceddd4e276e4e7f05",
        "createdAt": "2025-03-18T15:24:25.390Z",
        "updatedAt": "2025-03-18T15:24:25.390Z",
        "id": "67a0381ceddd4e276e4e7f05"
      },
      {
        "name": "instrumentals",
        "content": "",
        "children": [
          "67a157b78a4e7808cf37d5c2",
          "67a157b70f573772de153396",
          "67a157b80f573772de1533c3",
          "67a157d18a4e7808cf37d836"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67a052d7a97251fb1adb3ab9",
        "createdAt": "2025-03-18T15:24:25.390Z",
        "updatedAt": "2025-03-18T15:24:25.390Z",
        "id": "67a052d7a97251fb1adb3ab9"
      },
      {
        "name": "1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/37dffb7c-2165-443f-8c6d-8beccc9ea9ad.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a157b70f573772de153396",
        "createdAt": "2025-03-18T15:24:25.390Z",
        "updatedAt": "2025-03-18T15:24:25.390Z",
        "id": "67a157b70f573772de153396"
      },
      {
        "name": "0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/5fb63fc4-c655-43bb-8405-96d1eb28d4ef.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a157b78a4e7808cf37d5c2",
        "createdAt": "2025-03-18T15:24:25.390Z",
        "updatedAt": "2025-03-18T15:24:25.390Z",
        "id": "67a157b78a4e7808cf37d5c2"
      },
      {
        "name": "2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/2c18e87e-eb53-4baf-82b2-e06f341ea6e4.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a157b80f573772de1533c3",
        "createdAt": "2025-03-18T15:24:25.390Z",
        "updatedAt": "2025-03-18T15:24:25.390Z",
        "id": "67a157b80f573772de1533c3"
      },
      {
        "name": "3.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/fdfea5e6-6660-4d3b-9add-56512c318ba5.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a157d18a4e7808cf37d836",
        "createdAt": "2025-03-18T15:24:25.390Z",
        "updatedAt": "2025-03-18T15:24:25.390Z",
        "id": "67a157d18a4e7808cf37d836"
      },
      {
        "name": "detachment",
        "content": "",
        "children": [
          "67a157fa0f573772de1550e3",
          "67a157fa8a4e7808cf37e1d2",
          "67a157f9a3b3801a8536dda9",
          "67a157f98a4e7808cf37e1bf"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67a157eda3b3801a8536dc88",
        "createdAt": "2025-03-18T15:24:25.390Z",
        "updatedAt": "2025-03-18T15:24:25.390Z",
        "id": "67a157eda3b3801a8536dc88"
      },
      {
        "name": "3.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/e8c14552-56bf-44a9-b0bf-72511ddaac0b.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a157f98a4e7808cf37e1bf",
        "createdAt": "2025-03-18T15:24:25.390Z",
        "updatedAt": "2025-03-18T15:24:25.390Z",
        "id": "67a157f98a4e7808cf37e1bf"
      },
      {
        "name": "2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/60c9fe17-d96d-421d-906e-f8f64966c3fd.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a157f9a3b3801a8536dda9",
        "createdAt": "2025-03-18T15:24:25.390Z",
        "updatedAt": "2025-03-18T15:24:25.390Z",
        "id": "67a157f9a3b3801a8536dda9"
      },
      {
        "name": "0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/88b7c676-0608-4754-9015-5c334a34e028.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a157fa0f573772de1550e3",
        "createdAt": "2025-03-18T15:24:25.390Z",
        "updatedAt": "2025-03-18T15:24:25.390Z",
        "id": "67a157fa0f573772de1550e3"
      },
      {
        "name": "1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/8d232ad5-801b-43ff-89fc-d48ff9b446fb.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a157fa8a4e7808cf37e1d2",
        "createdAt": "2025-03-18T15:24:25.390Z",
        "updatedAt": "2025-03-18T15:24:25.390Z",
        "id": "67a157fa8a4e7808cf37e1d2"
      },
      {
        "name": "Loop.js",
        "content": "// Custom Loop class to manage individual audio loops\nclass Loop {\n  constructor(url, i, name, side, category, color) {\n    // Create a Tone.js Player for each loop\n    this.player = new Tone.Player({\n      url: url,\n      loop: true,    // Enable looping\n      volume: -12    // Set default volume\n    }).toDestination();\n    \n    this.category = category;\n    this.color = color;\n    \n    // Create play/pause button\n    this.button = createButton(name);\n    this.button.mousePressed(this.toggle.bind(this));\n    this.styleButton();\n    \n    // Create volume slider\n    this.volumeSlider = createSlider(0, 1, 0.5, 0.1);\n    this.volumeSlider.input(this.updateVolume.bind(this));\n    this.styleVolumeSlider();\n    \n    // Position UI elements\n    let xPosition = side === \"left\" ? 50 : width - 200;\n    let yPosition = 100 + i * 70;\n    this.button.position(xPosition, yPosition);\n    this.volumeSlider.position(xPosition, yPosition + 55);\n  }\n  \n  // Button styling method\n  styleButton() {\n    this.button.style('width', '150px');\n    this.button.style('height', '50px');\n    this.button.style('font-size', '16px');\n    this.button.style('background-color', 'white');\n  }\n  \n  // Volume slider styling method (not shown in original code)\n  styleVolumeSlider() {\n    this.volumeSlider.style('width', '150px');\n  }\n  \n  // Toggle play/pause for the loop\n  toggle() {\n    // Start Tone.js Transport if not already started\n    if (Tone.Transport.state !== \"started\") {\n      Tone.start();\n      Tone.Transport.start();\n    }\n    \n    // Stop or start the loop\n    if (this.player.state === \"started\") {\n      this.scheduleStop();\n    } else {\n      this.scheduleStart();\n    }\n  }\n  \n  // Schedule starting the loop\n  scheduleStart() {\n    // Stop other active loops in the same category\n    if (this.category === \"detachment\" && activeDetachment) {\n      activeDetachment.scheduleStop();\n    } else if (this.category === \"instrumental\" && activeInstrumental) {\n      activeInstrumental.scheduleStop();\n    }\n    \n    // Set active loop for the category\n    if (this.category === \"detachment\") {\n      activeDetachment = this;\n    } else {\n      activeInstrumental = this;\n    }\n    \n    this.player.start();\n    // Schedule UI update after 2 measures\n    Tone.Draw.schedule(() => this.start(), \"@2m\");\n  }\n  \n  // Schedule stopping the loop\n  scheduleStop() {\n    this.player.stop();\n    // Schedule UI update after 2 measures\n    Tone.Draw.schedule(() => this.stop(), \"@2m\");\n    \n    // Clear active loop for the category\n    if (this.category === \"detachment\" && activeDetachment === this) {\n      activeDetachment = null;\n    } else if (this.category === \"instrumental\" && activeInstrumental === this) {\n      activeInstrumental = null;\n    }\n  }\n  \n  // UI method to show loop is active\n  start() {\n    this.button.style('background-color', this.color);\n    this.button.style('color', 'white');\n  }\n  \n  // UI method to show loop is stopped\n  stop() {\n    this.button.style('background-color', 'white');\n    this.button.style('color', 'black');\n  }\n  \n  // Update loop volume based on slider\n  updateVolume() {\n    let volumeValue = Tone.gainToDb(this.volumeSlider.value());\n    this.player.volume.rampTo(volumeValue, 0.1);\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a15951a3b3801a853710ea",
        "createdAt": "2025-03-18T15:24:25.390Z",
        "updatedAt": "2025-03-18T15:24:25.390Z",
        "id": "67a15951a3b3801a853710ea"
      }
    ],
    "updatedAt": "2025-03-18T15:24:25.390Z",
    "createdAt": "2025-02-03T03:32:56.036Z",
    "id": "aU4rTILY_"
  },
  {
    "_id": "Pd7_CbZUB",
    "name": "Leap Motion Test",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "673bee1409855c482d6100a9",
          "673bf4df5039e128331c0fdd",
          "673bee1409855c482d6100a8",
          "673bee1409855c482d6100aa"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "673bee1409855c482d6100ab",
        "createdAt": "2024-11-19T02:31:40.521Z",
        "updatedAt": "2024-11-19T02:31:40.521Z",
        "id": "673bee1409855c482d6100ab"
      },
      {
        "name": "sketch.js",
        "content": "function setup() {\n  createCanvas(800, 600);\n  background(0);\n  \n  // First verify Leap exists\n  if (typeof Leap === 'undefined') {\n    console.error('Leap is not defined - library not loaded');\n    return;\n  }\n  \n  console.log('Leap is defined!');\n  \n  // Try to create controller\n  try {\n    const controller = new Leap.Controller();\n    console.log('Controller created successfully');\n    \n    controller.on('connect', () => {\n      console.log('Controller connected!');\n    });\n    \n    controller.connect();\n    console.log('Connect method called');\n  } catch (error) {\n    console.error('Error creating controller:', error);\n  }\n}\n\nfunction draw() {\n  background(0);\n  fill(255);\n  textSize(24);\n  text(\"Check console for Leap status\", 20, 30);\n  text(\"Press Command+Option+J to open console\", 20, 60);\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673bee1409855c482d6100a8",
        "createdAt": "2024-11-19T02:31:40.521Z",
        "updatedAt": "2024-11-19T02:31:40.521Z",
        "id": "673bee1409855c482d6100a8"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <!-- Local Leap file -->\n    <script src=\"leap.js\"></script>\n    <!-- p5.js files -->\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n  </head>\n  <body>\n    <main>\n    </main>\n    <!-- Add a small script to verify Leap is loaded -->\n    <script>\n      window.onload = function() {\n        if (typeof Leap === 'undefined') {\n          console.error('Leap not loaded from local file');\n        } else {\n          console.log('Leap successfully loaded');\n        }\n      }\n    </script>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "673bee1409855c482d6100a9",
        "createdAt": "2024-11-19T02:31:40.521Z",
        "updatedAt": "2024-11-19T02:31:40.521Z",
        "id": "673bee1409855c482d6100a9"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673bee1409855c482d6100aa",
        "createdAt": "2024-11-19T02:31:40.521Z",
        "updatedAt": "2024-11-19T02:31:40.521Z",
        "id": "673bee1409855c482d6100aa"
      },
      {
        "name": "leap.js",
        "content": "/*!                                                              \n * LeapJS v0.6.4                                                  \n * http://github.com/leapmotion/leapjs/                                        \n *                                                                             \n * Copyright 2013 LeapMotion, Inc. and other contributors                      \n * Released under the Apache-2.0 license                                     \n * http://github.com/leapmotion/leapjs/blob/master/LICENSE.txt                 \n */\n;(function(e,t,n){function i(n,s){if(!t[n]){if(!e[n]){var o=typeof require==\"function\"&&require;if(!s&&o)return o(n,!0);if(r)return r(n,!0);throw new Error(\"Cannot find module '\"+n+\"'\")}var u=t[n]={exports:{}};e[n][0].call(u.exports,function(t){var r=e[n][1][t];return i(r?r:t)},u,u.exports)}return t[n].exports}var r=typeof require==\"function\"&&require;for(var s=0;s<n.length;s++)i(n[s]);return i})({1:[function(require,module,exports){\nvar Pointable = require('./pointable'),\n  glMatrix = require(\"gl-matrix\")\n  , vec3 = glMatrix.vec3\n  , mat3 = glMatrix.mat3\n  , mat4 = glMatrix.mat4\n  , _ = require('underscore');\n\n\nvar Bone = module.exports = function(finger, data) {\n  this.finger = finger;\n\n  this._center = null, this._matrix = null;\n\n  /**\n  * An integer code for the name of this bone.\n  *\n  * * 0 -- metacarpal\n  * * 1 -- proximal\n  * * 2 -- medial\n  * * 3 -- distal\n  * * 4 -- arm\n  *\n  * @member type\n  * @type {number}\n  * @memberof Leap.Bone.prototype\n  */\n  this.type = data.type;\n\n  /**\n   * The position of the previous, or base joint of the bone closer to the wrist.\n   * @type {vector3}\n   */\n  this.prevJoint = data.prevJoint;\n\n  /**\n   * The position of the next joint, or the end of the bone closer to the finger tip.\n   * @type {vector3}\n   */\n  this.nextJoint = data.nextJoint;\n\n  /**\n   * The estimated width of the tool in millimeters.\n   *\n   * The reported width is the average width of the visible portion of the\n   * tool from the hand to the tip. If the width isn't known,\n   * then a value of 0 is returned.\n   *\n   * Pointable objects representing fingers do not have a width property.\n   *\n   * @member width\n   * @type {number}\n   * @memberof Leap.Pointable.prototype\n   */\n  this.width = data.width;\n\n  var displacement = new Array(3);\n  vec3.sub(displacement, data.nextJoint, data.prevJoint);\n\n  this.length = vec3.length(displacement);\n\n\n  /**\n   *\n   * These fully-specify the orientation of the bone.\n   * See examples/threejs-bones.html for more info\n   * Three vec3s:\n   *  x (red): The rotation axis of the finger, pointing outwards.  (In general, away from the thumb )\n   *  y (green): The \"up\" vector, orienting the top of the finger\n   *  z (blue): The roll axis of the bone.\n   *\n   *  Most up vectors will be pointing the same direction, except for the thumb, which is more rightwards.\n   *\n   *  The thumb has one fewer bones than the fingers, but there are the same number of joints & joint-bases provided\n   *  the first two appear in the same position, but only the second (proximal) rotates.\n   *\n   *  Normalized.\n   */\n  this.basis = data.basis;\n};\n\nBone.prototype.left = function(){\n\n  if (this._left) return this._left;\n\n  this._left =  mat3.determinant(this.basis[0].concat(this.basis[1]).concat(this.basis[2])) < 0;\n\n  return this._left;\n\n};\n\n\n/**\n * The Affine transformation matrix describing the orientation of the bone, in global Leap-space.\n * It contains a 3x3 rotation matrix (in the \"top left\"), and center coordinates in the fourth column.\n *\n * Unlike the basis, the right and left hands have the same coordinate system.\n *\n */\nBone.prototype.matrix = function(){\n\n  if (this._matrix) return this._matrix;\n\n  var b = this.basis,\n      t = this._matrix = mat4.create();\n\n  // open transform mat4 from rotation mat3\n  t[0] = b[0][0], t[1] = b[0][1], t[2]  = b[0][2];\n  t[4] = b[1][0], t[5] = b[1][1], t[6]  = b[1][2];\n  t[8] = b[2][0], t[9] = b[2][1], t[10] = b[2][2];\n\n  t[3] = this.center()[0];\n  t[7] = this.center()[1];\n  t[11] = this.center()[2];\n\n  if ( this.left() ) {\n    // flip the basis to be right-handed\n    t[0] *= -1;\n    t[1] *= -1;\n    t[2] *= -1;\n  }\n\n  return this._matrix;\n};\n\n/**\n * Helper method to linearly interpolate between the two ends of the bone.\n *\n * when t = 0, the position of prevJoint will be returned\n * when t = 1, the position of nextJoint will be returned\n */\nBone.prototype.lerp = function(out, t){\n\n  vec3.lerp(out, this.prevJoint, this.nextJoint, t);\n\n};\n\n/**\n *\n * The center position of the bone\n * Returns a vec3 array.\n *\n */\nBone.prototype.center = function(){\n\n  if (this._center) return this._center;\n\n  var center = vec3.create();\n  this.lerp(center, 0.5);\n  this._center = center;\n  return center;\n\n};\n\n// The negative of the z-basis\nBone.prototype.direction = function(){\n\n return [\n   this.basis[2][0] * -1,\n   this.basis[2][1] * -1,\n   this.basis[2][2] * -1\n ];\n\n};\n\n},{\"./pointable\":14,\"gl-matrix\":23,\"underscore\":24}],2:[function(require,module,exports){\nvar CircularBuffer = module.exports = function(size) {\n  this.pos = 0;\n  this._buf = [];\n  this.size = size;\n}\n\nCircularBuffer.prototype.get = function(i) {\n  if (i == undefined) i = 0;\n  if (i >= this.size) return undefined;\n  if (i >= this._buf.length) return undefined;\n  return this._buf[(this.pos - i - 1) % this.size];\n}\n\nCircularBuffer.prototype.push = function(o) {\n  this._buf[this.pos % this.size] = o;\n  return this.pos++;\n}\n\n},{}],3:[function(require,module,exports){\nvar chooseProtocol = require('../protocol').chooseProtocol\n  , EventEmitter = require('events').EventEmitter\n  , _ = require('underscore');\n\nvar BaseConnection = module.exports = function(opts) {\n  this.opts = _.defaults(opts || {}, {\n    host : '127.0.0.1',\n    enableGestures: false,\n    scheme: this.getScheme(),\n    port: this.getPort(),\n    background: false,\n    optimizeHMD: false,\n    requestProtocolVersion: BaseConnection.defaultProtocolVersion\n  });\n  this.host = this.opts.host;\n  this.port = this.opts.port;\n  this.scheme = this.opts.scheme;\n  this.protocolVersionVerified = false;\n  this.background = null;\n  this.optimizeHMD = null;\n  this.on('ready', function() {\n    this.enableGestures(this.opts.enableGestures);\n    this.setBackground(this.opts.background);\n    this.setOptimizeHMD(this.opts.optimizeHMD);\n\n    if (this.opts.optimizeHMD){\n      console.log(\"Optimized for head mounted display usage.\");\n    }else {\n      console.log(\"Optimized for desktop usage.\");\n    }\n\n  });\n};\n\n// The latest available:\nBaseConnection.defaultProtocolVersion = 6;\n\nBaseConnection.prototype.getUrl = function() {\n  return this.scheme + \"//\" + this.host + \":\" + this.port + \"/v\" + this.opts.requestProtocolVersion + \".json\";\n}\n\n\nBaseConnection.prototype.getScheme = function(){\n  return 'ws:'\n}\n\nBaseConnection.prototype.getPort = function(){\n  return 6437\n}\n\n\nBaseConnection.prototype.setBackground = function(state) {\n  this.opts.background = state;\n  if (this.protocol && this.protocol.sendBackground && this.background !== this.opts.background) {\n    this.background = this.opts.background;\n    this.protocol.sendBackground(this, this.opts.background);\n  }\n}\n\nBaseConnection.prototype.setOptimizeHMD = function(state) {\n  this.opts.optimizeHMD = state;\n  if (this.protocol && this.protocol.sendOptimizeHMD && this.optimizeHMD !== this.opts.optimizeHMD) {\n    this.optimizeHMD = this.opts.optimizeHMD;\n    this.protocol.sendOptimizeHMD(this, this.opts.optimizeHMD);\n  }\n}\n\nBaseConnection.prototype.handleOpen = function() {\n  if (!this.connected) {\n    this.connected = true;\n    this.emit('connect');\n  }\n}\n\nBaseConnection.prototype.enableGestures = function(enabled) {\n  this.gesturesEnabled = enabled ? true : false;\n  this.send(this.protocol.encode({\"enableGestures\": this.gesturesEnabled}));\n}\n\nBaseConnection.prototype.handleClose = function(code, reason) {\n  if (!this.connected) return;\n  this.disconnect();\n\n  // 1001 - an active connection is closed\n  // 1006 - cannot connect\n  if (code === 1001 && this.opts.requestProtocolVersion > 1) {\n    if (this.protocolVersionVerified) {\n      this.protocolVersionVerified = false;\n    }else{\n      this.opts.requestProtocolVersion--;\n    }\n  }\n  this.startReconnection();\n}\n\nBaseConnection.prototype.startReconnection = function() {\n  var connection = this;\n  if(!this.reconnectionTimer){\n    (this.reconnectionTimer = setInterval(function() { connection.reconnect() }, 500));\n  }\n}\n\nBaseConnection.prototype.stopReconnection = function() {\n  this.reconnectionTimer = clearInterval(this.reconnectionTimer);\n}\n\n// By default, disconnect will prevent auto-reconnection.\n// Pass in true to allow the reconnection loop not be interrupted continue\nBaseConnection.prototype.disconnect = function(allowReconnect) {\n  if (!allowReconnect) this.stopReconnection();\n  if (!this.socket) return;\n  this.socket.close();\n  delete this.socket;\n  delete this.protocol;\n  delete this.background; // This is not persisted when reconnecting to the web socket server\n  delete this.optimizeHMD;\n  delete this.focusedState;\n  if (this.connected) {\n    this.connected = false;\n    this.emit('disconnect');\n  }\n  return true;\n}\n\nBaseConnection.prototype.reconnect = function() {\n  if (this.connected) {\n    this.stopReconnection();\n  } else {\n    this.disconnect(true);\n    this.connect();\n  }\n}\n\nBaseConnection.prototype.handleData = function(data) {\n  var message = JSON.parse(data);\n\n  var messageEvent;\n  if (this.protocol === undefined) {\n    messageEvent = this.protocol = chooseProtocol(message);\n    this.protocolVersionVerified = true;\n    this.emit('ready');\n  } else {\n    messageEvent = this.protocol(message);\n  }\n  this.emit(messageEvent.type, messageEvent);\n}\n\nBaseConnection.prototype.connect = function() {\n  if (this.socket) return;\n  this.socket = this.setupSocket();\n  return true;\n}\n\nBaseConnection.prototype.send = function(data) {\n  this.socket.send(data);\n}\n\nBaseConnection.prototype.reportFocus = function(state) {\n  if (!this.connected || this.focusedState === state) return;\n  this.focusedState = state;\n  this.emit(this.focusedState ? 'focus' : 'blur');\n  if (this.protocol && this.protocol.sendFocused) {\n    this.protocol.sendFocused(this, this.focusedState);\n  }\n}\n\n_.extend(BaseConnection.prototype, EventEmitter.prototype);\n},{\"../protocol\":15,\"events\":21,\"underscore\":24}],4:[function(require,module,exports){\nvar BaseConnection = module.exports = require('./base')\n  , _ = require('underscore');\n\n\nvar BrowserConnection = module.exports = function(opts) {\n  BaseConnection.call(this, opts);\n  var connection = this;\n  this.on('ready', function() { connection.startFocusLoop(); })\n  this.on('disconnect', function() { connection.stopFocusLoop(); })\n}\n\n_.extend(BrowserConnection.prototype, BaseConnection.prototype);\n\nBrowserConnection.__proto__ = BaseConnection;\n\nBrowserConnection.prototype.useSecure = function(){\n  return location.protocol === 'https:'\n}\n\nBrowserConnection.prototype.getScheme = function(){\n  return this.useSecure() ? 'wss:' : 'ws:'\n}\n\nBrowserConnection.prototype.getPort = function(){\n  return this.useSecure() ? 6436 : 6437\n}\n\nBrowserConnection.prototype.setupSocket = function() {\n  var connection = this;\n  var socket = new WebSocket(this.getUrl());\n  socket.onopen = function() { connection.handleOpen(); };\n  socket.onclose = function(data) { connection.handleClose(data['code'], data['reason']); };\n  socket.onmessage = function(message) { connection.handleData(message.data) };\n  socket.onerror = function(error) {\n\n    // attempt to degrade to ws: after one failed attempt for older Leap Service installations.\n    if (connection.useSecure() && connection.scheme === 'wss:'){\n      connection.scheme = 'ws:';\n      connection.port = 6437;\n      connection.disconnect();\n      connection.connect();\n    }\n\n  };\n  return socket;\n}\n\nBrowserConnection.prototype.startFocusLoop = function() {\n  if (this.focusDetectorTimer) return;\n  var connection = this;\n  var propertyName = null;\n  if (typeof document.hidden !== \"undefined\") {\n    propertyName = \"hidden\";\n  } else if (typeof document.mozHidden !== \"undefined\") {\n    propertyName = \"mozHidden\";\n  } else if (typeof document.msHidden !== \"undefined\") {\n    propertyName = \"msHidden\";\n  } else if (typeof document.webkitHidden !== \"undefined\") {\n    propertyName = \"webkitHidden\";\n  } else {\n    propertyName = undefined;\n  }\n\n  if (connection.windowVisible === undefined) {\n    connection.windowVisible = propertyName === undefined ? true : document[propertyName] === false;\n  }\n\n  var focusListener = window.addEventListener('focus', function(e) {\n    connection.windowVisible = true;\n    updateFocusState();\n  });\n\n  var blurListener = window.addEventListener('blur', function(e) {\n    connection.windowVisible = false;\n    updateFocusState();\n  });\n\n  this.on('disconnect', function() {\n    window.removeEventListener('focus', focusListener);\n    window.removeEventListener('blur', blurListener);\n  });\n\n  var updateFocusState = function() {\n    var isVisible = propertyName === undefined ? true : document[propertyName] === false;\n    connection.reportFocus(isVisible && connection.windowVisible);\n  }\n\n  // save 100ms when resuming focus\n  updateFocusState();\n\n  this.focusDetectorTimer = setInterval(updateFocusState, 100);\n}\n\nBrowserConnection.prototype.stopFocusLoop = function() {\n  if (!this.focusDetectorTimer) return;\n  clearTimeout(this.focusDetectorTimer);\n  delete this.focusDetectorTimer;\n}\n\n},{\"./base\":3,\"underscore\":24}],5:[function(require,module,exports){\nvar process=require(\"__browserify_process\");var Frame = require('./frame')\n  , Hand = require('./hand')\n  , Pointable = require('./pointable')\n  , Finger = require('./finger')\n  , CircularBuffer = require(\"./circular_buffer\")\n  , Pipeline = require(\"./pipeline\")\n  , EventEmitter = require('events').EventEmitter\n  , gestureListener = require('./gesture').gestureListener\n  , Dialog = require('./dialog')\n  , _ = require('underscore');\n\n/**\n * Constructs a Controller object.\n *\n * When creating a Controller object, you may optionally pass in options\n * to set the host , set the port, enable gestures, or select the frame event type.\n *\n * ```javascript\n * var controller = new Leap.Controller({\n *   host: '127.0.0.1',\n *   port: 6437,\n *   enableGestures: true,\n *   frameEventName: 'animationFrame'\n * });\n * ```\n *\n * @class Controller\n * @memberof Leap\n * @classdesc\n * The Controller class is your main interface to the Leap Motion Controller.\n *\n * Create an instance of this Controller class to access frames of tracking data\n * and configuration information. Frame data can be polled at any time using the\n * [Controller.frame]{@link Leap.Controller#frame}() function. Call frame() or frame(0) to get the most recent\n * frame. Set the history parameter to a positive integer to access previous frames.\n * A controller stores up to 60 frames in its frame history.\n *\n * Polling is an appropriate strategy for applications which already have an\n * intrinsic update loop, such as a game.\n *\n * loopWhileDisconnected defaults to true, and maintains a 60FPS frame rate even when Leap Motion is not streaming\n * data at that rate (such as no hands in frame).  This is important for VR/WebGL apps which rely on rendering for\n * regular visual updates, including from other input devices.  Flipping this to false should be considered an\n * optimization for very specific use-cases.\n *\n *\n */\n\n\nvar Controller = module.exports = function(opts) {\n  var inNode = (typeof(process) !== 'undefined' && process.versions && process.versions.node),\n    controller = this;\n\n  opts = _.defaults(opts || {}, {\n    inNode: inNode\n  });\n\n  this.inNode = opts.inNode;\n\n  opts = _.defaults(opts || {}, {\n    frameEventName: this.useAnimationLoop() ? 'animationFrame' : 'deviceFrame',\n    suppressAnimationLoop: !this.useAnimationLoop(),\n    loopWhileDisconnected: true,\n    useAllPlugins: false,\n    checkVersion: true\n  });\n\n  this.animationFrameRequested = false;\n  this.onAnimationFrame = function(timestamp) {\n    if (controller.lastConnectionFrame.valid){\n      controller.emit('animationFrame', controller.lastConnectionFrame);\n    }\n    controller.emit('frameEnd', timestamp);\n    if (\n      controller.loopWhileDisconnected &&\n      ( ( controller.connection.focusedState !== false )  // loop while undefined, pre-ready.\n        || controller.connection.opts.background) ){\n      window.requestAnimationFrame(controller.onAnimationFrame);\n    }else{\n      controller.animationFrameRequested = false;\n    }\n  };\n  this.suppressAnimationLoop = opts.suppressAnimationLoop;\n  this.loopWhileDisconnected = opts.loopWhileDisconnected;\n  this.frameEventName = opts.frameEventName;\n  this.useAllPlugins = opts.useAllPlugins;\n  this.history = new CircularBuffer(200);\n  this.lastFrame = Frame.Invalid;\n  this.lastValidFrame = Frame.Invalid;\n  this.lastConnectionFrame = Frame.Invalid;\n  this.accumulatedGestures = [];\n  this.checkVersion = opts.checkVersion;\n  if (opts.connectionType === undefined) {\n    this.connectionType = (this.inBrowser() ? require('./connection/browser') : require('./connection/node'));\n  } else {\n    this.connectionType = opts.connectionType;\n  }\n  this.connection = new this.connectionType(opts);\n  this.streamingCount = 0;\n  this.devices = {};\n  this.plugins = {};\n  this._pluginPipelineSteps = {};\n  this._pluginExtendedMethods = {};\n  if (opts.useAllPlugins) this.useRegisteredPlugins();\n  this.setupFrameEvents(opts);\n  this.setupConnectionEvents();\n  \n  this.startAnimationLoop(); // immediately when started\n}\n\nController.prototype.gesture = function(type, cb) {\n  var creator = gestureListener(this, type);\n  if (cb !== undefined) {\n    creator.stop(cb);\n  }\n  return creator;\n}\n\n/*\n * @returns the controller\n */\nController.prototype.setBackground = function(state) {\n  this.connection.setBackground(state);\n  return this;\n}\n\nController.prototype.setOptimizeHMD = function(state) {\n  this.connection.setOptimizeHMD(state);\n  return this;\n}\n\nController.prototype.inBrowser = function() {\n  return !this.inNode;\n}\n\nController.prototype.useAnimationLoop = function() {\n  return this.inBrowser() && !this.inBackgroundPage();\n}\n\nController.prototype.inBackgroundPage = function(){\n  // http://developer.chrome.com/extensions/extension#method-getBackgroundPage\n  return (typeof(chrome) !== \"undefined\") &&\n    chrome.extension &&\n    chrome.extension.getBackgroundPage &&\n    (chrome.extension.getBackgroundPage() === window)\n}\n\n/*\n * @returns the controller\n */\nController.prototype.connect = function() {\n  this.connection.connect();\n  return this;\n}\n\nController.prototype.streaming = function() {\n  return this.streamingCount > 0;\n}\n\nController.prototype.connected = function() {\n  return !!this.connection.connected;\n}\n\nController.prototype.startAnimationLoop = function(){\n  if (!this.suppressAnimationLoop && !this.animationFrameRequested) {\n    this.animationFrameRequested = true;\n    window.requestAnimationFrame(this.onAnimationFrame);\n  }\n}\n\n/*\n * @returns the controller\n */\nController.prototype.disconnect = function() {\n  this.connection.disconnect();\n  return this;\n}\n\n/**\n * Returns a frame of tracking data from the Leap.\n *\n * Use the optional history parameter to specify which frame to retrieve.\n * Call frame() or frame(0) to access the most recent frame; call frame(1) to\n * access the previous frame, and so on. If you use a history value greater\n * than the number of stored frames, then the controller returns an invalid frame.\n *\n * @method frame\n * @memberof Leap.Controller.prototype\n * @param {number} history The age of the frame to return, counting backwards from\n * the most recent frame (0) into the past and up to the maximum age (59).\n * @returns {Leap.Frame} The specified frame; or, if no history\n * parameter is specified, the newest frame. If a frame is not available at\n * the specified history position, an invalid Frame is returned.\n **/\nController.prototype.frame = function(num) {\n  return this.history.get(num) || Frame.Invalid;\n}\n\nController.prototype.loop = function(callback) {\n  if (callback) {\n    if (typeof callback === 'function'){\n      this.on(this.frameEventName, callback);\n    }else{\n      // callback is actually of the form: {eventName: callback}\n      this.setupFrameEvents(callback);\n    }\n  }\n\n  return this.connect();\n}\n\nController.prototype.addStep = function(step) {\n  if (!this.pipeline) this.pipeline = new Pipeline(this);\n  this.pipeline.addStep(step);\n}\n\n// this is run on every deviceFrame\nController.prototype.processFrame = function(frame) {\n  if (frame.gestures) {\n    this.accumulatedGestures = this.accumulatedGestures.concat(frame.gestures);\n  }\n  // lastConnectionFrame is used by the animation loop\n  this.lastConnectionFrame = frame;\n  this.startAnimationLoop(); // Only has effect if loopWhileDisconnected: false\n  this.emit('deviceFrame', frame);\n}\n\n// on a this.deviceEventName (usually 'animationFrame' in browsers), this emits a 'frame'\nController.prototype.processFinishedFrame = function(frame) {\n  this.lastFrame = frame;\n  if (frame.valid) {\n    this.lastValidFrame = frame;\n  }\n  frame.controller = this;\n  frame.historyIdx = this.history.push(frame);\n  if (frame.gestures) {\n    frame.gestures = this.accumulatedGestures;\n    this.accumulatedGestures = [];\n    for (var gestureIdx = 0; gestureIdx != frame.gestures.length; gestureIdx++) {\n      this.emit(\"gesture\", frame.gestures[gestureIdx], frame);\n    }\n  }\n  if (this.pipeline) {\n    frame = this.pipeline.run(frame);\n    if (!frame) frame = Frame.Invalid;\n  }\n  this.emit('frame', frame);\n  this.emitHandEvents(frame);\n}\n\n/**\n * The controller will emit 'hand' events for every hand on each frame.  The hand in question will be passed\n * to the event callback.\n *\n * @param frame\n */\nController.prototype.emitHandEvents = function(frame){\n  for (var i = 0; i < frame.hands.length; i++){\n    this.emit('hand', frame.hands[i]);\n  }\n}\n\nController.prototype.setupFrameEvents = function(opts){\n  if (opts.frame){\n    this.on('frame', opts.frame);\n  }\n  if (opts.hand){\n    this.on('hand', opts.hand);\n  }\n}\n\n/**\n  Controller events.  The old 'deviceConnected' and 'deviceDisconnected' have been depricated -\n  use 'deviceStreaming' and 'deviceStopped' instead, except in the case of an unexpected disconnect.\n\n  There are 4 pairs of device events recently added/changed:\n  -deviceAttached/deviceRemoved - called when a device's physical connection to the computer changes\n  -deviceStreaming/deviceStopped - called when a device is paused or resumed.\n  -streamingStarted/streamingStopped - called when there is/is no longer at least 1 streaming device.\n\t\t\t\t\t\t\t\t\t  Always comes after deviceStreaming.\n  \n  The first of all of the above event pairs is triggered as appropriate upon connection.  All of\n  these events receives an argument with the most recent info about the device that triggered it.\n  These events will always be fired in the order they are listed here, with reverse ordering for the\n  matching shutdown call. (ie, deviceStreaming always comes after deviceAttached, and deviceStopped \n  will come before deviceRemoved).\n  \n  -deviceConnected/deviceDisconnected - These are considered deprecated and will be removed in\n  the next revision.  In contrast to the other events and in keeping with it's original behavior,\n  it will only be fired when a device begins streaming AFTER a connection has been established.\n  It is not paired, and receives no device info.  Nearly identical functionality to\n  streamingStarted/Stopped if you need to port.\n*/\nController.prototype.setupConnectionEvents = function() {\n  var controller = this;\n  this.connection.on('frame', function(frame) {\n    controller.processFrame(frame);\n  });\n  // either deviceFrame or animationFrame:\n  this.on(this.frameEventName, function(frame) {\n    controller.processFinishedFrame(frame);\n  });\n\n\n  // here we backfill the 0.5.0 deviceEvents as best possible\n  // backfill begin streaming events\n  var backfillStreamingStartedEventsHandler = function(){\n    if (controller.connection.opts.requestProtocolVersion < 5 && controller.streamingCount == 0){\n      controller.streamingCount = 1;\n      var info = {\n        attached: true,\n        streaming: true,\n        type: 'unknown',\n        id: \"Lx00000000000\"\n      };\n      controller.devices[info.id] = info;\n\n      controller.emit('deviceAttached', info);\n      controller.emit('deviceStreaming', info);\n      controller.emit('streamingStarted', info);\n      controller.connection.removeListener('frame', backfillStreamingStartedEventsHandler)\n    }\n  }\n\n  var backfillStreamingStoppedEvents = function(){\n    if (controller.streamingCount > 0) {\n      for (var deviceId in controller.devices){\n        controller.emit('deviceStopped', controller.devices[deviceId]);\n        controller.emit('deviceRemoved', controller.devices[deviceId]);\n      }\n      // only emit streamingStopped once, with the last device\n      controller.emit('streamingStopped', controller.devices[deviceId]);\n\n      controller.streamingCount = 0;\n\n      for (var deviceId in controller.devices){\n        delete controller.devices[deviceId];\n      }\n    }\n  }\n  // Delegate connection events\n  this.connection.on('focus', function() {\n\n    if ( controller.loopWhileDisconnected ){\n\n      controller.startAnimationLoop();\n\n    }\n\n    controller.emit('focus');\n\n  });\n  this.connection.on('blur', function() { controller.emit('blur') });\n  this.connection.on('protocol', function(protocol) {\n\n    protocol.on('beforeFrameCreated', function(frameData){\n      controller.emit('beforeFrameCreated', frameData)\n    });\n\n    protocol.on('afterFrameCreated', function(frame, frameData){\n      controller.emit('afterFrameCreated', frame, frameData)\n    });\n\n    controller.emit('protocol', protocol); \n  });\n\n  this.connection.on('ready', function() {\n\n    if (controller.checkVersion && !controller.inNode){\n      // show dialog only to web users\n      controller.checkOutOfDate();\n    }\n\n    controller.emit('ready');\n  });\n\n  this.connection.on('connect', function() {\n    controller.emit('connect');\n    controller.connection.removeListener('frame', backfillStreamingStartedEventsHandler)\n    controller.connection.on('frame', backfillStreamingStartedEventsHandler);\n  });\n\n  this.connection.on('disconnect', function() {\n    controller.emit('disconnect');\n    backfillStreamingStoppedEvents();\n  });\n\n  // this does not fire when the controller is manually disconnected\n  // or for Leap Service v1.2.0+\n  this.connection.on('deviceConnect', function(evt) {\n    if (evt.state){\n      controller.emit('deviceConnected');\n      controller.connection.removeListener('frame', backfillStreamingStartedEventsHandler)\n      controller.connection.on('frame', backfillStreamingStartedEventsHandler);\n    }else{\n      controller.emit('deviceDisconnected');\n      backfillStreamingStoppedEvents();\n    }\n  });\n\n  // Does not fire for Leap Service pre v1.2.0\n  this.connection.on('deviceEvent', function(evt) {\n    var info = evt.state,\n        oldInfo = controller.devices[info.id];\n\n    //Grab a list of changed properties in the device info\n    var changed = {};\n    for(var property in info) {\n      //If a property i doesn't exist the cache, or has changed...\n      if( !oldInfo || !oldInfo.hasOwnProperty(property) || oldInfo[property] != info[property] ) {\n        changed[property] = true;\n      }\n    }\n\n    //Update the device list\n    controller.devices[info.id] = info;\n\n    //Fire events based on change list\n    if(changed.attached) {\n      controller.emit(info.attached ? 'deviceAttached' : 'deviceRemoved', info);\n    }\n\n    if(!changed.streaming) return;\n\n    if(info.streaming) {\n      controller.streamingCount++;\n      controller.emit('deviceStreaming', info);\n      if( controller.streamingCount == 1 ) {\n        controller.emit('streamingStarted', info);\n      }\n      //if attached & streaming both change to true at the same time, that device was streaming\n      //already when we connected.\n      if(!changed.attached) {\n        controller.emit('deviceConnected');\n      }\n    }\n    //Since when devices are attached all fields have changed, don't send events for streaming being false.\n    else if(!(changed.attached && info.attached)) {\n      controller.streamingCount--;\n      controller.emit('deviceStopped', info);\n      if(controller.streamingCount == 0){\n        controller.emit('streamingStopped', info);\n      }\n      controller.emit('deviceDisconnected');\n    }\n\n  });\n\n\n  this.on('newListener', function(event, listener) {\n    if( event == 'deviceConnected' || event == 'deviceDisconnected' ) {\n      console.warn(event + \" events are depricated.  Consider using 'streamingStarted/streamingStopped' or 'deviceStreaming/deviceStopped' instead\");\n    }\n  });\n\n};\n\n\n\n\n// Checks if the protocol version is the latest, if if not, shows the dialog.\nController.prototype.checkOutOfDate = function(){\n  console.assert(this.connection && this.connection.protocol);\n\n  var serviceVersion = this.connection.protocol.serviceVersion;\n  var protocolVersion = this.connection.protocol.version;\n  var defaultProtocolVersion = this.connectionType.defaultProtocolVersion;\n\n  if (defaultProtocolVersion > protocolVersion){\n\n    console.warn(\"Your Protocol Version is v\" + protocolVersion +\n        \", this app was designed for v\" + defaultProtocolVersion);\n\n    Dialog.warnOutOfDate({\n      sV: serviceVersion,\n      pV: protocolVersion\n    });\n    return true\n  }else{\n    return false\n  }\n\n};\n\n\n\nController._pluginFactories = {};\n\n/*\n * Registers a plugin, making is accessible to controller.use later on.\n *\n * @member plugin\n * @memberof Leap.Controller.prototype\n * @param {String} name The name of the plugin (usually camelCase).\n * @param {function} factory A factory method which will return an instance of a plugin.\n * The factory receives an optional hash of options, passed in via controller.use.\n *\n * Valid keys for the object include frame, hand, finger, tool, and pointable.  The value\n * of each key can be either a function or an object.  If given a function, that function\n * will be called once for every instance of the object, with that instance injected as an\n * argument.  This allows decoration of objects with additional data:\n *\n * ```javascript\n * Leap.Controller.plugin('testPlugin', function(options){\n *   return {\n *     frame: function(frame){\n *       frame.foo = 'bar';\n *     }\n *   }\n * });\n * ```\n *\n * When hand is used, the callback is called for every hand in `frame.hands`.  Note that\n * hand objects are recreated with every new frame, so that data saved on the hand will not\n * persist.\n *\n * ```javascript\n * Leap.Controller.plugin('testPlugin', function(){\n *   return {\n *     hand: function(hand){\n *       console.log('testPlugin running on hand ' + hand.id);\n *     }\n *   }\n * });\n * ```\n *\n * A factory can return an object to add custom functionality to Frames, Hands, or Pointables.\n * The methods are added directly to the object's prototype.  Finger and Tool cannot be used here, Pointable\n * must be used instead.\n * This is encouraged for calculations which may not be necessary on every frame.\n * Memoization is also encouraged, for cases where the method may be called many times per frame by the application.\n *\n * ```javascript\n * // This plugin allows hand.usefulData() to be called later.\n * Leap.Controller.plugin('testPlugin', function(){\n *   return {\n *     hand: {\n *       usefulData: function(){\n *         console.log('usefulData on hand', this.id);\n *         // memoize the results on to the hand, preventing repeat work:\n *         this.x || this.x = someExpensiveCalculation();\n *         return this.x;\n *       }\n *     }\n *   }\n * });\n *\n * Note that the factory pattern allows encapsulation for every plugin instance.\n *\n * ```javascript\n * Leap.Controller.plugin('testPlugin', function(options){\n *   options || options = {}\n *   options.center || options.center = [0,0,0]\n *\n *   privatePrintingMethod = function(){\n *     console.log('privatePrintingMethod - options', options);\n *   }\n *\n *   return {\n *     pointable: {\n *       publicPrintingMethod: function(){\n *         privatePrintingMethod();\n *       }\n *     }\n *   }\n * });\n *\n */\nController.plugin = function(pluginName, factory) {\n  if (this._pluginFactories[pluginName]) {\n    console.warn(\"Plugin \\\"\" + pluginName + \"\\\" already registered\");\n  }\n  return this._pluginFactories[pluginName] = factory;\n};\n\n/*\n * Returns a list of registered plugins.\n * @returns {Array} Plugin Factories.\n */\nController.plugins = function() {\n  return _.keys(this._pluginFactories);\n};\n\n\n\nvar setPluginCallbacks = function(pluginName, type, callback){\n  \n  if ( ['beforeFrameCreated', 'afterFrameCreated'].indexOf(type) != -1 ){\n    \n      // todo - not able to \"unuse\" a plugin currently\n      this.on(type, callback);\n      \n    }else {\n      \n      if (!this.pipeline) this.pipeline = new Pipeline(this);\n    \n      if (!this._pluginPipelineSteps[pluginName]) this._pluginPipelineSteps[pluginName] = [];\n\n      this._pluginPipelineSteps[pluginName].push(\n        \n        this.pipeline.addWrappedStep(type, callback)\n        \n      );\n      \n    }\n  \n};\n\nvar setPluginMethods = function(pluginName, type, hash){\n  var klass;\n  \n  if (!this._pluginExtendedMethods[pluginName]) this._pluginExtendedMethods[pluginName] = [];\n\n  switch (type) {\n    case 'frame':\n      klass = Frame;\n      break;\n    case 'hand':\n      klass = Hand;\n      break;\n    case 'pointable':\n      klass = Pointable;\n      _.extend(Finger.prototype, hash);\n      _.extend(Finger.Invalid,   hash);\n      break;\n    case 'finger':\n      klass = Finger;\n      break;\n    default:\n      throw pluginName + ' specifies invalid object type \"' + type + '\" for prototypical extension'\n  }\n\n  _.extend(klass.prototype, hash);\n  _.extend(klass.Invalid, hash);\n  this._pluginExtendedMethods[pluginName].push([klass, hash])\n  \n}\n\n\n\n/*\n * Begin using a registered plugin.  The plugin's functionality will be added to all frames\n * returned by the controller (and/or added to the objects within the frame).\n *  - The order of plugin execution inside the loop will match the order in which use is called by the application.\n *  - The plugin be run for both deviceFrames and animationFrames.\n *\n *  If called a second time, the options will be merged with those of the already instantiated plugin.\n *\n * @method use\n * @memberOf Leap.Controller.prototype\n * @param pluginName\n * @param {Hash} Options to be passed to the plugin's factory.\n * @returns the controller\n */\nController.prototype.use = function(pluginName, options) {\n  var functionOrHash, pluginFactory, key, pluginInstance;\n\n  pluginFactory = (typeof pluginName == 'function') ? pluginName : Controller._pluginFactories[pluginName];\n\n  if (!pluginFactory) {\n    throw 'Leap Plugin ' + pluginName + ' not found.';\n  }\n\n  options || (options = {});\n\n  if (this.plugins[pluginName]){\n    _.extend(this.plugins[pluginName], options);\n    return this;\n  }\n\n  this.plugins[pluginName] = options;\n\n  pluginInstance = pluginFactory.call(this, options);\n\n  for (key in pluginInstance) {\n\n    functionOrHash = pluginInstance[key];\n\n    if (typeof functionOrHash === 'function') {\n      \n      setPluginCallbacks.call(this, pluginName, key, functionOrHash);\n      \n    } else {\n      \n      setPluginMethods.call(this, pluginName, key, functionOrHash);\n      \n    }\n\n  }\n\n  return this;\n};\n\n\n\n\n/*\n * Stop using a used plugin.  This will remove any of the plugin's pipeline methods (those called on every frame)\n * and remove any methods which extend frame-object prototypes.\n *\n * @method stopUsing\n * @memberOf Leap.Controller.prototype\n * @param pluginName\n * @returns the controller\n */\nController.prototype.stopUsing = function (pluginName) {\n  var steps = this._pluginPipelineSteps[pluginName],\n      extMethodHashes = this._pluginExtendedMethods[pluginName],\n      i = 0, klass, extMethodHash;\n\n  if (!this.plugins[pluginName]) return;\n\n  if (steps) {\n    for (i = 0; i < steps.length; i++) {\n      this.pipeline.removeStep(steps[i]);\n    }\n  }\n\n  if (extMethodHashes){\n    for (i = 0; i < extMethodHashes.length; i++){\n      klass = extMethodHashes[i][0];\n      extMethodHash = extMethodHashes[i][1];\n      for (var methodName in extMethodHash) {\n        delete klass.prototype[methodName];\n        delete klass.Invalid[methodName];\n      }\n    }\n  }\n\n  delete this.plugins[pluginName];\n\n  return this;\n}\n\nController.prototype.useRegisteredPlugins = function(){\n  for (var plugin in Controller._pluginFactories){\n    this.use(plugin);\n  }\n}\n\n\n_.extend(Controller.prototype, EventEmitter.prototype);\n\n},{\"./circular_buffer\":2,\"./connection/browser\":4,\"./connection/node\":20,\"./dialog\":6,\"./finger\":7,\"./frame\":8,\"./gesture\":9,\"./hand\":10,\"./pipeline\":13,\"./pointable\":14,\"__browserify_process\":22,\"events\":21,\"underscore\":24}],6:[function(require,module,exports){\nvar process=require(\"__browserify_process\");var Dialog = module.exports = function(message, options){\n  this.options = (options || {});\n  this.message = message;\n\n  this.createElement();\n};\n\nDialog.prototype.createElement = function(){\n  this.element = document.createElement('div');\n  this.element.className = \"leapjs-dialog\";\n  this.element.style.position = \"fixed\";\n  this.element.style.top = '8px';\n  this.element.style.left = 0;\n  this.element.style.right = 0;\n  this.element.style.textAlign = 'center';\n  this.element.style.zIndex = 1000;\n\n  var dialog  = document.createElement('div');\n  this.element.appendChild(dialog);\n  dialog.style.className = \"leapjs-dialog\";\n  dialog.style.display = \"inline-block\";\n  dialog.style.margin = \"auto\";\n  dialog.style.padding = \"8px\";\n  dialog.style.color = \"#222\";\n  dialog.style.background = \"#eee\";\n  dialog.style.borderRadius = \"4px\";\n  dialog.style.border = \"1px solid #999\";\n  dialog.style.textAlign = \"left\";\n  dialog.style.cursor = \"pointer\";\n  dialog.style.whiteSpace = \"nowrap\";\n  dialog.style.transition = \"box-shadow 1s linear\";\n  dialog.innerHTML = this.message;\n\n\n  if (this.options.onclick){\n    dialog.addEventListener('click', this.options.onclick);\n  }\n\n  if (this.options.onmouseover){\n    dialog.addEventListener('mouseover', this.options.onmouseover);\n  }\n\n  if (this.options.onmouseout){\n    dialog.addEventListener('mouseout', this.options.onmouseout);\n  }\n\n  if (this.options.onmousemove){\n    dialog.addEventListener('mousemove', this.options.onmousemove);\n  }\n};\n\nDialog.prototype.show = function(){\n  document.body.appendChild(this.element);\n  return this;\n};\n\nDialog.prototype.hide = function(){\n  document.body.removeChild(this.element);\n  return this;\n};\n\n\n\n\n// Shows a DOM dialog box with links to developer.leapmotion.com to upgrade\n// This will work whether or not the Leap is plugged in,\n// As long as it is called after a call to .connect() and the 'ready' event has fired.\nDialog.warnOutOfDate = function(params){\n  params || (params = {});\n\n  var url = \"http://developer.leapmotion.com?\";\n\n  params.returnTo = window.location.href;\n\n  for (var key in params){\n    url += key + '=' + encodeURIComponent(params[key]) + '&';\n  }\n\n  var dialog,\n    onclick = function(event){\n\n       if (event.target.id != 'leapjs-decline-upgrade'){\n\n         var popup = window.open(url,\n           '_blank',\n           'height=800,width=1000,location=1,menubar=1,resizable=1,status=1,toolbar=1,scrollbars=1'\n         );\n\n         if (window.focus) {popup.focus()}\n\n       }\n\n       dialog.hide();\n\n       return true;\n    },\n\n\n    message = \"This site requires Leap Motion Tracking V2.\" +\n      \"<button id='leapjs-accept-upgrade'  style='color: #444; transition: box-shadow 100ms linear; cursor: pointer; vertical-align: baseline; margin-left: 16px;'>Upgrade</button>\" +\n      \"<button id='leapjs-decline-upgrade' style='color: #444; transition: box-shadow 100ms linear; cursor: pointer; vertical-align: baseline; margin-left: 8px; '>Not Now</button>\";\n\n  dialog = new Dialog(message, {\n      onclick: onclick,\n      onmousemove: function(e){\n        if (e.target == document.getElementById('leapjs-decline-upgrade')){\n          document.getElementById('leapjs-decline-upgrade').style.color = '#000';\n          document.getElementById('leapjs-decline-upgrade').style.boxShadow = '0px 0px 2px #5daa00';\n\n          document.getElementById('leapjs-accept-upgrade').style.color = '#444';\n          document.getElementById('leapjs-accept-upgrade').style.boxShadow = 'none';\n        }else{\n          document.getElementById('leapjs-accept-upgrade').style.color = '#000';\n          document.getElementById('leapjs-accept-upgrade').style.boxShadow = '0px 0px 2px #5daa00';\n\n          document.getElementById('leapjs-decline-upgrade').style.color = '#444';\n          document.getElementById('leapjs-decline-upgrade').style.boxShadow = 'none';\n        }\n      },\n      onmouseout: function(){\n        document.getElementById('leapjs-decline-upgrade').style.color = '#444';\n        document.getElementById('leapjs-decline-upgrade').style.boxShadow = 'none';\n        document.getElementById('leapjs-accept-upgrade').style.color = '#444';\n        document.getElementById('leapjs-accept-upgrade').style.boxShadow = 'none';\n      }\n    }\n  );\n\n  return dialog.show();\n};\n\n\n// Tracks whether we've warned for lack of bones API.  This will be shown only for early private-beta members.\nDialog.hasWarnedBones = false;\n\nDialog.warnBones = function(){\n  if (this.hasWarnedBones) return;\n  this.hasWarnedBones = true;\n\n  console.warn(\"Your Leap Service is out of date\");\n\n  if ( !(typeof(process) !== 'undefined' && process.versions && process.versions.node) ){\n    this.warnOutOfDate({reason: 'bones'});\n  }\n\n}\n},{\"__browserify_process\":22}],7:[function(require,module,exports){\nvar Pointable = require('./pointable'),\n  Bone = require('./bone')\n  , Dialog = require('./dialog')\n  , _ = require('underscore');\n\n/**\n* Constructs a Finger object.\n*\n* An uninitialized finger is considered invalid.\n* Get valid Finger objects from a Frame or a Hand object.\n*\n* @class Finger\n* @memberof Leap\n* @classdesc\n* The Finger class reports the physical characteristics of a finger.\n*\n* Both fingers and tools are classified as Pointable objects. Use the\n* Pointable.tool property to determine whether a Pointable object represents a\n* tool or finger. The Leap classifies a detected entity as a tool when it is\n* thinner, straighter, and longer than a typical finger.\n*\n* Note that Finger objects can be invalid, which means that they do not\n* contain valid tracking data and do not correspond to a physical entity.\n* Invalid Finger objects can be the result of asking for a Finger object\n* using an ID from an earlier frame when no Finger objects with that ID\n* exist in the current frame. A Finger object created from the Finger\n* constructor is also invalid. Test for validity with the Pointable.valid\n* property.\n*/\nvar Finger = module.exports = function(data) {\n  Pointable.call(this, data); // use pointable as super-constructor\n  \n  /**\n  * The position of the distal interphalangeal joint of the finger.\n  * This joint is closest to the tip.\n  * \n  * The distal interphalangeal joint is located between the most extreme segment\n  * of the finger (the distal phalanx) and the middle segment (the medial\n  * phalanx).\n  *\n  * @member dipPosition\n  * @type {number[]}\n  * @memberof Leap.Finger.prototype\n  */  \n  this.dipPosition = data.dipPosition;\n\n  /**\n  * The position of the proximal interphalangeal joint of the finger. This joint is the middle\n  * joint of a finger.\n  *\n  * The proximal interphalangeal joint is located between the two finger segments\n  * closest to the hand (the proximal and the medial phalanges). On a thumb,\n  * which lacks an medial phalanx, this joint index identifies the knuckle joint\n  * between the proximal phalanx and the metacarpal bone.\n  *\n  * @member pipPosition\n  * @type {number[]}\n  * @memberof Leap.Finger.prototype\n  */  \n  this.pipPosition = data.pipPosition;\n\n  /**\n  * The position of the metacarpopophalangeal joint, or knuckle, of the finger.\n  *\n  * The metacarpopophalangeal joint is located at the base of a finger between\n  * the metacarpal bone and the first phalanx. The common name for this joint is\n  * the knuckle.\n  *\n  * On a thumb, which has one less phalanx than a finger, this joint index\n  * identifies the thumb joint near the base of the hand, between the carpal\n  * and metacarpal bones.\n  *\n  * @member mcpPosition\n  * @type {number[]}\n  * @memberof Leap.Finger.prototype\n  */  \n  this.mcpPosition = data.mcpPosition;\n\n  /**\n   * The position of the Carpometacarpal joint\n   *\n   * This is at the distal end of the wrist, and has no common name.\n   *\n   */\n  this.carpPosition = data.carpPosition;\n\n  /**\n  * Whether or not this finger is in an extended posture.\n  *\n  * A finger is considered extended if it is extended straight from the hand as if\n  * pointing. A finger is not extended when it is bent down and curled towards the \n  * palm.\n  * @member extended\n  * @type {Boolean}\n  * @memberof Leap.Finger.prototype\n  */\n  this.extended = data.extended;\n\n  /**\n  * An integer code for the name of this finger.\n  * \n  * * 0 -- thumb\n  * * 1 -- index finger\n  * * 2 -- middle finger\n  * * 3 -- ring finger\n  * * 4 -- pinky\n  *\n  * @member type\n  * @type {number}\n  * @memberof Leap.Finger.prototype\n  */\n  this.type = data.type;\n\n  this.finger = true;\n  \n  /**\n  * The joint positions of this finger as an array in the order base to tip.\n  *\n  * @member positions\n  * @type {array[]}\n  * @memberof Leap.Finger.prototype\n  */\n  this.positions = [this.carpPosition, this.mcpPosition, this.pipPosition, this.dipPosition, this.tipPosition];\n\n  if (data.bases){\n    this.addBones(data);\n  } else {\n    Dialog.warnBones();\n  }\n\n};\n\n_.extend(Finger.prototype, Pointable.prototype);\n\n\nFinger.prototype.addBones = function(data){\n  /**\n  * Four bones per finger, from wrist outwards:\n  * metacarpal, proximal, medial, and distal.\n  *\n  * See http://en.wikipedia.org/wiki/Interphalangeal_articulations_of_hand\n  */\n  this.metacarpal   = new Bone(this, {\n    type: 0,\n    width: this.width,\n    prevJoint: this.carpPosition,\n    nextJoint: this.mcpPosition,\n    basis: data.bases[0]\n  });\n\n  this.proximal     = new Bone(this, {\n    type: 1,\n    width: this.width,\n    prevJoint: this.mcpPosition,\n    nextJoint: this.pipPosition,\n    basis: data.bases[1]\n  });\n\n  this.medial = new Bone(this, {\n    type: 2,\n    width: this.width,\n    prevJoint: this.pipPosition,\n    nextJoint: this.dipPosition,\n    basis: data.bases[2]\n  });\n\n  /**\n   * Note that the `distal.nextJoint` position is slightly different from the `finger.tipPosition`.\n   * The former is at the very end of the bone, where the latter is the center of a sphere positioned at\n   * the tip of the finger.  The btipPosition \"bone tip position\" is a few mm closer to the wrist than\n   * the tipPosition.\n   * @type {Bone}\n   */\n  this.distal       = new Bone(this, {\n    type: 3,\n    width: this.width,\n    prevJoint: this.dipPosition,\n    nextJoint: data.btipPosition,\n    basis: data.bases[3]\n  });\n\n  this.bones = [this.metacarpal, this.proximal, this.medial, this.distal];\n};\n\nFinger.prototype.toString = function() {\n    return \"Finger [ id:\" + this.id + \" \" + this.length + \"mmx | width:\" + this.width + \"mm | direction:\" + this.direction + ' ]';\n};\n\nFinger.Invalid = { valid: false };\n\n},{\"./bone\":1,\"./dialog\":6,\"./pointable\":14,\"underscore\":24}],8:[function(require,module,exports){\nvar Hand = require(\"./hand\")\n  , Pointable = require(\"./pointable\")\n  , createGesture = require(\"./gesture\").createGesture\n  , glMatrix = require(\"gl-matrix\")\n  , mat3 = glMatrix.mat3\n  , vec3 = glMatrix.vec3\n  , InteractionBox = require(\"./interaction_box\")\n  , Finger = require('./finger')\n  , _ = require(\"underscore\");\n\n/**\n * Constructs a Frame object.\n *\n * Frame instances created with this constructor are invalid.\n * Get valid Frame objects by calling the\n * [Controller.frame]{@link Leap.Controller#frame}() function.\n *<C-D-Space>\n * @class Frame\n * @memberof Leap\n * @classdesc\n * The Frame class represents a set of hand and finger tracking data detected\n * in a single frame.\n *\n * The Leap detects hands, fingers and tools within the tracking area, reporting\n * their positions, orientations and motions in frames at the Leap frame rate.\n *\n * Access Frame objects using the [Controller.frame]{@link Leap.Controller#frame}() function.\n */\nvar Frame = module.exports = function(data) {\n  /**\n   * Reports whether this Frame instance is valid.\n   *\n   * A valid Frame is one generated by the Controller object that contains\n   * tracking data for all detected entities. An invalid Frame contains no\n   * actual tracking data, but you can call its functions without risk of a\n   * undefined object exception. The invalid Frame mechanism makes it more\n   * convenient to track individual data across the frame history. For example,\n   * you can invoke:\n   *\n   * ```javascript\n   * var finger = controller.frame(n).finger(fingerID);\n   * ```\n   *\n   * for an arbitrary Frame history value, \"n\", without first checking whether\n   * frame(n) returned a null object. (You should still check that the\n   * returned Finger instance is valid.)\n   *\n   * @member valid\n   * @memberof Leap.Frame.prototype\n   * @type {Boolean}\n   */\n  this.valid = true;\n  /**\n   * A unique ID for this Frame. Consecutive frames processed by the Leap\n   * have consecutive increasing values.\n   * @member id\n   * @memberof Leap.Frame.prototype\n   * @type {String}\n   */\n  this.id = data.id;\n  /**\n   * The frame capture time in microseconds elapsed since the Leap started.\n   * @member timestamp\n   * @memberof Leap.Frame.prototype\n   * @type {number}\n   */\n  this.timestamp = data.timestamp;\n  /**\n   * The list of Hand objects detected in this frame, given in arbitrary order.\n   * The list can be empty if no hands are detected.\n   *\n   * @member hands[]\n   * @memberof Leap.Frame.prototype\n   * @type {Leap.Hand}\n   */\n  this.hands = [];\n  this.handsMap = {};\n  /**\n   * The list of Pointable objects (fingers and tools) detected in this frame,\n   * given in arbitrary order. The list can be empty if no fingers or tools are\n   * detected.\n   *\n   * @member pointables[]\n   * @memberof Leap.Frame.prototype\n   * @type {Leap.Pointable}\n   */\n  this.pointables = [];\n  /**\n   * The list of Tool objects detected in this frame, given in arbitrary order.\n   * The list can be empty if no tools are detected.\n   *\n   * @member tools[]\n   * @memberof Leap.Frame.prototype\n   * @type {Leap.Pointable}\n   */\n  this.tools = [];\n  /**\n   * The list of Finger objects detected in this frame, given in arbitrary order.\n   * The list can be empty if no fingers are detected.\n   * @member fingers[]\n   * @memberof Leap.Frame.prototype\n   * @type {Leap.Pointable}\n   */\n  this.fingers = [];\n\n  /**\n   * The InteractionBox associated with the current frame.\n   *\n   * @member interactionBox\n   * @memberof Leap.Frame.prototype\n   * @type {Leap.InteractionBox}\n   */\n  if (data.interactionBox) {\n    this.interactionBox = new InteractionBox(data.interactionBox);\n  }\n  this.gestures = [];\n  this.pointablesMap = {};\n  this._translation = data.t;\n  this._rotation = _.flatten(data.r);\n  this._scaleFactor = data.s;\n  this.data = data;\n  this.type = 'frame'; // used by event emitting\n  this.currentFrameRate = data.currentFrameRate;\n\n  if (data.gestures) {\n   /**\n    * The list of Gesture objects detected in this frame, given in arbitrary order.\n    * The list can be empty if no gestures are detected.\n    *\n    * Circle and swipe gestures are updated every frame. Tap gestures\n    * only appear in the list for a single frame.\n    * @member gestures[]\n    * @memberof Leap.Frame.prototype\n    * @type {Leap.Gesture}\n    */\n    for (var gestureIdx = 0, gestureCount = data.gestures.length; gestureIdx != gestureCount; gestureIdx++) {\n      this.gestures.push(createGesture(data.gestures[gestureIdx]));\n    }\n  }\n  this.postprocessData(data);\n};\n\nFrame.prototype.postprocessData = function(data){\n  if (!data) {\n    data = this.data;\n  }\n\n  for (var handIdx = 0, handCount = data.hands.length; handIdx != handCount; handIdx++) {\n    var hand = new Hand(data.hands[handIdx]);\n    hand.frame = this;\n    this.hands.push(hand);\n    this.handsMap[hand.id] = hand;\n  }\n\n  data.pointables = _.sortBy(data.pointables, function(pointable) { return pointable.id });\n\n  for (var pointableIdx = 0, pointableCount = data.pointables.length; pointableIdx != pointableCount; pointableIdx++) {\n    var pointableData = data.pointables[pointableIdx];\n    var pointable = pointableData.dipPosition ? new Finger(pointableData) : new Pointable(pointableData);\n    pointable.frame = this;\n    this.addPointable(pointable);\n  }\n};\n\n/**\n * Adds data from a pointable element into the pointablesMap; \n * also adds the pointable to the frame.handsMap hand to which it belongs,\n * and to the hand's tools or hand's fingers map.\n * \n * @param pointable {Object} a Pointable\n */\nFrame.prototype.addPointable = function (pointable) {\n  this.pointables.push(pointable);\n  this.pointablesMap[pointable.id] = pointable;\n  (pointable.tool ? this.tools : this.fingers).push(pointable);\n  if (pointable.handId !== undefined && this.handsMap.hasOwnProperty(pointable.handId)) {\n    var hand = this.handsMap[pointable.handId];\n    hand.pointables.push(pointable);\n    (pointable.tool ? hand.tools : hand.fingers).push(pointable);\n    switch (pointable.type){\n      case 0:\n        hand.thumb = pointable;\n        break;\n      case 1:\n        hand.indexFinger = pointable;\n        break;\n      case 2:\n        hand.middleFinger = pointable;\n        break;\n      case 3:\n        hand.ringFinger = pointable;\n        break;\n      case 4:\n        hand.pinky = pointable;\n        break;\n    }\n  }\n};\n\n/**\n * The tool with the specified ID in this frame.\n *\n * Use the Frame tool() function to retrieve a tool from\n * this frame using an ID value obtained from a previous frame.\n * This function always returns a Pointable object, but if no tool\n * with the specified ID is present, an invalid Pointable object is returned.\n *\n * Note that ID values persist across frames, but only until tracking of a\n * particular object is lost. If tracking of a tool is lost and subsequently\n * regained, the new Pointable object representing that tool may have a\n * different ID than that representing the tool in an earlier frame.\n *\n * @method tool\n * @memberof Leap.Frame.prototype\n * @param {String} id The ID value of a Tool object from a previous frame.\n * @returns {Leap.Pointable} The tool with the\n * matching ID if one exists in this frame; otherwise, an invalid Pointable object\n * is returned.\n */\nFrame.prototype.tool = function(id) {\n  var pointable = this.pointable(id);\n  return pointable.tool ? pointable : Pointable.Invalid;\n};\n\n/**\n * The Pointable object with the specified ID in this frame.\n *\n * Use the Frame pointable() function to retrieve the Pointable object from\n * this frame using an ID value obtained from a previous frame.\n * This function always returns a Pointable object, but if no finger or tool\n * with the specified ID is present, an invalid Pointable object is returned.\n *\n * Note that ID values persist across frames, but only until tracking of a\n * particular object is lost. If tracking of a finger or tool is lost and subsequently\n * regained, the new Pointable object representing that finger or tool may have\n * a different ID than that representing the finger or tool in an earlier frame.\n *\n * @method pointable\n * @memberof Leap.Frame.prototype\n * @param {String} id The ID value of a Pointable object from a previous frame.\n * @returns {Leap.Pointable} The Pointable object with\n * the matching ID if one exists in this frame;\n * otherwise, an invalid Pointable object is returned.\n */\nFrame.prototype.pointable = function(id) {\n  return this.pointablesMap[id] || Pointable.Invalid;\n};\n\n/**\n * The finger with the specified ID in this frame.\n *\n * Use the Frame finger() function to retrieve the finger from\n * this frame using an ID value obtained from a previous frame.\n * This function always returns a Finger object, but if no finger\n * with the specified ID is present, an invalid Pointable object is returned.\n *\n * Note that ID values persist across frames, but only until tracking of a\n * particular object is lost. If tracking of a finger is lost and subsequently\n * regained, the new Pointable object representing that physical finger may have\n * a different ID than that representing the finger in an earlier frame.\n *\n * @method finger\n * @memberof Leap.Frame.prototype\n * @param {String} id The ID value of a finger from a previous frame.\n * @returns {Leap.Pointable} The finger with the\n * matching ID if one exists in this frame; otherwise, an invalid Pointable\n * object is returned.\n */\nFrame.prototype.finger = function(id) {\n  var pointable = this.pointable(id);\n  return !pointable.tool ? pointable : Pointable.Invalid;\n};\n\n/**\n * The Hand object with the specified ID in this frame.\n *\n * Use the Frame hand() function to retrieve the Hand object from\n * this frame using an ID value obtained from a previous frame.\n * This function always returns a Hand object, but if no hand\n * with the specified ID is present, an invalid Hand object is returned.\n *\n * Note that ID values persist across frames, but only until tracking of a\n * particular object is lost. If tracking of a hand is lost and subsequently\n * regained, the new Hand object representing that physical hand may have\n * a different ID than that representing the physical hand in an earlier frame.\n *\n * @method hand\n * @memberof Leap.Frame.prototype\n * @param {String} id The ID value of a Hand object from a previous frame.\n * @returns {Leap.Hand} The Hand object with the matching\n * ID if one exists in this frame; otherwise, an invalid Hand object is returned.\n */\nFrame.prototype.hand = function(id) {\n  return this.handsMap[id] || Hand.Invalid;\n};\n\n/**\n * The angle of rotation around the rotation axis derived from the overall\n * rotational motion between the current frame and the specified frame.\n *\n * The returned angle is expressed in radians measured clockwise around\n * the rotation axis (using the right-hand rule) between the start and end frames.\n * The value is always between 0 and pi radians (0 and 180 degrees).\n *\n * The Leap derives frame rotation from the relative change in position and\n * orientation of all objects detected in the field of view.\n *\n * If either this frame or sinceFrame is an invalid Frame object, then the\n * angle of rotation is zero.\n *\n * @method rotationAngle\n * @memberof Leap.Frame.prototype\n * @param {Leap.Frame} sinceFrame The starting frame for computing the relative rotation.\n * @param {number[]} [axis] The axis to measure rotation around.\n * @returns {number} A positive value containing the heuristically determined\n * rotational change between the current frame and that specified in the sinceFrame parameter.\n */\nFrame.prototype.rotationAngle = function(sinceFrame, axis) {\n  if (!this.valid || !sinceFrame.valid) return 0.0;\n\n  var rot = this.rotationMatrix(sinceFrame);\n  var cs = (rot[0] + rot[4] + rot[8] - 1.0)*0.5;\n  var angle = Math.acos(cs);\n  angle = isNaN(angle) ? 0.0 : angle;\n\n  if (axis !== undefined) {\n    var rotAxis = this.rotationAxis(sinceFrame);\n    angle *= vec3.dot(rotAxis, vec3.normalize(vec3.create(), axis));\n  }\n\n  return angle;\n};\n\n/**\n * The axis of rotation derived from the overall rotational motion between\n * the current frame and the specified frame.\n *\n * The returned direction vector is normalized.\n *\n * The Leap derives frame rotation from the relative change in position and\n * orientation of all objects detected in the field of view.\n *\n * If either this frame or sinceFrame is an invalid Frame object, or if no\n * rotation is detected between the two frames, a zero vector is returned.\n *\n * @method rotationAxis\n * @memberof Leap.Frame.prototype\n * @param {Leap.Frame} sinceFrame The starting frame for computing the relative rotation.\n * @returns {number[]} A normalized direction vector representing the axis of the heuristically determined\n * rotational change between the current frame and that specified in the sinceFrame parameter.\n */\nFrame.prototype.rotationAxis = function(sinceFrame) {\n  if (!this.valid || !sinceFrame.valid) return vec3.create();\n  return vec3.normalize(vec3.create(), [\n    this._rotation[7] - sinceFrame._rotation[5],\n    this._rotation[2] - sinceFrame._rotation[6],\n    this._rotation[3] - sinceFrame._rotation[1]\n  ]);\n}\n\n/**\n * The transform matrix expressing the rotation derived from the overall\n * rotational motion between the current frame and the specified frame.\n *\n * The Leap derives frame rotation from the relative change in position and\n * orientation of all objects detected in the field of view.\n *\n * If either this frame or sinceFrame is an invalid Frame object, then\n * this method returns an identity matrix.\n *\n * @method rotationMatrix\n * @memberof Leap.Frame.prototype\n * @param {Leap.Frame} sinceFrame The starting frame for computing the relative rotation.\n * @returns {number[]} A transformation matrix containing the heuristically determined\n * rotational change between the current frame and that specified in the sinceFrame parameter.\n */\nFrame.prototype.rotationMatrix = function(sinceFrame) {\n  if (!this.valid || !sinceFrame.valid) return mat3.create();\n  var transpose = mat3.transpose(mat3.create(), this._rotation)\n  return mat3.multiply(mat3.create(), sinceFrame._rotation, transpose);\n}\n\n/**\n * The scale factor derived from the overall motion between the current frame and the specified frame.\n *\n * The scale factor is always positive. A value of 1.0 indicates no scaling took place.\n * Values between 0.0 and 1.0 indicate contraction and values greater than 1.0 indicate expansion.\n *\n * The Leap derives scaling from the relative inward or outward motion of all\n * objects detected in the field of view (independent of translation and rotation).\n *\n * If either this frame or sinceFrame is an invalid Frame object, then this method returns 1.0.\n *\n * @method scaleFactor\n * @memberof Leap.Frame.prototype\n * @param {Leap.Frame} sinceFrame The starting frame for computing the relative scaling.\n * @returns {number} A positive value representing the heuristically determined\n * scaling change ratio between the current frame and that specified in the sinceFrame parameter.\n */\nFrame.prototype.scaleFactor = function(sinceFrame) {\n  if (!this.valid || !sinceFrame.valid) return 1.0;\n  return Math.exp(this._scaleFactor - sinceFrame._scaleFactor);\n}\n\n/**\n * The change of position derived from the overall linear motion between the\n * current frame and the specified frame.\n *\n * The returned translation vector provides the magnitude and direction of the\n * movement in millimeters.\n *\n * The Leap derives frame translation from the linear motion of all objects\n * detected in the field of view.\n *\n * If either this frame or sinceFrame is an invalid Frame object, then this\n * method returns a zero vector.\n *\n * @method translation\n * @memberof Leap.Frame.prototype\n * @param {Leap.Frame} sinceFrame The starting frame for computing the relative translation.\n * @returns {number[]} A vector representing the heuristically determined change in\n * position of all objects between the current frame and that specified in the sinceFrame parameter.\n */\nFrame.prototype.translation = function(sinceFrame) {\n  if (!this.valid || !sinceFrame.valid) return vec3.create();\n  return vec3.subtract(vec3.create(), this._translation, sinceFrame._translation);\n}\n\n/**\n * A string containing a brief, human readable description of the Frame object.\n *\n * @method toString\n * @memberof Leap.Frame.prototype\n * @returns {String} A brief description of this frame.\n */\nFrame.prototype.toString = function() {\n  var str = \"Frame [ id:\"+this.id+\" | timestamp:\"+this.timestamp+\" | Hand count:(\"+this.hands.length+\") | Pointable count:(\"+this.pointables.length+\")\";\n  if (this.gestures) str += \" | Gesture count:(\"+this.gestures.length+\")\";\n  str += \" ]\";\n  return str;\n}\n\n/**\n * Returns a JSON-formatted string containing the hands, pointables and gestures\n * in this frame.\n *\n * @method dump\n * @memberof Leap.Frame.prototype\n * @returns {String} A JSON-formatted string.\n */\nFrame.prototype.dump = function() {\n  var out = '';\n  out += \"Frame Info:<br/>\";\n  out += this.toString();\n  out += \"<br/><br/>Hands:<br/>\"\n  for (var handIdx = 0, handCount = this.hands.length; handIdx != handCount; handIdx++) {\n    out += \"  \"+ this.hands[handIdx].toString() + \"<br/>\";\n  }\n  out += \"<br/><br/>Pointables:<br/>\";\n  for (var pointableIdx = 0, pointableCount = this.pointables.length; pointableIdx != pointableCount; pointableIdx++) {\n      out += \"  \"+ this.pointables[pointableIdx].toString() + \"<br/>\";\n  }\n  if (this.gestures) {\n    out += \"<br/><br/>Gestures:<br/>\";\n    for (var gestureIdx = 0, gestureCount = this.gestures.length; gestureIdx != gestureCount; gestureIdx++) {\n        out += \"  \"+ this.gestures[gestureIdx].toString() + \"<br/>\";\n    }\n  }\n  out += \"<br/><br/>Raw JSON:<br/>\";\n  out += JSON.stringify(this.data);\n  return out;\n}\n\n/**\n * An invalid Frame object.\n *\n * You can use this invalid Frame in comparisons testing\n * whether a given Frame instance is valid or invalid. (You can also check the\n * [Frame.valid]{@link Leap.Frame#valid} property.)\n *\n * @static\n * @type {Leap.Frame}\n * @name Invalid\n * @memberof Leap.Frame\n */\nFrame.Invalid = {\n  valid: false,\n  hands: [],\n  fingers: [],\n  tools: [],\n  gestures: [],\n  pointables: [],\n  pointable: function() { return Pointable.Invalid },\n  finger: function() { return Pointable.Invalid },\n  hand: function() { return Hand.Invalid },\n  toString: function() { return \"invalid frame\" },\n  dump: function() { return this.toString() },\n  rotationAngle: function() { return 0.0; },\n  rotationMatrix: function() { return mat3.create(); },\n  rotationAxis: function() { return vec3.create(); },\n  scaleFactor: function() { return 1.0; },\n  translation: function() { return vec3.create(); }\n};\n\n},{\"./finger\":7,\"./gesture\":9,\"./hand\":10,\"./interaction_box\":12,\"./pointable\":14,\"gl-matrix\":23,\"underscore\":24}],9:[function(require,module,exports){\nvar glMatrix = require(\"gl-matrix\")\n  , vec3 = glMatrix.vec3\n  , EventEmitter = require('events').EventEmitter\n  , _ = require('underscore');\n\n/**\n * Constructs a new Gesture object.\n *\n * An uninitialized Gesture object is considered invalid. Get valid instances\n * of the Gesture class, which will be one of the Gesture subclasses, from a\n * Frame object.\n *\n * @class Gesture\n * @abstract\n * @memberof Leap\n * @classdesc\n * The Gesture class represents a recognized movement by the user.\n *\n * The Leap watches the activity within its field of view for certain movement\n * patterns typical of a user gesture or command. For example, a movement from side to\n * side with the hand can indicate a swipe gesture, while a finger poking forward\n * can indicate a screen tap gesture.\n *\n * When the Leap recognizes a gesture, it assigns an ID and adds a\n * Gesture object to the frame gesture list. For continuous gestures, which\n * occur over many frames, the Leap updates the gesture by adding\n * a Gesture object having the same ID and updated properties in each\n * subsequent frame.\n *\n * **Important:** Recognition for each type of gesture must be enabled;\n * otherwise **no gestures are recognized or reported**.\n *\n * Subclasses of Gesture define the properties for the specific movement patterns\n * recognized by the Leap.\n *\n * The Gesture subclasses for include:\n *\n * * CircleGesture -- A circular movement by a finger.\n * * SwipeGesture -- A straight line movement by the hand with fingers extended.\n * * ScreenTapGesture -- A forward tapping movement by a finger.\n * * KeyTapGesture -- A downward tapping movement by a finger.\n *\n * Circle and swipe gestures are continuous and these objects can have a\n * state of start, update, and stop.\n *\n * The screen tap gesture is a discrete gesture. The Leap only creates a single\n * ScreenTapGesture object appears for each tap and it always has a stop state.\n *\n * Get valid Gesture instances from a Frame object. You can get a list of gestures\n * from the Frame gestures array. You can also use the Frame gesture() method\n * to find a gesture in the current frame using an ID value obtained in a\n * previous frame.\n *\n * Gesture objects can be invalid. For example, when you get a gesture by ID\n * using Frame.gesture(), and there is no gesture with that ID in the current\n * frame, then gesture() returns an Invalid Gesture object (rather than a null\n * value). Always check object validity in situations where a gesture might be\n * invalid.\n */\nvar createGesture = exports.createGesture = function(data) {\n  var gesture;\n  switch (data.type) {\n    case 'circle':\n      gesture = new CircleGesture(data);\n      break;\n    case 'swipe':\n      gesture = new SwipeGesture(data);\n      break;\n    case 'screenTap':\n      gesture = new ScreenTapGesture(data);\n      break;\n    case 'keyTap':\n      gesture = new KeyTapGesture(data);\n      break;\n    default:\n      throw \"unknown gesture type\";\n  }\n\n /**\n  * The gesture ID.\n  *\n  * All Gesture objects belonging to the same recognized movement share the\n  * same ID value. Use the ID value with the Frame::gesture() method to\n  * find updates related to this Gesture object in subsequent frames.\n  *\n  * @member id\n  * @memberof Leap.Gesture.prototype\n  * @type {number}\n  */\n  gesture.id = data.id;\n /**\n  * The list of hands associated with this Gesture, if any.\n  *\n  * If no hands are related to this gesture, the list is empty.\n  *\n  * @member handIds\n  * @memberof Leap.Gesture.prototype\n  * @type {Array}\n  */\n  gesture.handIds = data.handIds.slice();\n /**\n  * The list of fingers and tools associated with this Gesture, if any.\n  *\n  * If no Pointable objects are related to this gesture, the list is empty.\n  *\n  * @member pointableIds\n  * @memberof Leap.Gesture.prototype\n  * @type {Array}\n  */\n  gesture.pointableIds = data.pointableIds.slice();\n /**\n  * The elapsed duration of the recognized movement up to the\n  * frame containing this Gesture object, in microseconds.\n  *\n  * The duration reported for the first Gesture in the sequence (with the\n  * start state) will typically be a small positive number since\n  * the movement must progress far enough for the Leap to recognize it as\n  * an intentional gesture.\n  *\n  * @member duration\n  * @memberof Leap.Gesture.prototype\n  * @type {number}\n  */\n  gesture.duration = data.duration;\n /**\n  * The gesture ID.\n  *\n  * Recognized movements occur over time and have a beginning, a middle,\n  * and an end. The 'state()' attribute reports where in that sequence this\n  * Gesture object falls.\n  *\n  * Possible values for the state field are:\n  *\n  * * start\n  * * update\n  * * stop\n  *\n  * @member state\n  * @memberof Leap.Gesture.prototype\n  * @type {String}\n  */\n  gesture.state = data.state;\n /**\n  * The gesture type.\n  *\n  * Possible values for the type field are:\n  *\n  * * circle\n  * * swipe\n  * * screenTap\n  * * keyTap\n  *\n  * @member type\n  * @memberof Leap.Gesture.prototype\n  * @type {String}\n  */\n  gesture.type = data.type;\n  return gesture;\n}\n\n/*\n * Returns a builder object, which uses method chaining for gesture callback binding.\n */\nvar gestureListener = exports.gestureListener = function(controller, type) {\n  var handlers = {};\n  var gestureMap = {};\n\n  controller.on('gesture', function(gesture, frame) {\n    if (gesture.type == type) {\n      if (gesture.state == \"start\" || gesture.state == \"stop\") {\n        if (gestureMap[gesture.id] === undefined) {\n          var gestureTracker = new Gesture(gesture, frame);\n          gestureMap[gesture.id] = gestureTracker;\n          _.each(handlers, function(cb, name) {\n            gestureTracker.on(name, cb);\n          });\n        }\n      }\n      gestureMap[gesture.id].update(gesture, frame);\n      if (gesture.state == \"stop\") {\n        delete gestureMap[gesture.id];\n      }\n    }\n  });\n  var builder = {\n    start: function(cb) {\n      handlers['start'] = cb;\n      return builder;\n    },\n    stop: function(cb) {\n      handlers['stop'] = cb;\n      return builder;\n    },\n    complete: function(cb) {\n      handlers['stop'] = cb;\n      return builder;\n    },\n    update: function(cb) {\n      handlers['update'] = cb;\n      return builder;\n    }\n  }\n  return builder;\n}\n\nvar Gesture = exports.Gesture = function(gesture, frame) {\n  this.gestures = [gesture];\n  this.frames = [frame];\n}\n\nGesture.prototype.update = function(gesture, frame) {\n  this.lastGesture = gesture;\n  this.lastFrame = frame;\n  this.gestures.push(gesture);\n  this.frames.push(frame);\n  this.emit(gesture.state, this);\n}\n\nGesture.prototype.translation = function() {\n  return vec3.subtract(vec3.create(), this.lastGesture.startPosition, this.lastGesture.position);\n}\n\n_.extend(Gesture.prototype, EventEmitter.prototype);\n\n/**\n * Constructs a new CircleGesture object.\n *\n * An uninitialized CircleGesture object is considered invalid. Get valid instances\n * of the CircleGesture class from a Frame object.\n *\n * @class CircleGesture\n * @memberof Leap\n * @augments Leap.Gesture\n * @classdesc\n * The CircleGesture classes represents a circular finger movement.\n *\n * A circle movement is recognized when the tip of a finger draws a circle\n * within the Leap field of view.\n *\n * ![CircleGesture](images/Leap_Gesture_Circle.png)\n *\n * Circle gestures are continuous. The CircleGesture objects for the gesture have\n * three possible states:\n *\n * * start -- The circle gesture has just started. The movement has\n *  progressed far enough for the recognizer to classify it as a circle.\n * * update -- The circle gesture is continuing.\n * * stop -- The circle gesture is finished.\n */\nvar CircleGesture = function(data) {\n /**\n  * The center point of the circle within the Leap frame of reference.\n  *\n  * @member center\n  * @memberof Leap.CircleGesture.prototype\n  * @type {number[]}\n  */\n  this.center = data.center;\n /**\n  * The normal vector for the circle being traced.\n  *\n  * If you draw the circle clockwise, the normal vector points in the same\n  * general direction as the pointable object drawing the circle. If you draw\n  * the circle counterclockwise, the normal points back toward the\n  * pointable. If the angle between the normal and the pointable object\n  * drawing the circle is less than 90 degrees, then the circle is clockwise.\n  *\n  * ```javascript\n  *    var clockwiseness;\n  *    if (circle.pointable.direction.angleTo(circle.normal) <= PI/4) {\n  *        clockwiseness = \"clockwise\";\n  *    }\n  *    else\n  *    {\n  *        clockwiseness = \"counterclockwise\";\n  *    }\n  * ```\n  *\n  * @member normal\n  * @memberof Leap.CircleGesture.prototype\n  * @type {number[]}\n  */\n  this.normal = data.normal;\n /**\n  * The number of times the finger tip has traversed the circle.\n  *\n  * Progress is reported as a positive number of the number. For example,\n  * a progress value of .5 indicates that the finger has gone halfway\n  * around, while a value of 3 indicates that the finger has gone around\n  * the the circle three times.\n  *\n  * Progress starts where the circle gesture began. Since the circle\n  * must be partially formed before the Leap can recognize it, progress\n  * will be greater than zero when a circle gesture first appears in the\n  * frame.\n  *\n  * @member progress\n  * @memberof Leap.CircleGesture.prototype\n  * @type {number}\n  */\n  this.progress = data.progress;\n /**\n  * The radius of the circle in mm.\n  *\n  * @member radius\n  * @memberof Leap.CircleGesture.prototype\n  * @type {number}\n  */\n  this.radius = data.radius;\n}\n\nCircleGesture.prototype.toString = function() {\n  return \"CircleGesture [\"+JSON.stringify(this)+\"]\";\n}\n\n/**\n * Constructs a new SwipeGesture object.\n *\n * An uninitialized SwipeGesture object is considered invalid. Get valid instances\n * of the SwipeGesture class from a Frame object.\n *\n * @class SwipeGesture\n * @memberof Leap\n * @augments Leap.Gesture\n * @classdesc\n * The SwipeGesture class represents a swiping motion of a finger or tool.\n *\n * ![SwipeGesture](images/Leap_Gesture_Swipe.png)\n *\n * Swipe gestures are continuous.\n */\nvar SwipeGesture = function(data) {\n /**\n  * The starting position within the Leap frame of\n  * reference, in mm.\n  *\n  * @member startPosition\n  * @memberof Leap.SwipeGesture.prototype\n  * @type {number[]}\n  */\n  this.startPosition = data.startPosition;\n /**\n  * The current swipe position within the Leap frame of\n  * reference, in mm.\n  *\n  * @member position\n  * @memberof Leap.SwipeGesture.prototype\n  * @type {number[]}\n  */\n  this.position = data.position;\n /**\n  * The unit direction vector parallel to the swipe motion.\n  *\n  * You can compare the components of the vector to classify the swipe as\n  * appropriate for your application. For example, if you are using swipes\n  * for two dimensional scrolling, you can compare the x and y values to\n  * determine if the swipe is primarily horizontal or vertical.\n  *\n  * @member direction\n  * @memberof Leap.SwipeGesture.prototype\n  * @type {number[]}\n  */\n  this.direction = data.direction;\n /**\n  * The speed of the finger performing the swipe gesture in\n  * millimeters per second.\n  *\n  * @member speed\n  * @memberof Leap.SwipeGesture.prototype\n  * @type {number}\n  */\n  this.speed = data.speed;\n}\n\nSwipeGesture.prototype.toString = function() {\n  return \"SwipeGesture [\"+JSON.stringify(this)+\"]\";\n}\n\n/**\n * Constructs a new ScreenTapGesture object.\n *\n * An uninitialized ScreenTapGesture object is considered invalid. Get valid instances\n * of the ScreenTapGesture class from a Frame object.\n *\n * @class ScreenTapGesture\n * @memberof Leap\n * @augments Leap.Gesture\n * @classdesc\n * The ScreenTapGesture class represents a tapping gesture by a finger or tool.\n *\n * A screen tap gesture is recognized when the tip of a finger pokes forward\n * and then springs back to approximately the original postion, as if\n * tapping a vertical screen. The tapping finger must pause briefly before beginning the tap.\n *\n * ![ScreenTap](images/Leap_Gesture_Tap2.png)\n *\n * ScreenTap gestures are discrete. The ScreenTapGesture object representing a tap always\n * has the state, STATE_STOP. Only one ScreenTapGesture object is created for each\n * screen tap gesture recognized.\n */\nvar ScreenTapGesture = function(data) {\n /**\n  * The position where the screen tap is registered.\n  *\n  * @member position\n  * @memberof Leap.ScreenTapGesture.prototype\n  * @type {number[]}\n  */\n  this.position = data.position;\n /**\n  * The direction of finger tip motion.\n  *\n  * @member direction\n  * @memberof Leap.ScreenTapGesture.prototype\n  * @type {number[]}\n  */\n  this.direction = data.direction;\n /**\n  * The progess value is always 1.0 for a screen tap gesture.\n  *\n  * @member progress\n  * @memberof Leap.ScreenTapGesture.prototype\n  * @type {number}\n  */\n  this.progress = data.progress;\n}\n\nScreenTapGesture.prototype.toString = function() {\n  return \"ScreenTapGesture [\"+JSON.stringify(this)+\"]\";\n}\n\n/**\n * Constructs a new KeyTapGesture object.\n *\n * An uninitialized KeyTapGesture object is considered invalid. Get valid instances\n * of the KeyTapGesture class from a Frame object.\n *\n * @class KeyTapGesture\n * @memberof Leap\n * @augments Leap.Gesture\n * @classdesc\n * The KeyTapGesture class represents a tapping gesture by a finger or tool.\n *\n * A key tap gesture is recognized when the tip of a finger rotates down toward the\n * palm and then springs back to approximately the original postion, as if\n * tapping. The tapping finger must pause briefly before beginning the tap.\n *\n * ![KeyTap](images/Leap_Gesture_Tap.png)\n *\n * Key tap gestures are discrete. The KeyTapGesture object representing a tap always\n * has the state, STATE_STOP. Only one KeyTapGesture object is created for each\n * key tap gesture recognized.\n */\nvar KeyTapGesture = function(data) {\n    /**\n     * The position where the key tap is registered.\n     *\n     * @member position\n     * @memberof Leap.KeyTapGesture.prototype\n     * @type {number[]}\n     */\n    this.position = data.position;\n    /**\n     * The direction of finger tip motion.\n     *\n     * @member direction\n     * @memberof Leap.KeyTapGesture.prototype\n     * @type {number[]}\n     */\n    this.direction = data.direction;\n    /**\n     * The progess value is always 1.0 for a key tap gesture.\n     *\n     * @member progress\n     * @memberof Leap.KeyTapGesture.prototype\n     * @type {number}\n     */\n    this.progress = data.progress;\n}\n\nKeyTapGesture.prototype.toString = function() {\n  return \"KeyTapGesture [\"+JSON.stringify(this)+\"]\";\n}\n\n},{\"events\":21,\"gl-matrix\":23,\"underscore\":24}],10:[function(require,module,exports){\nvar Pointable = require(\"./pointable\")\n  , Bone = require('./bone')\n  , glMatrix = require(\"gl-matrix\")\n  , mat3 = glMatrix.mat3\n  , vec3 = glMatrix.vec3\n  , _ = require(\"underscore\");\n\n/**\n * Constructs a Hand object.\n *\n * An uninitialized hand is considered invalid.\n * Get valid Hand objects from a Frame object.\n * @class Hand\n * @memberof Leap\n * @classdesc\n * The Hand class reports the physical characteristics of a detected hand.\n *\n * Hand tracking data includes a palm position and velocity; vectors for\n * the palm normal and direction to the fingers; properties of a sphere fit\n * to the hand; and lists of the attached fingers and tools.\n *\n * Note that Hand objects can be invalid, which means that they do not contain\n * valid tracking data and do not correspond to a physical entity. Invalid Hand\n * objects can be the result of asking for a Hand object using an ID from an\n * earlier frame when no Hand objects with that ID exist in the current frame.\n * A Hand object created from the Hand constructor is also invalid.\n * Test for validity with the [Hand.valid]{@link Leap.Hand#valid} property.\n */\nvar Hand = module.exports = function(data) {\n  /**\n   * A unique ID assigned to this Hand object, whose value remains the same\n   * across consecutive frames while the tracked hand remains visible. If\n   * tracking is lost (for example, when a hand is occluded by another hand\n   * or when it is withdrawn from or reaches the edge of the Leap field of view),\n   * the Leap may assign a new ID when it detects the hand in a future frame.\n   *\n   * Use the ID value with the {@link Frame.hand}() function to find this\n   * Hand object in future frames.\n   *\n   * @member id\n   * @memberof Leap.Hand.prototype\n   * @type {String}\n   */\n  this.id = data.id;\n  /**\n   * The center position of the palm in millimeters from the Leap origin.\n   * @member palmPosition\n   * @memberof Leap.Hand.prototype\n   * @type {number[]}\n   */\n  this.palmPosition = data.palmPosition;\n  /**\n   * The direction from the palm position toward the fingers.\n   *\n   * The direction is expressed as a unit vector pointing in the same\n   * direction as the directed line from the palm position to the fingers.\n   *\n   * @member direction\n   * @memberof Leap.Hand.prototype\n   * @type {number[]}\n   */\n  this.direction = data.direction;\n  /**\n   * The rate of change of the palm position in millimeters/second.\n   *\n   * @member palmVeclocity\n   * @memberof Leap.Hand.prototype\n   * @type {number[]}\n   */\n  this.palmVelocity = data.palmVelocity;\n  /**\n   * The normal vector to the palm. If your hand is flat, this vector will\n   * point downward, or \"out\" of the front surface of your palm.\n   *\n   * ![Palm Vectors](images/Leap_Palm_Vectors.png)\n   *\n   * The direction is expressed as a unit vector pointing in the same\n   * direction as the palm normal (that is, a vector orthogonal to the palm).\n   * @member palmNormal\n   * @memberof Leap.Hand.prototype\n   * @type {number[]}\n   */\n  this.palmNormal = data.palmNormal;\n  /**\n   * The center of a sphere fit to the curvature of this hand.\n   *\n   * This sphere is placed roughly as if the hand were holding a ball.\n   *\n   * ![Hand Ball](images/Leap_Hand_Ball.png)\n   * @member sphereCenter\n   * @memberof Leap.Hand.prototype\n   * @type {number[]}\n   */\n  this.sphereCenter = data.sphereCenter;\n  /**\n   * The radius of a sphere fit to the curvature of this hand, in millimeters.\n   *\n   * This sphere is placed roughly as if the hand were holding a ball. Thus the\n   * size of the sphere decreases as the fingers are curled into a fist.\n   *\n   * @member sphereRadius\n   * @memberof Leap.Hand.prototype\n   * @type {number}\n   */\n  this.sphereRadius = data.sphereRadius;\n  /**\n   * Reports whether this is a valid Hand object.\n   *\n   * @member valid\n   * @memberof Leap.Hand.prototype\n   * @type {boolean}\n   */\n  this.valid = true;\n  /**\n   * The list of Pointable objects (fingers and tools) detected in this frame\n   * that are associated with this hand, given in arbitrary order. The list\n   * can be empty if no fingers or tools associated with this hand are detected.\n   *\n   * Use the {@link Pointable} tool property to determine\n   * whether or not an item in the list represents a tool or finger.\n   * You can also get only the tools using the Hand.tools[] list or\n   * only the fingers using the Hand.fingers[] list.\n   *\n   * @member pointables[]\n   * @memberof Leap.Hand.prototype\n   * @type {Leap.Pointable[]}\n   */\n  this.pointables = [];\n  /**\n   * The list of fingers detected in this frame that are attached to\n   * this hand, given in arbitrary order.\n   *\n   * The list can be empty if no fingers attached to this hand are detected.\n   *\n   * @member fingers[]\n   * @memberof Leap.Hand.prototype\n   * @type {Leap.Pointable[]}\n   */\n  this.fingers = [];\n  \n  if (data.armBasis){\n    this.arm = new Bone(this, {\n      type: 4,\n      width: data.armWidth,\n      prevJoint: data.elbow,\n      nextJoint: data.wrist,\n      basis: data.armBasis\n    });\n  }else{\n    this.arm = null;\n  }\n  \n  /**\n   * The list of tools detected in this frame that are held by this\n   * hand, given in arbitrary order.\n   *\n   * The list can be empty if no tools held by this hand are detected.\n   *\n   * @member tools[]\n   * @memberof Leap.Hand.prototype\n   * @type {Leap.Pointable[]}\n   */\n  this.tools = [];\n  this._translation = data.t;\n  this._rotation = _.flatten(data.r);\n  this._scaleFactor = data.s;\n\n  /**\n   * Time the hand has been visible in seconds.\n   *\n   * @member timeVisible\n   * @memberof Leap.Hand.prototype\n   * @type {number}\n   */\n   this.timeVisible = data.timeVisible;\n\n  /**\n   * The palm position with stabalization\n   * @member stabilizedPalmPosition\n   * @memberof Leap.Hand.prototype\n   * @type {number[]}\n   */\n   this.stabilizedPalmPosition = data.stabilizedPalmPosition;\n\n   /**\n   * Reports whether this is a left or a right hand.\n   *\n   * @member type\n   * @type {String}\n   * @memberof Leap.Hand.prototype\n   */\n   this.type = data.type;\n   this.grabStrength = data.grabStrength;\n   this.pinchStrength = data.pinchStrength;\n   this.confidence = data.confidence;\n}\n\n/**\n * The finger with the specified ID attached to this hand.\n *\n * Use this function to retrieve a Pointable object representing a finger\n * attached to this hand using an ID value obtained from a previous frame.\n * This function always returns a Pointable object, but if no finger\n * with the specified ID is present, an invalid Pointable object is returned.\n *\n * Note that the ID values assigned to fingers persist across frames, but only\n * until tracking of a particular finger is lost. If tracking of a finger is\n * lost and subsequently regained, the new Finger object representing that\n * finger may have a different ID than that representing the finger in an\n * earlier frame.\n *\n * @method finger\n * @memberof Leap.Hand.prototype\n * @param {String} id The ID value of a finger from a previous frame.\n * @returns {Leap.Pointable} The Finger object with\n * the matching ID if one exists for this hand in this frame; otherwise, an\n * invalid Finger object is returned.\n */\nHand.prototype.finger = function(id) {\n  var finger = this.frame.finger(id);\n  return (finger && (finger.handId == this.id)) ? finger : Pointable.Invalid;\n}\n\n/**\n * The angle of rotation around the rotation axis derived from the change in\n * orientation of this hand, and any associated fingers and tools, between the\n * current frame and the specified frame.\n *\n * The returned angle is expressed in radians measured clockwise around the\n * rotation axis (using the right-hand rule) between the start and end frames.\n * The value is always between 0 and pi radians (0 and 180 degrees).\n *\n * If a corresponding Hand object is not found in sinceFrame, or if either\n * this frame or sinceFrame are invalid Frame objects, then the angle of rotation is zero.\n *\n * @method rotationAngle\n * @memberof Leap.Hand.prototype\n * @param {Leap.Frame} sinceFrame The starting frame for computing the relative rotation.\n * @param {numnber[]} [axis] The axis to measure rotation around.\n * @returns {number} A positive value representing the heuristically determined\n * rotational change of the hand between the current frame and that specified in\n * the sinceFrame parameter.\n */\nHand.prototype.rotationAngle = function(sinceFrame, axis) {\n  if (!this.valid || !sinceFrame.valid) return 0.0;\n  var sinceHand = sinceFrame.hand(this.id);\n  if(!sinceHand.valid) return 0.0;\n  var rot = this.rotationMatrix(sinceFrame);\n  var cs = (rot[0] + rot[4] + rot[8] - 1.0)*0.5\n  var angle = Math.acos(cs);\n  angle = isNaN(angle) ? 0.0 : angle;\n  if (axis !== undefined) {\n    var rotAxis = this.rotationAxis(sinceFrame);\n    angle *= vec3.dot(rotAxis, vec3.normalize(vec3.create(), axis));\n  }\n  return angle;\n}\n\n/**\n * The axis of rotation derived from the change in orientation of this hand, and\n * any associated fingers and tools, between the current frame and the specified frame.\n *\n * The returned direction vector is normalized.\n *\n * If a corresponding Hand object is not found in sinceFrame, or if either\n * this frame or sinceFrame are invalid Frame objects, then this method returns a zero vector.\n *\n * @method rotationAxis\n * @memberof Leap.Hand.prototype\n * @param {Leap.Frame} sinceFrame The starting frame for computing the relative rotation.\n * @returns {number[]} A normalized direction Vector representing the axis of the heuristically determined\n * rotational change of the hand between the current frame and that specified in the sinceFrame parameter.\n */\nHand.prototype.rotationAxis = function(sinceFrame) {\n  if (!this.valid || !sinceFrame.valid) return vec3.create();\n  var sinceHand = sinceFrame.hand(this.id);\n  if (!sinceHand.valid) return vec3.create();\n  return vec3.normalize(vec3.create(), [\n    this._rotation[7] - sinceHand._rotation[5],\n    this._rotation[2] - sinceHand._rotation[6],\n    this._rotation[3] - sinceHand._rotation[1]\n  ]);\n}\n\n/**\n * The transform matrix expressing the rotation derived from the change in\n * orientation of this hand, and any associated fingers and tools, between\n * the current frame and the specified frame.\n *\n * If a corresponding Hand object is not found in sinceFrame, or if either\n * this frame or sinceFrame are invalid Frame objects, then this method returns\n * an identity matrix.\n *\n * @method rotationMatrix\n * @memberof Leap.Hand.prototype\n * @param {Leap.Frame} sinceFrame The starting frame for computing the relative rotation.\n * @returns {number[]} A transformation Matrix containing the heuristically determined\n * rotational change of the hand between the current frame and that specified in the sinceFrame parameter.\n */\nHand.prototype.rotationMatrix = function(sinceFrame) {\n  if (!this.valid || !sinceFrame.valid) return mat3.create();\n  var sinceHand = sinceFrame.hand(this.id);\n  if(!sinceHand.valid) return mat3.create();\n  var transpose = mat3.transpose(mat3.create(), this._rotation);\n  var m = mat3.multiply(mat3.create(), sinceHand._rotation, transpose);\n  return m;\n}\n\n/**\n * The scale factor derived from the hand's motion between the current frame and the specified frame.\n *\n * The scale factor is always positive. A value of 1.0 indicates no scaling took place.\n * Values between 0.0 and 1.0 indicate contraction and values greater than 1.0 indicate expansion.\n *\n * The Leap derives scaling from the relative inward or outward motion of a hand\n * and its associated fingers and tools (independent of translation and rotation).\n *\n * If a corresponding Hand object is not found in sinceFrame, or if either this frame or sinceFrame\n * are invalid Frame objects, then this method returns 1.0.\n *\n * @method scaleFactor\n * @memberof Leap.Hand.prototype\n * @param {Leap.Frame} sinceFrame The starting frame for computing the relative scaling.\n * @returns {number} A positive value representing the heuristically determined\n * scaling change ratio of the hand between the current frame and that specified in the sinceFrame parameter.\n */\nHand.prototype.scaleFactor = function(sinceFrame) {\n  if (!this.valid || !sinceFrame.valid) return 1.0;\n  var sinceHand = sinceFrame.hand(this.id);\n  if(!sinceHand.valid) return 1.0;\n\n  return Math.exp(this._scaleFactor - sinceHand._scaleFactor);\n}\n\n/**\n * The change of position of this hand between the current frame and the specified frame\n *\n * The returned translation vector provides the magnitude and direction of the\n * movement in millimeters.\n *\n * If a corresponding Hand object is not found in sinceFrame, or if either this frame or\n * sinceFrame are invalid Frame objects, then this method returns a zero vector.\n *\n * @method translation\n * @memberof Leap.Hand.prototype\n * @param {Leap.Frame} sinceFrame The starting frame for computing the relative translation.\n * @returns {number[]} A Vector representing the heuristically determined change in hand\n * position between the current frame and that specified in the sinceFrame parameter.\n */\nHand.prototype.translation = function(sinceFrame) {\n  if (!this.valid || !sinceFrame.valid) return vec3.create();\n  var sinceHand = sinceFrame.hand(this.id);\n  if(!sinceHand.valid) return vec3.create();\n  return [\n    this._translation[0] - sinceHand._translation[0],\n    this._translation[1] - sinceHand._translation[1],\n    this._translation[2] - sinceHand._translation[2]\n  ];\n}\n\n/**\n * A string containing a brief, human readable description of the Hand object.\n * @method toString\n * @memberof Leap.Hand.prototype\n * @returns {String} A description of the Hand as a string.\n */\nHand.prototype.toString = function() {\n  return \"Hand (\" + this.type + \") [ id: \"+ this.id + \" | palm velocity:\"+this.palmVelocity+\" | sphere center:\"+this.sphereCenter+\" ] \";\n}\n\n/**\n * The pitch angle in radians.\n *\n * Pitch is the angle between the negative z-axis and the projection of\n * the vector onto the y-z plane. In other words, pitch represents rotation\n * around the x-axis.\n * If the vector points upward, the returned angle is between 0 and pi radians\n * (180 degrees); if it points downward, the angle is between 0 and -pi radians.\n *\n * @method pitch\n * @memberof Leap.Hand.prototype\n * @returns {number} The angle of this vector above or below the horizon (x-z plane).\n *\n */\nHand.prototype.pitch = function() {\n  return Math.atan2(this.direction[1], -this.direction[2]);\n}\n\n/**\n *  The yaw angle in radians.\n *\n * Yaw is the angle between the negative z-axis and the projection of\n * the vector onto the x-z plane. In other words, yaw represents rotation\n * around the y-axis. If the vector points to the right of the negative z-axis,\n * then the returned angle is between 0 and pi radians (180 degrees);\n * if it points to the left, the angle is between 0 and -pi radians.\n *\n * @method yaw\n * @memberof Leap.Hand.prototype\n * @returns {number} The angle of this vector to the right or left of the y-axis.\n *\n */\nHand.prototype.yaw = function() {\n  return Math.atan2(this.direction[0], -this.direction[2]);\n}\n\n/**\n *  The roll angle in radians.\n *\n * Roll is the angle between the y-axis and the projection of\n * the vector onto the x-y plane. In other words, roll represents rotation\n * around the z-axis. If the vector points to the left of the y-axis,\n * then the returned angle is between 0 and pi radians (180 degrees);\n * if it points to the right, the angle is between 0 and -pi radians.\n *\n * @method roll\n * @memberof Leap.Hand.prototype\n * @returns {number} The angle of this vector to the right or left of the y-axis.\n *\n */\nHand.prototype.roll = function() {\n  return Math.atan2(this.palmNormal[0], -this.palmNormal[1]);\n}\n\n/**\n * An invalid Hand object.\n *\n * You can use an invalid Hand object in comparisons testing\n * whether a given Hand instance is valid or invalid. (You can also use the\n * Hand valid property.)\n *\n * @static\n * @type {Leap.Hand}\n * @name Invalid\n * @memberof Leap.Hand\n */\nHand.Invalid = {\n  valid: false,\n  fingers: [],\n  tools: [],\n  pointables: [],\n  left: false,\n  pointable: function() { return Pointable.Invalid },\n  finger: function() { return Pointable.Invalid },\n  toString: function() { return \"invalid frame\" },\n  dump: function() { return this.toString(); },\n  rotationAngle: function() { return 0.0; },\n  rotationMatrix: function() { return mat3.create(); },\n  rotationAxis: function() { return vec3.create(); },\n  scaleFactor: function() { return 1.0; },\n  translation: function() { return vec3.create(); }\n};\n\n},{\"./bone\":1,\"./pointable\":14,\"gl-matrix\":23,\"underscore\":24}],11:[function(require,module,exports){\n/**\n * Leap is the global namespace of the Leap API.\n * @namespace Leap\n */\nmodule.exports = {\n  Controller: require(\"./controller\"),\n  Frame: require(\"./frame\"),\n  Gesture: require(\"./gesture\"),\n  Hand: require(\"./hand\"),\n  Pointable: require(\"./pointable\"),\n  Finger: require(\"./finger\"),\n  InteractionBox: require(\"./interaction_box\"),\n  CircularBuffer: require(\"./circular_buffer\"),\n  UI: require(\"./ui\"),\n  JSONProtocol: require(\"./protocol\").JSONProtocol,\n  glMatrix: require(\"gl-matrix\"),\n  mat3: require(\"gl-matrix\").mat3,\n  vec3: require(\"gl-matrix\").vec3,\n  loopController: undefined,\n  version: require('./version.js'),\n\n  /**\n   * Expose utility libraries for convenience\n   * Use carefully - they may be subject to upgrade or removal in different versions of LeapJS.\n   *\n   */\n  _: require('underscore'),\n  EventEmitter: require('events').EventEmitter,\n\n  /**\n   * The Leap.loop() function passes a frame of Leap data to your\n   * callback function and then calls window.requestAnimationFrame() after\n   * executing your callback function.\n   *\n   * Leap.loop() sets up the Leap controller and WebSocket connection for you.\n   * You do not need to create your own controller when using this method.\n   *\n   * Your callback function is called on an interval determined by the client\n   * browser. Typically, this is on an interval of 60 frames/second. The most\n   * recent frame of Leap data is passed to your callback function. If the Leap\n   * is producing frames at a slower rate than the browser frame rate, the same\n   * frame of Leap data can be passed to your function in successive animation\n   * updates.\n   *\n   * As an alternative, you can create your own Controller object and use a\n   * {@link Controller#onFrame onFrame} callback to process the data at\n   * the frame rate of the Leap device. See {@link Controller} for an\n   * example.\n   *\n   * @method Leap.loop\n   * @param {function} callback A function called when the browser is ready to\n   * draw to the screen. The most recent {@link Frame} object is passed to\n   * your callback function.\n   *\n   * ```javascript\n   *    Leap.loop( function( frame ) {\n   *        // ... your code here\n   *    })\n   * ```\n   */\n  loop: function(opts, callback) {\n    if (opts && callback === undefined &&  ( ({}).toString.call(opts) === '[object Function]' ) ) {\n      callback = opts;\n      opts = {};\n    }\n\n    if (this.loopController) {\n      if (opts){\n        this.loopController.setupFrameEvents(opts);\n      }\n    }else{\n      this.loopController = new this.Controller(opts);\n    }\n\n    this.loopController.loop(callback);\n    return this.loopController;\n  },\n\n  /*\n   * Convenience method for Leap.Controller.plugin\n   */\n  plugin: function(name, options){\n    this.Controller.plugin(name, options)\n  }\n}\n\n},{\"./circular_buffer\":2,\"./controller\":5,\"./finger\":7,\"./frame\":8,\"./gesture\":9,\"./hand\":10,\"./interaction_box\":12,\"./pointable\":14,\"./protocol\":15,\"./ui\":16,\"./version.js\":19,\"events\":21,\"gl-matrix\":23,\"underscore\":24}],12:[function(require,module,exports){\nvar glMatrix = require(\"gl-matrix\")\n  , vec3 = glMatrix.vec3;\n\n/**\n * Constructs a InteractionBox object.\n *\n * @class InteractionBox\n * @memberof Leap\n * @classdesc\n * The InteractionBox class represents a box-shaped region completely within\n * the field of view of the Leap Motion controller.\n *\n * The interaction box is an axis-aligned rectangular prism and provides\n * normalized coordinates for hands, fingers, and tools within this box.\n * The InteractionBox class can make it easier to map positions in the\n * Leap Motion coordinate system to 2D or 3D coordinate systems used\n * for application drawing.\n *\n * ![Interaction Box](images/Leap_InteractionBox.png)\n *\n * The InteractionBox region is defined by a center and dimensions along the x, y, and z axes.\n */\nvar InteractionBox = module.exports = function(data) {\n  /**\n   * Indicates whether this is a valid InteractionBox object.\n   *\n   * @member valid\n   * @type {Boolean}\n   * @memberof Leap.InteractionBox.prototype\n   */\n  this.valid = true;\n  /**\n   * The center of the InteractionBox in device coordinates (millimeters).\n   * This point is equidistant from all sides of the box.\n   *\n   * @member center\n   * @type {number[]}\n   * @memberof Leap.InteractionBox.prototype\n   */\n  this.center = data.center;\n\n  this.size = data.size;\n  /**\n   * The width of the InteractionBox in millimeters, measured along the x-axis.\n   *\n   * @member width\n   * @type {number}\n   * @memberof Leap.InteractionBox.prototype\n   */\n  this.width = data.size[0];\n  /**\n   * The height of the InteractionBox in millimeters, measured along the y-axis.\n   *\n   * @member height\n   * @type {number}\n   * @memberof Leap.InteractionBox.prototype\n   */\n  this.height = data.size[1];\n  /**\n   * The depth of the InteractionBox in millimeters, measured along the z-axis.\n   *\n   * @member depth\n   * @type {number}\n   * @memberof Leap.InteractionBox.prototype\n   */\n  this.depth = data.size[2];\n}\n\n/**\n * Converts a position defined by normalized InteractionBox coordinates\n * into device coordinates in millimeters.\n *\n * This function performs the inverse of normalizePoint().\n *\n * @method denormalizePoint\n * @memberof Leap.InteractionBox.prototype\n * @param {number[]} normalizedPosition The input position in InteractionBox coordinates.\n * @returns {number[]} The corresponding denormalized position in device coordinates.\n */\nInteractionBox.prototype.denormalizePoint = function(normalizedPosition) {\n  return vec3.fromValues(\n    (normalizedPosition[0] - 0.5) * this.size[0] + this.center[0],\n    (normalizedPosition[1] - 0.5) * this.size[1] + this.center[1],\n    (normalizedPosition[2] - 0.5) * this.size[2] + this.center[2]\n  );\n}\n\n/**\n * Normalizes the coordinates of a point using the interaction box.\n *\n * Coordinates from the Leap Motion frame of reference (millimeters) are\n * converted to a range of [0..1] such that the minimum value of the\n * InteractionBox maps to 0 and the maximum value of the InteractionBox maps to 1.\n *\n * @method normalizePoint\n * @memberof Leap.InteractionBox.prototype\n * @param {number[]} position The input position in device coordinates.\n * @param {Boolean} clamp Whether or not to limit the output value to the range [0,1]\n * when the input position is outside the InteractionBox. Defaults to true.\n * @returns {number[]} The normalized position.\n */\nInteractionBox.prototype.normalizePoint = function(position, clamp) {\n  var vec = vec3.fromValues(\n    ((position[0] - this.center[0]) / this.size[0]) + 0.5,\n    ((position[1] - this.center[1]) / this.size[1]) + 0.5,\n    ((position[2] - this.center[2]) / this.size[2]) + 0.5\n  );\n\n  if (clamp) {\n    vec[0] = Math.min(Math.max(vec[0], 0), 1);\n    vec[1] = Math.min(Math.max(vec[1], 0), 1);\n    vec[2] = Math.min(Math.max(vec[2], 0), 1);\n  }\n  return vec;\n}\n\n/**\n * Writes a brief, human readable description of the InteractionBox object.\n *\n * @method toString\n * @memberof Leap.InteractionBox.prototype\n * @returns {String} A description of the InteractionBox object as a string.\n */\nInteractionBox.prototype.toString = function() {\n  return \"InteractionBox [ width:\" + this.width + \" | height:\" + this.height + \" | depth:\" + this.depth + \" ]\";\n}\n\n/**\n * An invalid InteractionBox object.\n *\n * You can use this InteractionBox instance in comparisons testing\n * whether a given InteractionBox instance is valid or invalid. (You can also use the\n * InteractionBox.valid property.)\n *\n * @static\n * @type {Leap.InteractionBox}\n * @name Invalid\n * @memberof Leap.InteractionBox\n */\nInteractionBox.Invalid = { valid: false };\n\n},{\"gl-matrix\":23}],13:[function(require,module,exports){\nvar Pipeline = module.exports = function (controller) {\n  this.steps = [];\n  this.controller = controller;\n}\n\nPipeline.prototype.addStep = function (step) {\n  this.steps.push(step);\n}\n\nPipeline.prototype.run = function (frame) {\n  var stepsLength = this.steps.length;\n  for (var i = 0; i != stepsLength; i++) {\n    if (!frame) break;\n    frame = this.steps[i](frame);\n  }\n  return frame;\n}\n\nPipeline.prototype.removeStep = function(step){\n  var index = this.steps.indexOf(step);\n  if (index === -1) throw \"Step not found in pipeline\";\n  this.steps.splice(index, 1);\n}\n\n/*\n * Wraps a plugin callback method in method which can be run inside the pipeline.\n * This wrapper method loops the callback over objects within the frame as is appropriate,\n * calling the callback for each in turn.\n *\n * @method createStepFunction\n * @memberOf Leap.Controller.prototype\n * @param {Controller} The controller on which the callback is called.\n * @param {String} type What frame object the callback is run for and receives.\n *       Can be one of 'frame', 'finger', 'hand', 'pointable', 'tool'\n * @param {function} callback The method which will be run inside the pipeline loop.  Receives one argument, such as a hand.\n * @private\n */\nPipeline.prototype.addWrappedStep = function (type, callback) {\n  var controller = this.controller,\n    step = function (frame) {\n      var dependencies, i, len;\n      dependencies = (type == 'frame') ? [frame] : (frame[type + 's'] || []);\n\n      for (i = 0, len = dependencies.length; i < len; i++) {\n        callback.call(controller, dependencies[i]);\n      }\n\n      return frame;\n    };\n\n  this.addStep(step);\n  return step;\n};\n},{}],14:[function(require,module,exports){\nvar glMatrix = require(\"gl-matrix\")\n  , vec3 = glMatrix.vec3;\n\n/**\n * Constructs a Pointable object.\n *\n * An uninitialized pointable is considered invalid.\n * Get valid Pointable objects from a Frame or a Hand object.\n *\n * @class Pointable\n * @memberof Leap\n * @classdesc\n * The Pointable class reports the physical characteristics of a detected\n * finger or tool.\n *\n * Both fingers and tools are classified as Pointable objects. Use the\n * Pointable.tool property to determine whether a Pointable object represents a\n * tool or finger. The Leap classifies a detected entity as a tool when it is\n * thinner, straighter, and longer than a typical finger.\n *\n * Note that Pointable objects can be invalid, which means that they do not\n * contain valid tracking data and do not correspond to a physical entity.\n * Invalid Pointable objects can be the result of asking for a Pointable object\n * using an ID from an earlier frame when no Pointable objects with that ID\n * exist in the current frame. A Pointable object created from the Pointable\n * constructor is also invalid. Test for validity with the Pointable.valid\n * property.\n */\nvar Pointable = module.exports = function(data) {\n  /**\n   * Indicates whether this is a valid Pointable object.\n   *\n   * @member valid\n   * @type {Boolean}\n   * @memberof Leap.Pointable.prototype\n   */\n  this.valid = true;\n  /**\n   * A unique ID assigned to this Pointable object, whose value remains the\n   * same across consecutive frames while the tracked finger or tool remains\n   * visible. If tracking is lost (for example, when a finger is occluded by\n   * another finger or when it is withdrawn from the Leap field of view), the\n   * Leap may assign a new ID when it detects the entity in a future frame.\n   *\n   * Use the ID value with the pointable() functions defined for the\n   * {@link Frame} and {@link Frame.Hand} classes to find this\n   * Pointable object in future frames.\n   *\n   * @member id\n   * @type {String}\n   * @memberof Leap.Pointable.prototype\n   */\n  this.id = data.id;\n  this.handId = data.handId;\n  /**\n   * The estimated length of the finger or tool in millimeters.\n   *\n   * The reported length is the visible length of the finger or tool from the\n   * hand to tip. If the length isn't known, then a value of 0 is returned.\n   *\n   * @member length\n   * @type {number}\n   * @memberof Leap.Pointable.prototype\n   */\n  this.length = data.length;\n  /**\n   * Whether or not the Pointable is believed to be a tool.\n   * Tools are generally longer, thinner, and straighter than fingers.\n   *\n   * If tool is false, then this Pointable must be a finger.\n   *\n   * @member tool\n   * @type {Boolean}\n   * @memberof Leap.Pointable.prototype\n   */\n  this.tool = data.tool;\n  /**\n   * The estimated width of the tool in millimeters.\n   *\n   * The reported width is the average width of the visible portion of the\n   * tool from the hand to the tip. If the width isn't known,\n   * then a value of 0 is returned.\n   *\n   * Pointable objects representing fingers do not have a width property.\n   *\n   * @member width\n   * @type {number}\n   * @memberof Leap.Pointable.prototype\n   */\n  this.width = data.width;\n  /**\n   * The direction in which this finger or tool is pointing.\n   *\n   * The direction is expressed as a unit vector pointing in the same\n   * direction as the tip.\n   *\n   * ![Finger](images/Leap_Finger_Model.png)\n   * @member direction\n   * @type {number[]}\n   * @memberof Leap.Pointable.prototype\n   */\n  this.direction = data.direction;\n  /**\n   * The tip position in millimeters from the Leap origin.\n   * Stabilized\n   *\n   * @member stabilizedTipPosition\n   * @type {number[]}\n   * @memberof Leap.Pointable.prototype\n   */\n  this.stabilizedTipPosition = data.stabilizedTipPosition;\n  /**\n   * The tip position in millimeters from the Leap origin.\n   *\n   * @member tipPosition\n   * @type {number[]}\n   * @memberof Leap.Pointable.prototype\n   */\n  this.tipPosition = data.tipPosition;\n  /**\n   * The rate of change of the tip position in millimeters/second.\n   *\n   * @member tipVelocity\n   * @type {number[]}\n   * @memberof Leap.Pointable.prototype\n   */\n  this.tipVelocity = data.tipVelocity;\n  /**\n   * The current touch zone of this Pointable object.\n   *\n   * The Leap Motion software computes the touch zone based on a floating touch\n   * plane that adapts to the user's finger movement and hand posture. The Leap\n   * Motion software interprets purposeful movements toward this plane as potential touch\n   * points. When a Pointable moves close to the adaptive touch plane, it enters the\n   * \"hovering\" zone. When a Pointable reaches or passes through the plane, it enters\n   * the \"touching\" zone.\n   *\n   * The possible states include:\n   *\n   * * \"none\" -- The Pointable is outside the hovering zone.\n   * * \"hovering\" -- The Pointable is close to, but not touching the touch plane.\n   * * \"touching\" -- The Pointable has penetrated the touch plane.\n   *\n   * The touchDistance value provides a normalized indication of the distance to\n   * the touch plane when the Pointable is in the hovering or touching zones.\n   *\n   * @member touchZone\n   * @type {String}\n   * @memberof Leap.Pointable.prototype\n   */\n  this.touchZone = data.touchZone;\n  /**\n   * A value proportional to the distance between this Pointable object and the\n   * adaptive touch plane.\n   *\n   * ![Touch Distance](images/Leap_Touch_Plane.png)\n   *\n   * The touch distance is a value in the range [-1, 1]. The value 1.0 indicates the\n   * Pointable is at the far edge of the hovering zone. The value 0 indicates the\n   * Pointable is just entering the touching zone. A value of -1.0 indicates the\n   * Pointable is firmly within the touching zone. Values in between are\n   * proportional to the distance from the plane. Thus, the touchDistance of 0.5\n   * indicates that the Pointable is halfway into the hovering zone.\n   *\n   * You can use the touchDistance value to modulate visual feedback given to the\n   * user as their fingers close in on a touch target, such as a button.\n   *\n   * @member touchDistance\n   * @type {number}\n   * @memberof Leap.Pointable.prototype\n   */\n  this.touchDistance = data.touchDistance;\n\n  /**\n   * How long the pointable has been visible in seconds.\n   *\n   * @member timeVisible\n   * @type {number}\n   * @memberof Leap.Pointable.prototype\n   */\n  this.timeVisible = data.timeVisible;\n}\n\n/**\n * A string containing a brief, human readable description of the Pointable\n * object.\n *\n * @method toString\n * @memberof Leap.Pointable.prototype\n * @returns {String} A description of the Pointable object as a string.\n */\nPointable.prototype.toString = function() {\n  return \"Pointable [ id:\" + this.id + \" \" + this.length + \"mmx | width:\" + this.width + \"mm | direction:\" + this.direction + ' ]';\n}\n\n/**\n * Returns the hand which the pointable is attached to.\n */\nPointable.prototype.hand = function(){\n  return this.frame.hand(this.handId);\n}\n\n/**\n * An invalid Pointable object.\n *\n * You can use this Pointable instance in comparisons testing\n * whether a given Pointable instance is valid or invalid. (You can also use the\n * Pointable.valid property.)\n\n * @static\n * @type {Leap.Pointable}\n * @name Invalid\n * @memberof Leap.Pointable\n */\nPointable.Invalid = { valid: false };\n\n},{\"gl-matrix\":23}],15:[function(require,module,exports){\nvar Frame = require('./frame')\n  , Hand = require('./hand')\n  , Pointable = require('./pointable')\n  , Finger = require('./finger')\n  , _ = require('underscore')\n  , EventEmitter = require('events').EventEmitter;\n\nvar Event = function(data) {\n  this.type = data.type;\n  this.state = data.state;\n};\n\nexports.chooseProtocol = function(header) {\n  var protocol;\n  switch(header.version) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n    case 6:\n      protocol = JSONProtocol(header);\n      protocol.sendBackground = function(connection, state) {\n        connection.send(protocol.encode({background: state}));\n      }\n      protocol.sendFocused = function(connection, state) {\n        connection.send(protocol.encode({focused: state}));\n      }\n      protocol.sendOptimizeHMD = function(connection, state) {\n        connection.send(protocol.encode({optimizeHMD: state}));\n      }\n      break;\n    default:\n      throw \"unrecognized version\";\n  }\n  return protocol;\n}\n\nvar JSONProtocol = exports.JSONProtocol = function(header) {\n\n  var protocol = function(frameData) {\n\n    if (frameData.event) {\n\n      return new Event(frameData.event);\n\n    } else {\n\n      protocol.emit('beforeFrameCreated', frameData);\n\n      var frame = new Frame(frameData);\n\n      protocol.emit('afterFrameCreated', frame, frameData);\n\n      return frame;\n\n    }\n\n  };\n\n  protocol.encode = function(message) {\n    return JSON.stringify(message);\n  };\n  protocol.version = header.version;\n  protocol.serviceVersion = header.serviceVersion;\n  protocol.versionLong = 'Version ' + header.version;\n  protocol.type = 'protocol';\n\n  _.extend(protocol, EventEmitter.prototype);\n\n  return protocol;\n};\n\n\n\n},{\"./finger\":7,\"./frame\":8,\"./hand\":10,\"./pointable\":14,\"events\":21,\"underscore\":24}],16:[function(require,module,exports){\nexports.UI = {\n  Region: require(\"./ui/region\"),\n  Cursor: require(\"./ui/cursor\")\n};\n},{\"./ui/cursor\":17,\"./ui/region\":18}],17:[function(require,module,exports){\nvar Cursor = module.exports = function() {\n  return function(frame) {\n    var pointable = frame.pointables.sort(function(a, b) { return a.z - b.z })[0]\n    if (pointable && pointable.valid) {\n      frame.cursorPosition = pointable.tipPosition\n    }\n    return frame\n  }\n}\n\n},{}],18:[function(require,module,exports){\nvar EventEmitter = require('events').EventEmitter\n  , _ = require('underscore')\n\nvar Region = module.exports = function(start, end) {\n  this.start = new Vector(start)\n  this.end = new Vector(end)\n  this.enteredFrame = null\n}\n\nRegion.prototype.hasPointables = function(frame) {\n  for (var i = 0; i != frame.pointables.length; i++) {\n    var position = frame.pointables[i].tipPosition\n    if (position.x >= this.start.x && position.x <= this.end.x && position.y >= this.start.y && position.y <= this.end.y && position.z >= this.start.z && position.z <= this.end.z) {\n      return true\n    }\n  }\n  return false\n}\n\nRegion.prototype.listener = function(opts) {\n  var region = this\n  if (opts && opts.nearThreshold) this.setupNearRegion(opts.nearThreshold)\n  return function(frame) {\n    return region.updatePosition(frame)\n  }\n}\n\nRegion.prototype.clipper = function() {\n  var region = this\n  return function(frame) {\n    region.updatePosition(frame)\n    return region.enteredFrame ? frame : null\n  }\n}\n\nRegion.prototype.setupNearRegion = function(distance) {\n  var nearRegion = this.nearRegion = new Region(\n    [this.start.x - distance, this.start.y - distance, this.start.z - distance],\n    [this.end.x + distance, this.end.y + distance, this.end.z + distance]\n  )\n  var region = this\n  nearRegion.on(\"enter\", function(frame) {\n    region.emit(\"near\", frame)\n  })\n  nearRegion.on(\"exit\", function(frame) {\n    region.emit(\"far\", frame)\n  })\n  region.on('exit', function(frame) {\n    region.emit(\"near\", frame)\n  })\n}\n\nRegion.prototype.updatePosition = function(frame) {\n  if (this.nearRegion) this.nearRegion.updatePosition(frame)\n  if (this.hasPointables(frame) && this.enteredFrame == null) {\n    this.enteredFrame = frame\n    this.emit(\"enter\", this.enteredFrame)\n  } else if (!this.hasPointables(frame) && this.enteredFrame != null) {\n    this.enteredFrame = null\n    this.emit(\"exit\", this.enteredFrame)\n  }\n  return frame\n}\n\nRegion.prototype.normalize = function(position) {\n  return new Vector([\n    (position.x - this.start.x) / (this.end.x - this.start.x),\n    (position.y - this.start.y) / (this.end.y - this.start.y),\n    (position.z - this.start.z) / (this.end.z - this.start.z)\n  ])\n}\n\nRegion.prototype.mapToXY = function(position, width, height) {\n  var normalized = this.normalize(position)\n  var x = normalized.x, y = normalized.y\n  if (x > 1) x = 1\n  else if (x < -1) x = -1\n  if (y > 1) y = 1\n  else if (y < -1) y = -1\n  return [\n    (x + 1) / 2 * width,\n    (1 - y) / 2 * height,\n    normalized.z\n  ]\n}\n\n_.extend(Region.prototype, EventEmitter.prototype)\n},{\"events\":21,\"underscore\":24}],19:[function(require,module,exports){\n// This file is automatically updated from package.json by grunt.\nmodule.exports = {\n  full: '0.6.4',\n  major: 0,\n  minor: 6,\n  dot: 4\n}\n},{}],20:[function(require,module,exports){\n\n},{}],21:[function(require,module,exports){\nvar process=require(\"__browserify_process\");if (!process.EventEmitter) process.EventEmitter = function () {};\n\nvar EventEmitter = exports.EventEmitter = process.EventEmitter;\nvar isArray = typeof Array.isArray === 'function'\n    ? Array.isArray\n    : function (xs) {\n        return Object.prototype.toString.call(xs) === '[object Array]'\n    }\n;\nfunction indexOf (xs, x) {\n    if (xs.indexOf) return xs.indexOf(x);\n    for (var i = 0; i < xs.length; i++) {\n        if (x === xs[i]) return i;\n    }\n    return -1;\n}\n\n// By default EventEmitters will print a warning if more than\n// 10 listeners are added to it. This is a useful default which\n// helps finding memory leaks.\n//\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nvar defaultMaxListeners = 10;\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!this._events) this._events = {};\n  this._events.maxListeners = n;\n};\n\n\nEventEmitter.prototype.emit = function(type) {\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events || !this._events.error ||\n        (isArray(this._events.error) && !this._events.error.length))\n    {\n      if (arguments[1] instanceof Error) {\n        throw arguments[1]; // Unhandled 'error' event\n      } else {\n        throw new Error(\"Uncaught, unspecified 'error' event.\");\n      }\n      return false;\n    }\n  }\n\n  if (!this._events) return false;\n  var handler = this._events[type];\n  if (!handler) return false;\n\n  if (typeof handler == 'function') {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        var args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n    return true;\n\n  } else if (isArray(handler)) {\n    var args = Array.prototype.slice.call(arguments, 1);\n\n    var listeners = handler.slice();\n    for (var i = 0, l = listeners.length; i < l; i++) {\n      listeners[i].apply(this, args);\n    }\n    return true;\n\n  } else {\n    return false;\n  }\n};\n\n// EventEmitter is defined in src/node_events.cc\n// EventEmitter.prototype.emit() is also defined there.\nEventEmitter.prototype.addListener = function(type, listener) {\n  if ('function' !== typeof listener) {\n    throw new Error('addListener only takes instances of Function');\n  }\n\n  if (!this._events) this._events = {};\n\n  // To avoid recursion in the case that type == \"newListeners\"! Before\n  // adding it to the listeners, first emit \"newListeners\".\n  this.emit('newListener', type, listener);\n\n  if (!this._events[type]) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  } else if (isArray(this._events[type])) {\n\n    // Check for listener leak\n    if (!this._events[type].warned) {\n      var m;\n      if (this._events.maxListeners !== undefined) {\n        m = this._events.maxListeners;\n      } else {\n        m = defaultMaxListeners;\n      }\n\n      if (m && m > 0 && this._events[type].length > m) {\n        this._events[type].warned = true;\n        console.error('(node) warning: possible EventEmitter memory ' +\n                      'leak detected. %d listeners added. ' +\n                      'Use emitter.setMaxListeners() to increase limit.',\n                      this._events[type].length);\n        console.trace();\n      }\n    }\n\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  } else {\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  var self = this;\n  self.on(type, function g() {\n    self.removeListener(type, g);\n    listener.apply(this, arguments);\n  });\n\n  return this;\n};\n\nEventEmitter.prototype.removeListener = function(type, listener) {\n  if ('function' !== typeof listener) {\n    throw new Error('removeListener only takes instances of Function');\n  }\n\n  // does not use listeners(), so no side effect of creating _events[type]\n  if (!this._events || !this._events[type]) return this;\n\n  var list = this._events[type];\n\n  if (isArray(list)) {\n    var i = indexOf(list, listener);\n    if (i < 0) return this;\n    list.splice(i, 1);\n    if (list.length == 0)\n      delete this._events[type];\n  } else if (this._events[type] === listener) {\n    delete this._events[type];\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  if (arguments.length === 0) {\n    this._events = {};\n    return this;\n  }\n\n  // does not use listeners(), so no side effect of creating _events[type]\n  if (type && this._events && this._events[type]) this._events[type] = null;\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  if (!this._events) this._events = {};\n  if (!this._events[type]) this._events[type] = [];\n  if (!isArray(this._events[type])) {\n    this._events[type] = [this._events[type]];\n  }\n  return this._events[type];\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (typeof emitter._events[type] === 'function')\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\n},{\"__browserify_process\":22}],22:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\n\nprocess.nextTick = (function () {\n    var canSetImmediate = typeof window !== 'undefined'\n    && window.setImmediate;\n    var canPost = typeof window !== 'undefined'\n    && window.postMessage && window.addEventListener\n    ;\n\n    if (canSetImmediate) {\n        return function (f) { return window.setImmediate(f) };\n    }\n\n    if (canPost) {\n        var queue = [];\n        window.addEventListener('message', function (ev) {\n            var source = ev.source;\n            if ((source === window || source === null) && ev.data === 'process-tick') {\n                ev.stopPropagation();\n                if (queue.length > 0) {\n                    var fn = queue.shift();\n                    fn();\n                }\n            }\n        }, true);\n\n        return function nextTick(fn) {\n            queue.push(fn);\n            window.postMessage('process-tick', '*');\n        };\n    }\n\n    return function nextTick(fn) {\n        setTimeout(fn, 0);\n    };\n})();\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n}\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\n\n},{}],23:[function(require,module,exports){\n/**\n * @fileoverview gl-matrix - High performance matrix and vector operations\n * @author Brandon Jones\n * @author Colin MacKenzie IV\n * @version 2.2.1\n */\n\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation\n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n\n(function(_global) {\n  \"use strict\";\n\n  var shim = {};\n  if (typeof(exports) === 'undefined') {\n    if(typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n      shim.exports = {};\n      define(function() {\n        return shim.exports;\n      });\n    } else {\n      // gl-matrix lives in a browser, define its namespaces in global\n      shim.exports = typeof(window) !== 'undefined' ? window : _global;\n    }\n  }\n  else {\n    // gl-matrix lives in commonjs, define its namespaces in exports\n    shim.exports = exports;\n  }\n\n  (function(exports) {\n    /* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n\nif(!GLMAT_EPSILON) {\n    var GLMAT_EPSILON = 0.000001;\n}\n\nif(!GLMAT_ARRAY_TYPE) {\n    var GLMAT_ARRAY_TYPE = (typeof Float32Array !== 'undefined') ? Float32Array : Array;\n}\n\nif(!GLMAT_RANDOM) {\n    var GLMAT_RANDOM = Math.random;\n}\n\n/**\n * @class Common utilities\n * @name glMatrix\n */\nvar glMatrix = {};\n\n/**\n * Sets the type of array used when creating new vectors and matricies\n *\n * @param {Type} type Array type, such as Float32Array or Array\n */\nglMatrix.setMatrixArrayType = function(type) {\n    GLMAT_ARRAY_TYPE = type;\n}\n\nif(typeof(exports) !== 'undefined') {\n    exports.glMatrix = glMatrix;\n}\n\nvar degree = Math.PI / 180;\n\n/**\n* Convert Degree To Radian\n*\n* @param {Number} Angle in Degrees\n*/\nglMatrix.toRadian = function(a){\n     return a * degree;\n}\n;\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n/**\n * @class 2 Dimensional Vector\n * @name vec2\n */\n\nvar vec2 = {};\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\nvec2.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(2);\n    out[0] = 0;\n    out[1] = 0;\n    return out;\n};\n\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {vec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\nvec2.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(2);\n    out[0] = a[0];\n    out[1] = a[1];\n    return out;\n};\n\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\nvec2.fromValues = function(x, y) {\n    var out = new GLMAT_ARRAY_TYPE(2);\n    out[0] = x;\n    out[1] = y;\n    return out;\n};\n\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the source vector\n * @returns {vec2} out\n */\nvec2.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    return out;\n};\n\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\nvec2.set = function(out, x, y) {\n    out[0] = x;\n    out[1] = y;\n    return out;\n};\n\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.add = function(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    return out;\n};\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.subtract = function(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    return out;\n};\n\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\nvec2.sub = vec2.subtract;\n\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.multiply = function(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    return out;\n};\n\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\nvec2.mul = vec2.multiply;\n\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.divide = function(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    return out;\n};\n\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\nvec2.div = vec2.divide;\n\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.min = function(out, a, b) {\n    out[0] = Math.min(a[0], b[0]);\n    out[1] = Math.min(a[1], b[1]);\n    return out;\n};\n\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.max = function(out, a, b) {\n    out[0] = Math.max(a[0], b[0]);\n    out[1] = Math.max(a[1], b[1]);\n    return out;\n};\n\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\nvec2.scale = function(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    return out;\n};\n\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\nvec2.scaleAndAdd = function(out, a, b, scale) {\n    out[0] = a[0] + (b[0] * scale);\n    out[1] = a[1] + (b[1] * scale);\n    return out;\n};\n\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} distance between a and b\n */\nvec2.distance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1];\n    return Math.sqrt(x*x + y*y);\n};\n\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\nvec2.dist = vec2.distance;\n\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\nvec2.squaredDistance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1];\n    return x*x + y*y;\n};\n\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\nvec2.sqrDist = vec2.squaredDistance;\n\n/**\n * Calculates the length of a vec2\n *\n * @param {vec2} a vector to calculate length of\n * @returns {Number} length of a\n */\nvec2.length = function (a) {\n    var x = a[0],\n        y = a[1];\n    return Math.sqrt(x*x + y*y);\n};\n\n/**\n * Alias for {@link vec2.length}\n * @function\n */\nvec2.len = vec2.length;\n\n/**\n * Calculates the squared length of a vec2\n *\n * @param {vec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nvec2.squaredLength = function (a) {\n    var x = a[0],\n        y = a[1];\n    return x*x + y*y;\n};\n\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\nvec2.sqrLen = vec2.squaredLength;\n\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to negate\n * @returns {vec2} out\n */\nvec2.negate = function(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    return out;\n};\n\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to normalize\n * @returns {vec2} out\n */\nvec2.normalize = function(out, a) {\n    var x = a[0],\n        y = a[1];\n    var len = x*x + y*y;\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len);\n        out[0] = a[0] * len;\n        out[1] = a[1] * len;\n    }\n    return out;\n};\n\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} dot product of a and b\n */\nvec2.dot = function (a, b) {\n    return a[0] * b[0] + a[1] * b[1];\n};\n\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec3} out\n */\nvec2.cross = function(out, a, b) {\n    var z = a[0] * b[1] - a[1] * b[0];\n    out[0] = out[1] = 0;\n    out[2] = z;\n    return out;\n};\n\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec2} out\n */\nvec2.lerp = function (out, a, b, t) {\n    var ax = a[0],\n        ay = a[1];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    return out;\n};\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\nvec2.random = function (out, scale) {\n    scale = scale || 1.0;\n    var r = GLMAT_RANDOM() * 2.0 * Math.PI;\n    out[0] = Math.cos(r) * scale;\n    out[1] = Math.sin(r) * scale;\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2} m matrix to transform with\n * @returns {vec2} out\n */\nvec2.transformMat2 = function(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[2] * y;\n    out[1] = m[1] * x + m[3] * y;\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2d} m matrix to transform with\n * @returns {vec2} out\n */\nvec2.transformMat2d = function(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[2] * y + m[4];\n    out[1] = m[1] * x + m[3] * y + m[5];\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat3} m matrix to transform with\n * @returns {vec2} out\n */\nvec2.transformMat3 = function(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[3] * y + m[6];\n    out[1] = m[1] * x + m[4] * y + m[7];\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec2} out\n */\nvec2.transformMat4 = function(out, a, m) {\n    var x = a[0], \n        y = a[1];\n    out[0] = m[0] * x + m[4] * y + m[12];\n    out[1] = m[1] * x + m[5] * y + m[13];\n    return out;\n};\n\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvec2.forEach = (function() {\n    var vec = vec2.create();\n\n    return function(a, stride, offset, count, fn, arg) {\n        var i, l;\n        if(!stride) {\n            stride = 2;\n        }\n\n        if(!offset) {\n            offset = 0;\n        }\n        \n        if(count) {\n            l = Math.min((count * stride) + offset, a.length);\n        } else {\n            l = a.length;\n        }\n\n        for(i = offset; i < l; i += stride) {\n            vec[0] = a[i]; vec[1] = a[i+1];\n            fn(vec, vec, arg);\n            a[i] = vec[0]; a[i+1] = vec[1];\n        }\n        \n        return a;\n    };\n})();\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec2} vec vector to represent as a string\n * @returns {String} string representation of the vector\n */\nvec2.str = function (a) {\n    return 'vec2(' + a[0] + ', ' + a[1] + ')';\n};\n\nif(typeof(exports) !== 'undefined') {\n    exports.vec2 = vec2;\n}\n;\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n/**\n * @class 3 Dimensional Vector\n * @name vec3\n */\n\nvar vec3 = {};\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\nvec3.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(3);\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    return out;\n};\n\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {vec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\nvec3.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(3);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    return out;\n};\n\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\nvec3.fromValues = function(x, y, z) {\n    var out = new GLMAT_ARRAY_TYPE(3);\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    return out;\n};\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\nvec3.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    return out;\n};\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\nvec3.set = function(out, x, y, z) {\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    return out;\n};\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.add = function(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    return out;\n};\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.subtract = function(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    return out;\n};\n\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\nvec3.sub = vec3.subtract;\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.multiply = function(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    out[2] = a[2] * b[2];\n    return out;\n};\n\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\nvec3.mul = vec3.multiply;\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.divide = function(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    out[2] = a[2] / b[2];\n    return out;\n};\n\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\nvec3.div = vec3.divide;\n\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.min = function(out, a, b) {\n    out[0] = Math.min(a[0], b[0]);\n    out[1] = Math.min(a[1], b[1]);\n    out[2] = Math.min(a[2], b[2]);\n    return out;\n};\n\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.max = function(out, a, b) {\n    out[0] = Math.max(a[0], b[0]);\n    out[1] = Math.max(a[1], b[1]);\n    out[2] = Math.max(a[2], b[2]);\n    return out;\n};\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\nvec3.scale = function(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    return out;\n};\n\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\nvec3.scaleAndAdd = function(out, a, b, scale) {\n    out[0] = a[0] + (b[0] * scale);\n    out[1] = a[1] + (b[1] * scale);\n    out[2] = a[2] + (b[2] * scale);\n    return out;\n};\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\nvec3.distance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2];\n    return Math.sqrt(x*x + y*y + z*z);\n};\n\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\nvec3.dist = vec3.distance;\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\nvec3.squaredDistance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2];\n    return x*x + y*y + z*z;\n};\n\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\nvec3.sqrDist = vec3.squaredDistance;\n\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\nvec3.length = function (a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2];\n    return Math.sqrt(x*x + y*y + z*z);\n};\n\n/**\n * Alias for {@link vec3.length}\n * @function\n */\nvec3.len = vec3.length;\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nvec3.squaredLength = function (a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2];\n    return x*x + y*y + z*z;\n};\n\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\nvec3.sqrLen = vec3.squaredLength;\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\nvec3.negate = function(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    return out;\n};\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nvec3.normalize = function(out, a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2];\n    var len = x*x + y*y + z*z;\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len);\n        out[0] = a[0] * len;\n        out[1] = a[1] * len;\n        out[2] = a[2] * len;\n    }\n    return out;\n};\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\nvec3.dot = function (a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n};\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.cross = function(out, a, b) {\n    var ax = a[0], ay = a[1], az = a[2],\n        bx = b[0], by = b[1], bz = b[2];\n\n    out[0] = ay * bz - az * by;\n    out[1] = az * bx - ax * bz;\n    out[2] = ax * by - ay * bx;\n    return out;\n};\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec3} out\n */\nvec3.lerp = function (out, a, b, t) {\n    var ax = a[0],\n        ay = a[1],\n        az = a[2];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    out[2] = az + t * (b[2] - az);\n    return out;\n};\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\nvec3.random = function (out, scale) {\n    scale = scale || 1.0;\n\n    var r = GLMAT_RANDOM() * 2.0 * Math.PI;\n    var z = (GLMAT_RANDOM() * 2.0) - 1.0;\n    var zScale = Math.sqrt(1.0-z*z) * scale;\n\n    out[0] = Math.cos(r) * zScale;\n    out[1] = Math.sin(r) * zScale;\n    out[2] = z * scale;\n    return out;\n};\n\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\nvec3.transformMat4 = function(out, a, m) {\n    var x = a[0], y = a[1], z = a[2];\n    out[0] = m[0] * x + m[4] * y + m[8] * z + m[12];\n    out[1] = m[1] * x + m[5] * y + m[9] * z + m[13];\n    out[2] = m[2] * x + m[6] * y + m[10] * z + m[14];\n    return out;\n};\n\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\nvec3.transformMat3 = function(out, a, m) {\n    var x = a[0], y = a[1], z = a[2];\n    out[0] = x * m[0] + y * m[3] + z * m[6];\n    out[1] = x * m[1] + y * m[4] + z * m[7];\n    out[2] = x * m[2] + y * m[5] + z * m[8];\n    return out;\n};\n\n/**\n * Transforms the vec3 with a quat\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\nvec3.transformQuat = function(out, a, q) {\n    // benchmarks: http://jsperf.com/quaternion-transform-vec3-implementations\n\n    var x = a[0], y = a[1], z = a[2],\n        qx = q[0], qy = q[1], qz = q[2], qw = q[3],\n\n        // calculate quat * vec\n        ix = qw * x + qy * z - qz * y,\n        iy = qw * y + qz * x - qx * z,\n        iz = qw * z + qx * y - qy * x,\n        iw = -qx * x - qy * y - qz * z;\n\n    // calculate result * inverse quat\n    out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n    out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n    out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n    return out;\n};\n\n/*\n* Rotate a 3D vector around the x-axis\n* @param {vec3} out The receiving vec3\n* @param {vec3} a The vec3 point to rotate\n* @param {vec3} b The origin of the rotation\n* @param {Number} c The angle of rotation\n* @returns {vec3} out\n*/\nvec3.rotateX = function(out, a, b, c){\n   var p = [], r=[];\n\t  //Translate point to the origin\n\t  p[0] = a[0] - b[0];\n\t  p[1] = a[1] - b[1];\n  \tp[2] = a[2] - b[2];\n\n\t  //perform rotation\n\t  r[0] = p[0];\n\t  r[1] = p[1]*Math.cos(c) - p[2]*Math.sin(c);\n\t  r[2] = p[1]*Math.sin(c) + p[2]*Math.cos(c);\n\n\t  //translate to correct position\n\t  out[0] = r[0] + b[0];\n\t  out[1] = r[1] + b[1];\n\t  out[2] = r[2] + b[2];\n\n  \treturn out;\n};\n\n/*\n* Rotate a 3D vector around the y-axis\n* @param {vec3} out The receiving vec3\n* @param {vec3} a The vec3 point to rotate\n* @param {vec3} b The origin of the rotation\n* @param {Number} c The angle of rotation\n* @returns {vec3} out\n*/\nvec3.rotateY = function(out, a, b, c){\n  \tvar p = [], r=[];\n  \t//Translate point to the origin\n  \tp[0] = a[0] - b[0];\n  \tp[1] = a[1] - b[1];\n  \tp[2] = a[2] - b[2];\n  \n  \t//perform rotation\n  \tr[0] = p[2]*Math.sin(c) + p[0]*Math.cos(c);\n  \tr[1] = p[1];\n  \tr[2] = p[2]*Math.cos(c) - p[0]*Math.sin(c);\n  \n  \t//translate to correct position\n  \tout[0] = r[0] + b[0];\n  \tout[1] = r[1] + b[1];\n  \tout[2] = r[2] + b[2];\n  \n  \treturn out;\n};\n\n/*\n* Rotate a 3D vector around the z-axis\n* @param {vec3} out The receiving vec3\n* @param {vec3} a The vec3 point to rotate\n* @param {vec3} b The origin of the rotation\n* @param {Number} c The angle of rotation\n* @returns {vec3} out\n*/\nvec3.rotateZ = function(out, a, b, c){\n  \tvar p = [], r=[];\n  \t//Translate point to the origin\n  \tp[0] = a[0] - b[0];\n  \tp[1] = a[1] - b[1];\n  \tp[2] = a[2] - b[2];\n  \n  \t//perform rotation\n  \tr[0] = p[0]*Math.cos(c) - p[1]*Math.sin(c);\n  \tr[1] = p[0]*Math.sin(c) + p[1]*Math.cos(c);\n  \tr[2] = p[2];\n  \n  \t//translate to correct position\n  \tout[0] = r[0] + b[0];\n  \tout[1] = r[1] + b[1];\n  \tout[2] = r[2] + b[2];\n  \n  \treturn out;\n};\n\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvec3.forEach = (function() {\n    var vec = vec3.create();\n\n    return function(a, stride, offset, count, fn, arg) {\n        var i, l;\n        if(!stride) {\n            stride = 3;\n        }\n\n        if(!offset) {\n            offset = 0;\n        }\n        \n        if(count) {\n            l = Math.min((count * stride) + offset, a.length);\n        } else {\n            l = a.length;\n        }\n\n        for(i = offset; i < l; i += stride) {\n            vec[0] = a[i]; vec[1] = a[i+1]; vec[2] = a[i+2];\n            fn(vec, vec, arg);\n            a[i] = vec[0]; a[i+1] = vec[1]; a[i+2] = vec[2];\n        }\n        \n        return a;\n    };\n})();\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec3} vec vector to represent as a string\n * @returns {String} string representation of the vector\n */\nvec3.str = function (a) {\n    return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n};\n\nif(typeof(exports) !== 'undefined') {\n    exports.vec3 = vec3;\n}\n;\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n/**\n * @class 4 Dimensional Vector\n * @name vec4\n */\n\nvar vec4 = {};\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\nvec4.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    return out;\n};\n\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {vec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\nvec4.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\nvec4.fromValues = function(x, y, z, w) {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = w;\n    return out;\n};\n\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the source vector\n * @returns {vec4} out\n */\nvec4.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\nvec4.set = function(out, x, y, z, w) {\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = w;\n    return out;\n};\n\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.add = function(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    return out;\n};\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.subtract = function(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    out[3] = a[3] - b[3];\n    return out;\n};\n\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\nvec4.sub = vec4.subtract;\n\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.multiply = function(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    out[2] = a[2] * b[2];\n    out[3] = a[3] * b[3];\n    return out;\n};\n\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\nvec4.mul = vec4.multiply;\n\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.divide = function(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    out[2] = a[2] / b[2];\n    out[3] = a[3] / b[3];\n    return out;\n};\n\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\nvec4.div = vec4.divide;\n\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.min = function(out, a, b) {\n    out[0] = Math.min(a[0], b[0]);\n    out[1] = Math.min(a[1], b[1]);\n    out[2] = Math.min(a[2], b[2]);\n    out[3] = Math.min(a[3], b[3]);\n    return out;\n};\n\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.max = function(out, a, b) {\n    out[0] = Math.max(a[0], b[0]);\n    out[1] = Math.max(a[1], b[1]);\n    out[2] = Math.max(a[2], b[2]);\n    out[3] = Math.max(a[3], b[3]);\n    return out;\n};\n\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\nvec4.scale = function(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    return out;\n};\n\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\nvec4.scaleAndAdd = function(out, a, b, scale) {\n    out[0] = a[0] + (b[0] * scale);\n    out[1] = a[1] + (b[1] * scale);\n    out[2] = a[2] + (b[2] * scale);\n    out[3] = a[3] + (b[3] * scale);\n    return out;\n};\n\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} distance between a and b\n */\nvec4.distance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2],\n        w = b[3] - a[3];\n    return Math.sqrt(x*x + y*y + z*z + w*w);\n};\n\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\nvec4.dist = vec4.distance;\n\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\nvec4.squaredDistance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2],\n        w = b[3] - a[3];\n    return x*x + y*y + z*z + w*w;\n};\n\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\nvec4.sqrDist = vec4.squaredDistance;\n\n/**\n * Calculates the length of a vec4\n *\n * @param {vec4} a vector to calculate length of\n * @returns {Number} length of a\n */\nvec4.length = function (a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2],\n        w = a[3];\n    return Math.sqrt(x*x + y*y + z*z + w*w);\n};\n\n/**\n * Alias for {@link vec4.length}\n * @function\n */\nvec4.len = vec4.length;\n\n/**\n * Calculates the squared length of a vec4\n *\n * @param {vec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nvec4.squaredLength = function (a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2],\n        w = a[3];\n    return x*x + y*y + z*z + w*w;\n};\n\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\nvec4.sqrLen = vec4.squaredLength;\n\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to negate\n * @returns {vec4} out\n */\nvec4.negate = function(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    out[3] = -a[3];\n    return out;\n};\n\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to normalize\n * @returns {vec4} out\n */\nvec4.normalize = function(out, a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2],\n        w = a[3];\n    var len = x*x + y*y + z*z + w*w;\n    if (len > 0) {\n        len = 1 / Math.sqrt(len);\n        out[0] = a[0] * len;\n        out[1] = a[1] * len;\n        out[2] = a[2] * len;\n        out[3] = a[3] * len;\n    }\n    return out;\n};\n\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} dot product of a and b\n */\nvec4.dot = function (a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n};\n\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec4} out\n */\nvec4.lerp = function (out, a, b, t) {\n    var ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    out[2] = az + t * (b[2] - az);\n    out[3] = aw + t * (b[3] - aw);\n    return out;\n};\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\nvec4.random = function (out, scale) {\n    scale = scale || 1.0;\n\n    //TODO: This is a pretty awful way of doing this. Find something better.\n    out[0] = GLMAT_RANDOM();\n    out[1] = GLMAT_RANDOM();\n    out[2] = GLMAT_RANDOM();\n    out[3] = GLMAT_RANDOM();\n    vec4.normalize(out, out);\n    vec4.scale(out, out, scale);\n    return out;\n};\n\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec4} out\n */\nvec4.transformMat4 = function(out, a, m) {\n    var x = a[0], y = a[1], z = a[2], w = a[3];\n    out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n    out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n    out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n    out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n    return out;\n};\n\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec4} out\n */\nvec4.transformQuat = function(out, a, q) {\n    var x = a[0], y = a[1], z = a[2],\n        qx = q[0], qy = q[1], qz = q[2], qw = q[3],\n\n        // calculate quat * vec\n        ix = qw * x + qy * z - qz * y,\n        iy = qw * y + qz * x - qx * z,\n        iz = qw * z + qx * y - qy * x,\n        iw = -qx * x - qy * y - qz * z;\n\n    // calculate result * inverse quat\n    out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n    out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n    out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n    return out;\n};\n\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvec4.forEach = (function() {\n    var vec = vec4.create();\n\n    return function(a, stride, offset, count, fn, arg) {\n        var i, l;\n        if(!stride) {\n            stride = 4;\n        }\n\n        if(!offset) {\n            offset = 0;\n        }\n        \n        if(count) {\n            l = Math.min((count * stride) + offset, a.length);\n        } else {\n            l = a.length;\n        }\n\n        for(i = offset; i < l; i += stride) {\n            vec[0] = a[i]; vec[1] = a[i+1]; vec[2] = a[i+2]; vec[3] = a[i+3];\n            fn(vec, vec, arg);\n            a[i] = vec[0]; a[i+1] = vec[1]; a[i+2] = vec[2]; a[i+3] = vec[3];\n        }\n        \n        return a;\n    };\n})();\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec4} vec vector to represent as a string\n * @returns {String} string representation of the vector\n */\nvec4.str = function (a) {\n    return 'vec4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n};\n\nif(typeof(exports) !== 'undefined') {\n    exports.vec4 = vec4;\n}\n;\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n/**\n * @class 2x2 Matrix\n * @name mat2\n */\n\nvar mat2 = {};\n\n/**\n * Creates a new identity mat2\n *\n * @returns {mat2} a new 2x2 matrix\n */\nmat2.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n};\n\n/**\n * Creates a new mat2 initialized with values from an existing matrix\n *\n * @param {mat2} a matrix to clone\n * @returns {mat2} a new 2x2 matrix\n */\nmat2.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Copy the values from one mat2 to another\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nmat2.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Set a mat2 to the identity matrix\n *\n * @param {mat2} out the receiving matrix\n * @returns {mat2} out\n */\nmat2.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n};\n\n/**\n * Transpose the values of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nmat2.transpose = function(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        var a1 = a[1];\n        out[1] = a[2];\n        out[2] = a1;\n    } else {\n        out[0] = a[0];\n        out[1] = a[2];\n        out[2] = a[1];\n        out[3] = a[3];\n    }\n    \n    return out;\n};\n\n/**\n * Inverts a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nmat2.invert = function(out, a) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n\n        // Calculate the determinant\n        det = a0 * a3 - a2 * a1;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n    \n    out[0] =  a3 * det;\n    out[1] = -a1 * det;\n    out[2] = -a2 * det;\n    out[3] =  a0 * det;\n\n    return out;\n};\n\n/**\n * Calculates the adjugate of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nmat2.adjoint = function(out, a) {\n    // Caching this value is nessecary if out == a\n    var a0 = a[0];\n    out[0] =  a[3];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    out[3] =  a0;\n\n    return out;\n};\n\n/**\n * Calculates the determinant of a mat2\n *\n * @param {mat2} a the source matrix\n * @returns {Number} determinant of a\n */\nmat2.determinant = function (a) {\n    return a[0] * a[3] - a[2] * a[1];\n};\n\n/**\n * Multiplies two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the first operand\n * @param {mat2} b the second operand\n * @returns {mat2} out\n */\nmat2.multiply = function (out, a, b) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n    out[0] = a0 * b0 + a2 * b1;\n    out[1] = a1 * b0 + a3 * b1;\n    out[2] = a0 * b2 + a2 * b3;\n    out[3] = a1 * b2 + a3 * b3;\n    return out;\n};\n\n/**\n * Alias for {@link mat2.multiply}\n * @function\n */\nmat2.mul = mat2.multiply;\n\n/**\n * Rotates a mat2 by the given angle\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\nmat2.rotate = function (out, a, rad) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n        s = Math.sin(rad),\n        c = Math.cos(rad);\n    out[0] = a0 *  c + a2 * s;\n    out[1] = a1 *  c + a3 * s;\n    out[2] = a0 * -s + a2 * c;\n    out[3] = a1 * -s + a3 * c;\n    return out;\n};\n\n/**\n * Scales the mat2 by the dimensions in the given vec2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat2} out\n **/\nmat2.scale = function(out, a, v) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n        v0 = v[0], v1 = v[1];\n    out[0] = a0 * v0;\n    out[1] = a1 * v0;\n    out[2] = a2 * v1;\n    out[3] = a3 * v1;\n    return out;\n};\n\n/**\n * Returns a string representation of a mat2\n *\n * @param {mat2} mat matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nmat2.str = function (a) {\n    return 'mat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n};\n\n/**\n * Returns Frobenius norm of a mat2\n *\n * @param {mat2} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nmat2.frob = function (a) {\n    return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2)))\n};\n\n/**\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\n * @param {mat2} L the lower triangular matrix \n * @param {mat2} D the diagonal matrix \n * @param {mat2} U the upper triangular matrix \n * @param {mat2} a the input matrix to factorize\n */\n\nmat2.LDU = function (L, D, U, a) { \n    L[2] = a[2]/a[0]; \n    U[0] = a[0]; \n    U[1] = a[1]; \n    U[3] = a[3] - L[2] * U[1]; \n    return [L, D, U];       \n}; \n\nif(typeof(exports) !== 'undefined') {\n    exports.mat2 = mat2;\n}\n;\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n/**\n * @class 2x3 Matrix\n * @name mat2d\n * \n * @description \n * A mat2d contains six elements defined as:\n * <pre>\n * [a, c, tx,\n *  b, d, ty]\n * </pre>\n * This is a short form for the 3x3 matrix:\n * <pre>\n * [a, c, tx,\n *  b, d, ty,\n *  0, 0, 1]\n * </pre>\n * The last row is ignored so the array is shorter and operations are faster.\n */\n\nvar mat2d = {};\n\n/**\n * Creates a new identity mat2d\n *\n * @returns {mat2d} a new 2x3 matrix\n */\nmat2d.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(6);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n};\n\n/**\n * Creates a new mat2d initialized with values from an existing matrix\n *\n * @param {mat2d} a matrix to clone\n * @returns {mat2d} a new 2x3 matrix\n */\nmat2d.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(6);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    return out;\n};\n\n/**\n * Copy the values from one mat2d to another\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the source matrix\n * @returns {mat2d} out\n */\nmat2d.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    return out;\n};\n\n/**\n * Set a mat2d to the identity matrix\n *\n * @param {mat2d} out the receiving matrix\n * @returns {mat2d} out\n */\nmat2d.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n};\n\n/**\n * Inverts a mat2d\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the source matrix\n * @returns {mat2d} out\n */\nmat2d.invert = function(out, a) {\n    var aa = a[0], ab = a[1], ac = a[2], ad = a[3],\n        atx = a[4], aty = a[5];\n\n    var det = aa * ad - ab * ac;\n    if(!det){\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = ad * det;\n    out[1] = -ab * det;\n    out[2] = -ac * det;\n    out[3] = aa * det;\n    out[4] = (ac * aty - ad * atx) * det;\n    out[5] = (ab * atx - aa * aty) * det;\n    return out;\n};\n\n/**\n * Calculates the determinant of a mat2d\n *\n * @param {mat2d} a the source matrix\n * @returns {Number} determinant of a\n */\nmat2d.determinant = function (a) {\n    return a[0] * a[3] - a[1] * a[2];\n};\n\n/**\n * Multiplies two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the first operand\n * @param {mat2d} b the second operand\n * @returns {mat2d} out\n */\nmat2d.multiply = function (out, a, b) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5],\n        b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5];\n    out[0] = a0 * b0 + a2 * b1;\n    out[1] = a1 * b0 + a3 * b1;\n    out[2] = a0 * b2 + a2 * b3;\n    out[3] = a1 * b2 + a3 * b3;\n    out[4] = a0 * b4 + a2 * b5 + a4;\n    out[5] = a1 * b4 + a3 * b5 + a5;\n    return out;\n};\n\n/**\n * Alias for {@link mat2d.multiply}\n * @function\n */\nmat2d.mul = mat2d.multiply;\n\n\n/**\n * Rotates a mat2d by the given angle\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\nmat2d.rotate = function (out, a, rad) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5],\n        s = Math.sin(rad),\n        c = Math.cos(rad);\n    out[0] = a0 *  c + a2 * s;\n    out[1] = a1 *  c + a3 * s;\n    out[2] = a0 * -s + a2 * c;\n    out[3] = a1 * -s + a3 * c;\n    out[4] = a4;\n    out[5] = a5;\n    return out;\n};\n\n/**\n * Scales the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the matrix to translate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat2d} out\n **/\nmat2d.scale = function(out, a, v) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5],\n        v0 = v[0], v1 = v[1];\n    out[0] = a0 * v0;\n    out[1] = a1 * v0;\n    out[2] = a2 * v1;\n    out[3] = a3 * v1;\n    out[4] = a4;\n    out[5] = a5;\n    return out;\n};\n\n/**\n * Translates the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the matrix to translate\n * @param {vec2} v the vec2 to translate the matrix by\n * @returns {mat2d} out\n **/\nmat2d.translate = function(out, a, v) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5],\n        v0 = v[0], v1 = v[1];\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = a0 * v0 + a2 * v1 + a4;\n    out[5] = a1 * v0 + a3 * v1 + a5;\n    return out;\n};\n\n/**\n * Returns a string representation of a mat2d\n *\n * @param {mat2d} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nmat2d.str = function (a) {\n    return 'mat2d(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + \n                    a[3] + ', ' + a[4] + ', ' + a[5] + ')';\n};\n\n/**\n * Returns Frobenius norm of a mat2d\n *\n * @param {mat2d} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nmat2d.frob = function (a) { \n    return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + 1))\n}; \n\nif(typeof(exports) !== 'undefined') {\n    exports.mat2d = mat2d;\n}\n;\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n/**\n * @class 3x3 Matrix\n * @name mat3\n */\n\nvar mat3 = {};\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\nmat3.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(9);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 1;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 1;\n    return out;\n};\n\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\nmat3.fromMat4 = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[4];\n    out[4] = a[5];\n    out[5] = a[6];\n    out[6] = a[8];\n    out[7] = a[9];\n    out[8] = a[10];\n    return out;\n};\n\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {mat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\nmat3.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(9);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n};\n\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nmat3.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n};\n\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nmat3.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 1;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 1;\n    return out;\n};\n\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nmat3.transpose = function(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        var a01 = a[1], a02 = a[2], a12 = a[5];\n        out[1] = a[3];\n        out[2] = a[6];\n        out[3] = a01;\n        out[5] = a[7];\n        out[6] = a02;\n        out[7] = a12;\n    } else {\n        out[0] = a[0];\n        out[1] = a[3];\n        out[2] = a[6];\n        out[3] = a[1];\n        out[4] = a[4];\n        out[5] = a[7];\n        out[6] = a[2];\n        out[7] = a[5];\n        out[8] = a[8];\n    }\n    \n    return out;\n};\n\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nmat3.invert = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n\n        b01 = a22 * a11 - a12 * a21,\n        b11 = -a22 * a10 + a12 * a20,\n        b21 = a21 * a10 - a11 * a20,\n\n        // Calculate the determinant\n        det = a00 * b01 + a01 * b11 + a02 * b21;\n\n    if (!det) { \n        return null; \n    }\n    det = 1.0 / det;\n\n    out[0] = b01 * det;\n    out[1] = (-a22 * a01 + a02 * a21) * det;\n    out[2] = (a12 * a01 - a02 * a11) * det;\n    out[3] = b11 * det;\n    out[4] = (a22 * a00 - a02 * a20) * det;\n    out[5] = (-a12 * a00 + a02 * a10) * det;\n    out[6] = b21 * det;\n    out[7] = (-a21 * a00 + a01 * a20) * det;\n    out[8] = (a11 * a00 - a01 * a10) * det;\n    return out;\n};\n\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nmat3.adjoint = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8];\n\n    out[0] = (a11 * a22 - a12 * a21);\n    out[1] = (a02 * a21 - a01 * a22);\n    out[2] = (a01 * a12 - a02 * a11);\n    out[3] = (a12 * a20 - a10 * a22);\n    out[4] = (a00 * a22 - a02 * a20);\n    out[5] = (a02 * a10 - a00 * a12);\n    out[6] = (a10 * a21 - a11 * a20);\n    out[7] = (a01 * a20 - a00 * a21);\n    out[8] = (a00 * a11 - a01 * a10);\n    return out;\n};\n\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\nmat3.determinant = function (a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8];\n\n    return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n};\n\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nmat3.multiply = function (out, a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n\n        b00 = b[0], b01 = b[1], b02 = b[2],\n        b10 = b[3], b11 = b[4], b12 = b[5],\n        b20 = b[6], b21 = b[7], b22 = b[8];\n\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return out;\n};\n\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\nmat3.mul = mat3.multiply;\n\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\nmat3.translate = function(out, a, v) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n        x = v[0], y = v[1];\n\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n\n    out[3] = a10;\n    out[4] = a11;\n    out[5] = a12;\n\n    out[6] = x * a00 + y * a10 + a20;\n    out[7] = x * a01 + y * a11 + a21;\n    out[8] = x * a02 + y * a12 + a22;\n    return out;\n};\n\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nmat3.rotate = function (out, a, rad) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n\n        s = Math.sin(rad),\n        c = Math.cos(rad);\n\n    out[0] = c * a00 + s * a10;\n    out[1] = c * a01 + s * a11;\n    out[2] = c * a02 + s * a12;\n\n    out[3] = c * a10 - s * a00;\n    out[4] = c * a11 - s * a01;\n    out[5] = c * a12 - s * a02;\n\n    out[6] = a20;\n    out[7] = a21;\n    out[8] = a22;\n    return out;\n};\n\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\nmat3.scale = function(out, a, v) {\n    var x = v[0], y = v[1];\n\n    out[0] = x * a[0];\n    out[1] = x * a[1];\n    out[2] = x * a[2];\n\n    out[3] = y * a[3];\n    out[4] = y * a[4];\n    out[5] = y * a[5];\n\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n};\n\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat2d} a the matrix to copy\n * @returns {mat3} out\n **/\nmat3.fromMat2d = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = 0;\n\n    out[3] = a[2];\n    out[4] = a[3];\n    out[5] = 0;\n\n    out[6] = a[4];\n    out[7] = a[5];\n    out[8] = 1;\n    return out;\n};\n\n/**\n* Calculates a 3x3 matrix from the given quaternion\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {quat} q Quaternion to create matrix from\n*\n* @returns {mat3} out\n*/\nmat3.fromQuat = function (out, q) {\n    var x = q[0], y = q[1], z = q[2], w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n\n        xx = x * x2,\n        yx = y * x2,\n        yy = y * y2,\n        zx = z * x2,\n        zy = z * y2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n\n    out[0] = 1 - yy - zz;\n    out[3] = yx - wz;\n    out[6] = zx + wy;\n\n    out[1] = yx + wz;\n    out[4] = 1 - xx - zz;\n    out[7] = zy - wx;\n\n    out[2] = zx - wy;\n    out[5] = zy + wx;\n    out[8] = 1 - xx - yy;\n\n    return out;\n};\n\n/**\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {mat4} a Mat4 to derive the normal matrix from\n*\n* @returns {mat3} out\n*/\nmat3.normalFromMat4 = function (out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\n\n        b00 = a00 * a11 - a01 * a10,\n        b01 = a00 * a12 - a02 * a10,\n        b02 = a00 * a13 - a03 * a10,\n        b03 = a01 * a12 - a02 * a11,\n        b04 = a01 * a13 - a03 * a11,\n        b05 = a02 * a13 - a03 * a12,\n        b06 = a20 * a31 - a21 * a30,\n        b07 = a20 * a32 - a22 * a30,\n        b08 = a20 * a33 - a23 * a30,\n        b09 = a21 * a32 - a22 * a31,\n        b10 = a21 * a33 - a23 * a31,\n        b11 = a22 * a33 - a23 * a32,\n\n        // Calculate the determinant\n        det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) { \n        return null; \n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\n    out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\n    out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\n    return out;\n};\n\n/**\n * Returns a string representation of a mat3\n *\n * @param {mat3} mat matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nmat3.str = function (a) {\n    return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + \n                    a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + \n                    a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n};\n\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {mat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nmat3.frob = function (a) {\n    return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2)))\n};\n\n\nif(typeof(exports) !== 'undefined') {\n    exports.mat3 = mat3;\n}\n;\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n/**\n * @class 4x4 Matrix\n * @name mat4\n */\n\nvar mat4 = {};\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\nmat4.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(16);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n};\n\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {mat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\nmat4.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(16);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n};\n\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n};\n\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\nmat4.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n};\n\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.transpose = function(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        var a01 = a[1], a02 = a[2], a03 = a[3],\n            a12 = a[6], a13 = a[7],\n            a23 = a[11];\n\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a01;\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a02;\n        out[9] = a12;\n        out[11] = a[14];\n        out[12] = a03;\n        out[13] = a13;\n        out[14] = a23;\n    } else {\n        out[0] = a[0];\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a[1];\n        out[5] = a[5];\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a[2];\n        out[9] = a[6];\n        out[10] = a[10];\n        out[11] = a[14];\n        out[12] = a[3];\n        out[13] = a[7];\n        out[14] = a[11];\n        out[15] = a[15];\n    }\n    \n    return out;\n};\n\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.invert = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\n\n        b00 = a00 * a11 - a01 * a10,\n        b01 = a00 * a12 - a02 * a10,\n        b02 = a00 * a13 - a03 * a10,\n        b03 = a01 * a12 - a02 * a11,\n        b04 = a01 * a13 - a03 * a11,\n        b05 = a02 * a13 - a03 * a12,\n        b06 = a20 * a31 - a21 * a30,\n        b07 = a20 * a32 - a22 * a30,\n        b08 = a20 * a33 - a23 * a30,\n        b09 = a21 * a32 - a22 * a31,\n        b10 = a21 * a33 - a23 * a31,\n        b11 = a22 * a33 - a23 * a32,\n\n        // Calculate the determinant\n        det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) { \n        return null; \n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n\n    return out;\n};\n\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.adjoint = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n    out[0]  =  (a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22));\n    out[1]  = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n    out[2]  =  (a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12));\n    out[3]  = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n    out[4]  = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n    out[5]  =  (a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22));\n    out[6]  = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n    out[7]  =  (a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12));\n    out[8]  =  (a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21));\n    out[9]  = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n    out[10] =  (a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11));\n    out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n    out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n    out[13] =  (a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21));\n    out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n    out[15] =  (a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11));\n    return out;\n};\n\n/**\n * Calculates the determinant of a mat4\n *\n * @param {mat4} a the source matrix\n * @returns {Number} determinant of a\n */\nmat4.determinant = function (a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\n\n        b00 = a00 * a11 - a01 * a10,\n        b01 = a00 * a12 - a02 * a10,\n        b02 = a00 * a13 - a03 * a10,\n        b03 = a01 * a12 - a02 * a11,\n        b04 = a01 * a13 - a03 * a11,\n        b05 = a02 * a13 - a03 * a12,\n        b06 = a20 * a31 - a21 * a30,\n        b07 = a20 * a32 - a22 * a30,\n        b08 = a20 * a33 - a23 * a30,\n        b09 = a21 * a32 - a22 * a31,\n        b10 = a21 * a33 - a23 * a31,\n        b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n};\n\n/**\n * Multiplies two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nmat4.multiply = function (out, a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n    // Cache only the current line of the second matrix\n    var b0  = b[0], b1 = b[1], b2 = b[2], b3 = b[3];  \n    out[0] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[1] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[2] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[3] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[4]; b1 = b[5]; b2 = b[6]; b3 = b[7];\n    out[4] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[5] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[6] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[7] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[8]; b1 = b[9]; b2 = b[10]; b3 = b[11];\n    out[8] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[9] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[10] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[11] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[12]; b1 = b[13]; b2 = b[14]; b3 = b[15];\n    out[12] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[13] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[14] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[15] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n    return out;\n};\n\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\nmat4.mul = mat4.multiply;\n\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to translate\n * @param {vec3} v vector to translate by\n * @returns {mat4} out\n */\nmat4.translate = function (out, a, v) {\n    var x = v[0], y = v[1], z = v[2],\n        a00, a01, a02, a03,\n        a10, a11, a12, a13,\n        a20, a21, a22, a23;\n\n    if (a === out) {\n        out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n        out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n        out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n        out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n    } else {\n        a00 = a[0]; a01 = a[1]; a02 = a[2]; a03 = a[3];\n        a10 = a[4]; a11 = a[5]; a12 = a[6]; a13 = a[7];\n        a20 = a[8]; a21 = a[9]; a22 = a[10]; a23 = a[11];\n\n        out[0] = a00; out[1] = a01; out[2] = a02; out[3] = a03;\n        out[4] = a10; out[5] = a11; out[6] = a12; out[7] = a13;\n        out[8] = a20; out[9] = a21; out[10] = a22; out[11] = a23;\n\n        out[12] = a00 * x + a10 * y + a20 * z + a[12];\n        out[13] = a01 * x + a11 * y + a21 * z + a[13];\n        out[14] = a02 * x + a12 * y + a22 * z + a[14];\n        out[15] = a03 * x + a13 * y + a23 * z + a[15];\n    }\n\n    return out;\n};\n\n/**\n * Scales the mat4 by the dimensions in the given vec3\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {vec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\nmat4.scale = function(out, a, v) {\n    var x = v[0], y = v[1], z = v[2];\n\n    out[0] = a[0] * x;\n    out[1] = a[1] * x;\n    out[2] = a[2] * x;\n    out[3] = a[3] * x;\n    out[4] = a[4] * y;\n    out[5] = a[5] * y;\n    out[6] = a[6] * y;\n    out[7] = a[7] * y;\n    out[8] = a[8] * z;\n    out[9] = a[9] * z;\n    out[10] = a[10] * z;\n    out[11] = a[11] * z;\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n};\n\n/**\n * Rotates a mat4 by the given angle\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {vec3} axis the axis to rotate around\n * @returns {mat4} out\n */\nmat4.rotate = function (out, a, rad, axis) {\n    var x = axis[0], y = axis[1], z = axis[2],\n        len = Math.sqrt(x * x + y * y + z * z),\n        s, c, t,\n        a00, a01, a02, a03,\n        a10, a11, a12, a13,\n        a20, a21, a22, a23,\n        b00, b01, b02,\n        b10, b11, b12,\n        b20, b21, b22;\n\n    if (Math.abs(len) < GLMAT_EPSILON) { return null; }\n    \n    len = 1 / len;\n    x *= len;\n    y *= len;\n    z *= len;\n\n    s = Math.sin(rad);\n    c = Math.cos(rad);\n    t = 1 - c;\n\n    a00 = a[0]; a01 = a[1]; a02 = a[2]; a03 = a[3];\n    a10 = a[4]; a11 = a[5]; a12 = a[6]; a13 = a[7];\n    a20 = a[8]; a21 = a[9]; a22 = a[10]; a23 = a[11];\n\n    // Construct the elements of the rotation matrix\n    b00 = x * x * t + c; b01 = y * x * t + z * s; b02 = z * x * t - y * s;\n    b10 = x * y * t - z * s; b11 = y * y * t + c; b12 = z * y * t + x * s;\n    b20 = x * z * t + y * s; b21 = y * z * t - x * s; b22 = z * z * t + c;\n\n    // Perform rotation-specific matrix multiplication\n    out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n    out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n    out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n    out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n    out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n    out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n    out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n    out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n    out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n    out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n    out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n    out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged last row\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.rotateX = function (out, a, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad),\n        a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7],\n        a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged rows\n        out[0]  = a[0];\n        out[1]  = a[1];\n        out[2]  = a[2];\n        out[3]  = a[3];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    out[4] = a10 * c + a20 * s;\n    out[5] = a11 * c + a21 * s;\n    out[6] = a12 * c + a22 * s;\n    out[7] = a13 * c + a23 * s;\n    out[8] = a20 * c - a10 * s;\n    out[9] = a21 * c - a11 * s;\n    out[10] = a22 * c - a12 * s;\n    out[11] = a23 * c - a13 * s;\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.rotateY = function (out, a, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad),\n        a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3],\n        a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged rows\n        out[4]  = a[4];\n        out[5]  = a[5];\n        out[6]  = a[6];\n        out[7]  = a[7];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    out[0] = a00 * c - a20 * s;\n    out[1] = a01 * c - a21 * s;\n    out[2] = a02 * c - a22 * s;\n    out[3] = a03 * c - a23 * s;\n    out[8] = a00 * s + a20 * c;\n    out[9] = a01 * s + a21 * c;\n    out[10] = a02 * s + a22 * c;\n    out[11] = a03 * s + a23 * c;\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.rotateZ = function (out, a, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad),\n        a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3],\n        a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged last row\n        out[8]  = a[8];\n        out[9]  = a[9];\n        out[10] = a[10];\n        out[11] = a[11];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    out[0] = a00 * c + a10 * s;\n    out[1] = a01 * c + a11 * s;\n    out[2] = a02 * c + a12 * s;\n    out[3] = a03 * c + a13 * s;\n    out[4] = a10 * c - a00 * s;\n    out[5] = a11 * c - a01 * s;\n    out[6] = a12 * c - a02 * s;\n    out[7] = a13 * c - a03 * s;\n    return out;\n};\n\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     var quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @returns {mat4} out\n */\nmat4.fromRotationTranslation = function (out, q, v) {\n    // Quaternion math\n    var x = q[0], y = q[1], z = q[2], w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n\n        xx = x * x2,\n        xy = x * y2,\n        xz = x * z2,\n        yy = y * y2,\n        yz = y * z2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n\n    out[0] = 1 - (yy + zz);\n    out[1] = xy + wz;\n    out[2] = xz - wy;\n    out[3] = 0;\n    out[4] = xy - wz;\n    out[5] = 1 - (xx + zz);\n    out[6] = yz + wx;\n    out[7] = 0;\n    out[8] = xz + wy;\n    out[9] = yz - wx;\n    out[10] = 1 - (xx + yy);\n    out[11] = 0;\n    out[12] = v[0];\n    out[13] = v[1];\n    out[14] = v[2];\n    out[15] = 1;\n    \n    return out;\n};\n\nmat4.fromQuat = function (out, q) {\n    var x = q[0], y = q[1], z = q[2], w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n\n        xx = x * x2,\n        yx = y * x2,\n        yy = y * y2,\n        zx = z * x2,\n        zy = z * y2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n\n    out[0] = 1 - yy - zz;\n    out[1] = yx + wz;\n    out[2] = zx - wy;\n    out[3] = 0;\n\n    out[4] = yx - wz;\n    out[5] = 1 - xx - zz;\n    out[6] = zy + wx;\n    out[7] = 0;\n\n    out[8] = zx + wy;\n    out[9] = zy - wx;\n    out[10] = 1 - xx - yy;\n    out[11] = 0;\n\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n\n    return out;\n};\n\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\nmat4.frustum = function (out, left, right, bottom, top, near, far) {\n    var rl = 1 / (right - left),\n        tb = 1 / (top - bottom),\n        nf = 1 / (near - far);\n    out[0] = (near * 2) * rl;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = (near * 2) * tb;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = (right + left) * rl;\n    out[9] = (top + bottom) * tb;\n    out[10] = (far + near) * nf;\n    out[11] = -1;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = (far * near * 2) * nf;\n    out[15] = 0;\n    return out;\n};\n\n/**\n * Generates a perspective projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nmat4.perspective = function (out, fovy, aspect, near, far) {\n    var f = 1.0 / Math.tan(fovy / 2),\n        nf = 1 / (near - far);\n    out[0] = f / aspect;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = f;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = (far + near) * nf;\n    out[11] = -1;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = (2 * far * near) * nf;\n    out[15] = 0;\n    return out;\n};\n\n/**\n * Generates a orthogonal projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nmat4.ortho = function (out, left, right, bottom, top, near, far) {\n    var lr = 1 / (left - right),\n        bt = 1 / (bottom - top),\n        nf = 1 / (near - far);\n    out[0] = -2 * lr;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = -2 * bt;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 2 * nf;\n    out[11] = 0;\n    out[12] = (left + right) * lr;\n    out[13] = (top + bottom) * bt;\n    out[14] = (far + near) * nf;\n    out[15] = 1;\n    return out;\n};\n\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {vec3} eye Position of the viewer\n * @param {vec3} center Point the viewer is looking at\n * @param {vec3} up vec3 pointing up\n * @returns {mat4} out\n */\nmat4.lookAt = function (out, eye, center, up) {\n    var x0, x1, x2, y0, y1, y2, z0, z1, z2, len,\n        eyex = eye[0],\n        eyey = eye[1],\n        eyez = eye[2],\n        upx = up[0],\n        upy = up[1],\n        upz = up[2],\n        centerx = center[0],\n        centery = center[1],\n        centerz = center[2];\n\n    if (Math.abs(eyex - centerx) < GLMAT_EPSILON &&\n        Math.abs(eyey - centery) < GLMAT_EPSILON &&\n        Math.abs(eyez - centerz) < GLMAT_EPSILON) {\n        return mat4.identity(out);\n    }\n\n    z0 = eyex - centerx;\n    z1 = eyey - centery;\n    z2 = eyez - centerz;\n\n    len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n\n    x0 = upy * z2 - upz * z1;\n    x1 = upz * z0 - upx * z2;\n    x2 = upx * z1 - upy * z0;\n    len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);\n    if (!len) {\n        x0 = 0;\n        x1 = 0;\n        x2 = 0;\n    } else {\n        len = 1 / len;\n        x0 *= len;\n        x1 *= len;\n        x2 *= len;\n    }\n\n    y0 = z1 * x2 - z2 * x1;\n    y1 = z2 * x0 - z0 * x2;\n    y2 = z0 * x1 - z1 * x0;\n\n    len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);\n    if (!len) {\n        y0 = 0;\n        y1 = 0;\n        y2 = 0;\n    } else {\n        len = 1 / len;\n        y0 *= len;\n        y1 *= len;\n        y2 *= len;\n    }\n\n    out[0] = x0;\n    out[1] = y0;\n    out[2] = z0;\n    out[3] = 0;\n    out[4] = x1;\n    out[5] = y1;\n    out[6] = z1;\n    out[7] = 0;\n    out[8] = x2;\n    out[9] = y2;\n    out[10] = z2;\n    out[11] = 0;\n    out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n    out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n    out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n    out[15] = 1;\n\n    return out;\n};\n\n/**\n * Returns a string representation of a mat4\n *\n * @param {mat4} mat matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nmat4.str = function (a) {\n    return 'mat4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' +\n                    a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' +\n                    a[8] + ', ' + a[9] + ', ' + a[10] + ', ' + a[11] + ', ' + \n                    a[12] + ', ' + a[13] + ', ' + a[14] + ', ' + a[15] + ')';\n};\n\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {mat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nmat4.frob = function (a) {\n    return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2) + Math.pow(a[9], 2) + Math.pow(a[10], 2) + Math.pow(a[11], 2) + Math.pow(a[12], 2) + Math.pow(a[13], 2) + Math.pow(a[14], 2) + Math.pow(a[15], 2) ))\n};\n\n\nif(typeof(exports) !== 'undefined') {\n    exports.mat4 = mat4;\n}\n;\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation \n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n/**\n * @class Quaternion\n * @name quat\n */\n\nvar quat = {};\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\nquat.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n};\n\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {vec3} a the initial vector\n * @param {vec3} b the destination vector\n * @returns {quat} out\n */\nquat.rotationTo = (function() {\n    var tmpvec3 = vec3.create();\n    var xUnitVec3 = vec3.fromValues(1,0,0);\n    var yUnitVec3 = vec3.fromValues(0,1,0);\n\n    return function(out, a, b) {\n        var dot = vec3.dot(a, b);\n        if (dot < -0.999999) {\n            vec3.cross(tmpvec3, xUnitVec3, a);\n            if (vec3.length(tmpvec3) < 0.000001)\n                vec3.cross(tmpvec3, yUnitVec3, a);\n            vec3.normalize(tmpvec3, tmpvec3);\n            quat.setAxisAngle(out, tmpvec3, Math.PI);\n            return out;\n        } else if (dot > 0.999999) {\n            out[0] = 0;\n            out[1] = 0;\n            out[2] = 0;\n            out[3] = 1;\n            return out;\n        } else {\n            vec3.cross(tmpvec3, a, b);\n            out[0] = tmpvec3[0];\n            out[1] = tmpvec3[1];\n            out[2] = tmpvec3[2];\n            out[3] = 1 + dot;\n            return quat.normalize(out, out);\n        }\n    };\n})();\n\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {vec3} view  the vector representing the viewing direction\n * @param {vec3} right the vector representing the local \"right\" direction\n * @param {vec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\nquat.setAxes = (function() {\n    var matr = mat3.create();\n\n    return function(out, view, right, up) {\n        matr[0] = right[0];\n        matr[3] = right[1];\n        matr[6] = right[2];\n\n        matr[1] = up[0];\n        matr[4] = up[1];\n        matr[7] = up[2];\n\n        matr[2] = -view[0];\n        matr[5] = -view[1];\n        matr[8] = -view[2];\n\n        return quat.normalize(out, quat.fromMat3(out, matr));\n    };\n})();\n\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {quat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\nquat.clone = vec4.clone;\n\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\nquat.fromValues = vec4.fromValues;\n\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the source quaternion\n * @returns {quat} out\n * @function\n */\nquat.copy = vec4.copy;\n\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\nquat.set = vec4.set;\n\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\nquat.identity = function(out) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n};\n\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {vec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\nquat.setAxisAngle = function(out, axis, rad) {\n    rad = rad * 0.5;\n    var s = Math.sin(rad);\n    out[0] = s * axis[0];\n    out[1] = s * axis[1];\n    out[2] = s * axis[2];\n    out[3] = Math.cos(rad);\n    return out;\n};\n\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n * @function\n */\nquat.add = vec4.add;\n\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n */\nquat.multiply = function(out, a, b) {\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        bx = b[0], by = b[1], bz = b[2], bw = b[3];\n\n    out[0] = ax * bw + aw * bx + ay * bz - az * by;\n    out[1] = ay * bw + aw * by + az * bx - ax * bz;\n    out[2] = az * bw + aw * bz + ax * by - ay * bx;\n    out[3] = aw * bw - ax * bx - ay * by - az * bz;\n    return out;\n};\n\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\nquat.mul = quat.multiply;\n\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {quat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\nquat.scale = vec4.scale;\n\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nquat.rotateX = function (out, a, rad) {\n    rad *= 0.5; \n\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        bx = Math.sin(rad), bw = Math.cos(rad);\n\n    out[0] = ax * bw + aw * bx;\n    out[1] = ay * bw + az * bx;\n    out[2] = az * bw - ay * bx;\n    out[3] = aw * bw - ax * bx;\n    return out;\n};\n\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nquat.rotateY = function (out, a, rad) {\n    rad *= 0.5; \n\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        by = Math.sin(rad), bw = Math.cos(rad);\n\n    out[0] = ax * bw - az * by;\n    out[1] = ay * bw + aw * by;\n    out[2] = az * bw + ax * by;\n    out[3] = aw * bw - ay * by;\n    return out;\n};\n\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nquat.rotateZ = function (out, a, rad) {\n    rad *= 0.5; \n\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        bz = Math.sin(rad), bw = Math.cos(rad);\n\n    out[0] = ax * bw + ay * bz;\n    out[1] = ay * bw - ax * bz;\n    out[2] = az * bw + aw * bz;\n    out[3] = aw * bw - az * bz;\n    return out;\n};\n\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate W component of\n * @returns {quat} out\n */\nquat.calculateW = function (out, a) {\n    var x = a[0], y = a[1], z = a[2];\n\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = -Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n    return out;\n};\n\n/**\n * Calculates the dot product of two quat's\n *\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\nquat.dot = vec4.dot;\n\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n * @function\n */\nquat.lerp = vec4.lerp;\n\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n */\nquat.slerp = function (out, a, b, t) {\n    // benchmarks:\n    //    http://jsperf.com/quaternion-slerp-implementations\n\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        bx = b[0], by = b[1], bz = b[2], bw = b[3];\n\n    var        omega, cosom, sinom, scale0, scale1;\n\n    // calc cosine\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\n    // adjust signs (if necessary)\n    if ( cosom < 0.0 ) {\n        cosom = -cosom;\n        bx = - bx;\n        by = - by;\n        bz = - bz;\n        bw = - bw;\n    }\n    // calculate coefficients\n    if ( (1.0 - cosom) > 0.000001 ) {\n        // standard case (slerp)\n        omega  = Math.acos(cosom);\n        sinom  = Math.sin(omega);\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\n        scale1 = Math.sin(t * omega) / sinom;\n    } else {        \n        // \"from\" and \"to\" quaternions are very close \n        //  ... so we can do a linear interpolation\n        scale0 = 1.0 - t;\n        scale1 = t;\n    }\n    // calculate final values\n    out[0] = scale0 * ax + scale1 * bx;\n    out[1] = scale0 * ay + scale1 * by;\n    out[2] = scale0 * az + scale1 * bz;\n    out[3] = scale0 * aw + scale1 * bw;\n    \n    return out;\n};\n\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate inverse of\n * @returns {quat} out\n */\nquat.invert = function(out, a) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n        dot = a0*a0 + a1*a1 + a2*a2 + a3*a3,\n        invDot = dot ? 1.0/dot : 0;\n    \n    // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n    out[0] = -a0*invDot;\n    out[1] = -a1*invDot;\n    out[2] = -a2*invDot;\n    out[3] = a3*invDot;\n    return out;\n};\n\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate conjugate of\n * @returns {quat} out\n */\nquat.conjugate = function (out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Calculates the length of a quat\n *\n * @param {quat} a vector to calculate length of\n * @returns {Number} length of a\n * @function\n */\nquat.length = vec4.length;\n\n/**\n * Alias for {@link quat.length}\n * @function\n */\nquat.len = quat.length;\n\n/**\n * Calculates the squared length of a quat\n *\n * @param {quat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\nquat.squaredLength = vec4.squaredLength;\n\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\nquat.sqrLen = quat.squaredLength;\n\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\nquat.normalize = vec4.normalize;\n\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {mat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\nquat.fromMat3 = function(out, m) {\n    // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n    // article \"Quaternion Calculus and Fast Animation\".\n    var fTrace = m[0] + m[4] + m[8];\n    var fRoot;\n\n    if ( fTrace > 0.0 ) {\n        // |w| > 1/2, may as well choose w > 1/2\n        fRoot = Math.sqrt(fTrace + 1.0);  // 2w\n        out[3] = 0.5 * fRoot;\n        fRoot = 0.5/fRoot;  // 1/(4w)\n        out[0] = (m[7]-m[5])*fRoot;\n        out[1] = (m[2]-m[6])*fRoot;\n        out[2] = (m[3]-m[1])*fRoot;\n    } else {\n        // |w| <= 1/2\n        var i = 0;\n        if ( m[4] > m[0] )\n          i = 1;\n        if ( m[8] > m[i*3+i] )\n          i = 2;\n        var j = (i+1)%3;\n        var k = (i+2)%3;\n        \n        fRoot = Math.sqrt(m[i*3+i]-m[j*3+j]-m[k*3+k] + 1.0);\n        out[i] = 0.5 * fRoot;\n        fRoot = 0.5 / fRoot;\n        out[3] = (m[k*3+j] - m[j*3+k]) * fRoot;\n        out[j] = (m[j*3+i] + m[i*3+j]) * fRoot;\n        out[k] = (m[k*3+i] + m[i*3+k]) * fRoot;\n    }\n    \n    return out;\n};\n\n/**\n * Returns a string representation of a quatenion\n *\n * @param {quat} vec vector to represent as a string\n * @returns {String} string representation of the vector\n */\nquat.str = function (a) {\n    return 'quat(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n};\n\nif(typeof(exports) !== 'undefined') {\n    exports.quat = quat;\n}\n;\n\n\n\n\n\n\n\n\n\n\n\n\n\n  })(shim.exports);\n})(this);\n\n},{}],24:[function(require,module,exports){\n//     Underscore.js 1.4.4\n//     http://underscorejs.org\n//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `global` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Establish the object that gets returned to break out of a loop iteration.\n  var breaker = {};\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push             = ArrayProto.push,\n      slice            = ArrayProto.slice,\n      concat           = ArrayProto.concat,\n      toString         = ObjProto.toString,\n      hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeForEach      = ArrayProto.forEach,\n    nativeMap          = ArrayProto.map,\n    nativeReduce       = ArrayProto.reduce,\n    nativeReduceRight  = ArrayProto.reduceRight,\n    nativeFilter       = ArrayProto.filter,\n    nativeEvery        = ArrayProto.every,\n    nativeSome         = ArrayProto.some,\n    nativeIndexOf      = ArrayProto.indexOf,\n    nativeLastIndexOf  = ArrayProto.lastIndexOf,\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind;\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object via a string identifier,\n  // for Closure Compiler \"advanced\" mode.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.4.4';\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles objects with the built-in `forEach`, arrays, and raw objects.\n  // Delegates to **ECMAScript 5**'s native `forEach` if available.\n  var each = _.each = _.forEach = function(obj, iterator, context) {\n    if (obj == null) return;\n    if (nativeForEach && obj.forEach === nativeForEach) {\n      obj.forEach(iterator, context);\n    } else if (obj.length === +obj.length) {\n      for (var i = 0, l = obj.length; i < l; i++) {\n        if (iterator.call(context, obj[i], i, obj) === breaker) return;\n      }\n    } else {\n      for (var key in obj) {\n        if (_.has(obj, key)) {\n          if (iterator.call(context, obj[key], key, obj) === breaker) return;\n        }\n      }\n    }\n  };\n\n  // Return the results of applying the iterator to each element.\n  // Delegates to **ECMAScript 5**'s native `map` if available.\n  _.map = _.collect = function(obj, iterator, context) {\n    var results = [];\n    if (obj == null) return results;\n    if (nativeMap && obj.map === nativeMap) return obj.map(iterator, context);\n    each(obj, function(value, index, list) {\n      results[results.length] = iterator.call(context, value, index, list);\n    });\n    return results;\n  };\n\n  var reduceError = 'Reduce of empty array with no initial value';\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`. Delegates to **ECMAScript 5**'s native `reduce` if available.\n  _.reduce = _.foldl = _.inject = function(obj, iterator, memo, context) {\n    var initial = arguments.length > 2;\n    if (obj == null) obj = [];\n    if (nativeReduce && obj.reduce === nativeReduce) {\n      if (context) iterator = _.bind(iterator, context);\n      return initial ? obj.reduce(iterator, memo) : obj.reduce(iterator);\n    }\n    each(obj, function(value, index, list) {\n      if (!initial) {\n        memo = value;\n        initial = true;\n      } else {\n        memo = iterator.call(context, memo, value, index, list);\n      }\n    });\n    if (!initial) throw new TypeError(reduceError);\n    return memo;\n  };\n\n  // The right-associative version of reduce, also known as `foldr`.\n  // Delegates to **ECMAScript 5**'s native `reduceRight` if available.\n  _.reduceRight = _.foldr = function(obj, iterator, memo, context) {\n    var initial = arguments.length > 2;\n    if (obj == null) obj = [];\n    if (nativeReduceRight && obj.reduceRight === nativeReduceRight) {\n      if (context) iterator = _.bind(iterator, context);\n      return initial ? obj.reduceRight(iterator, memo) : obj.reduceRight(iterator);\n    }\n    var length = obj.length;\n    if (length !== +length) {\n      var keys = _.keys(obj);\n      length = keys.length;\n    }\n    each(obj, function(value, index, list) {\n      index = keys ? keys[--length] : --length;\n      if (!initial) {\n        memo = obj[index];\n        initial = true;\n      } else {\n        memo = iterator.call(context, memo, obj[index], index, list);\n      }\n    });\n    if (!initial) throw new TypeError(reduceError);\n    return memo;\n  };\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, iterator, context) {\n    var result;\n    any(obj, function(value, index, list) {\n      if (iterator.call(context, value, index, list)) {\n        result = value;\n        return true;\n      }\n    });\n    return result;\n  };\n\n  // Return all the elements that pass a truth test.\n  // Delegates to **ECMAScript 5**'s native `filter` if available.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, iterator, context) {\n    var results = [];\n    if (obj == null) return results;\n    if (nativeFilter && obj.filter === nativeFilter) return obj.filter(iterator, context);\n    each(obj, function(value, index, list) {\n      if (iterator.call(context, value, index, list)) results[results.length] = value;\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, iterator, context) {\n    return _.filter(obj, function(value, index, list) {\n      return !iterator.call(context, value, index, list);\n    }, context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Delegates to **ECMAScript 5**'s native `every` if available.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, iterator, context) {\n    iterator || (iterator = _.identity);\n    var result = true;\n    if (obj == null) return result;\n    if (nativeEvery && obj.every === nativeEvery) return obj.every(iterator, context);\n    each(obj, function(value, index, list) {\n      if (!(result = result && iterator.call(context, value, index, list))) return breaker;\n    });\n    return !!result;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Delegates to **ECMAScript 5**'s native `some` if available.\n  // Aliased as `any`.\n  var any = _.some = _.any = function(obj, iterator, context) {\n    iterator || (iterator = _.identity);\n    var result = false;\n    if (obj == null) return result;\n    if (nativeSome && obj.some === nativeSome) return obj.some(iterator, context);\n    each(obj, function(value, index, list) {\n      if (result || (result = iterator.call(context, value, index, list))) return breaker;\n    });\n    return !!result;\n  };\n\n  // Determine if the array or object contains a given value (using `===`).\n  // Aliased as `include`.\n  _.contains = _.include = function(obj, target) {\n    if (obj == null) return false;\n    if (nativeIndexOf && obj.indexOf === nativeIndexOf) return obj.indexOf(target) != -1;\n    return any(obj, function(value) {\n      return value === target;\n    });\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      return (isFunc ? method : value[method]).apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, function(value){ return value[key]; });\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs, first) {\n    if (_.isEmpty(attrs)) return first ? null : [];\n    return _[first ? 'find' : 'filter'](obj, function(value) {\n      for (var key in attrs) {\n        if (attrs[key] !== value[key]) return false;\n      }\n      return true;\n    });\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.where(obj, attrs, true);\n  };\n\n  // Return the maximum element or (element-based computation).\n  // Can't optimize arrays of integers longer than 65,535 elements.\n  // See: https://bugs.webkit.org/show_bug.cgi?id=80797\n  _.max = function(obj, iterator, context) {\n    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {\n      return Math.max.apply(Math, obj);\n    }\n    if (!iterator && _.isEmpty(obj)) return -Infinity;\n    var result = {computed : -Infinity, value: -Infinity};\n    each(obj, function(value, index, list) {\n      var computed = iterator ? iterator.call(context, value, index, list) : value;\n      computed >= result.computed && (result = {value : value, computed : computed});\n    });\n    return result.value;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iterator, context) {\n    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {\n      return Math.min.apply(Math, obj);\n    }\n    if (!iterator && _.isEmpty(obj)) return Infinity;\n    var result = {computed : Infinity, value: Infinity};\n    each(obj, function(value, index, list) {\n      var computed = iterator ? iterator.call(context, value, index, list) : value;\n      computed < result.computed && (result = {value : value, computed : computed});\n    });\n    return result.value;\n  };\n\n  // Shuffle an array.\n  _.shuffle = function(obj) {\n    var rand;\n    var index = 0;\n    var shuffled = [];\n    each(obj, function(value) {\n      rand = _.random(index++);\n      shuffled[index - 1] = shuffled[rand];\n      shuffled[rand] = value;\n    });\n    return shuffled;\n  };\n\n  // An internal function to generate lookup iterators.\n  var lookupIterator = function(value) {\n    return _.isFunction(value) ? value : function(obj){ return obj[value]; };\n  };\n\n  // Sort the object's values by a criterion produced by an iterator.\n  _.sortBy = function(obj, value, context) {\n    var iterator = lookupIterator(value);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value : value,\n        index : index,\n        criteria : iterator.call(context, value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index < right.index ? -1 : 1;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(obj, value, context, behavior) {\n    var result = {};\n    var iterator = lookupIterator(value || _.identity);\n    each(obj, function(value, index) {\n      var key = iterator.call(context, value, index, obj);\n      behavior(result, key, value);\n    });\n    return result;\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = function(obj, value, context) {\n    return group(obj, value, context, function(result, key, value) {\n      (_.has(result, key) ? result[key] : (result[key] = [])).push(value);\n    });\n  };\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = function(obj, value, context) {\n    return group(obj, value, context, function(result, key) {\n      if (!_.has(result, key)) result[key] = 0;\n      result[key]++;\n    });\n  };\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iterator, context) {\n    iterator = iterator == null ? _.identity : lookupIterator(iterator);\n    var value = iterator.call(context, obj);\n    var low = 0, high = array.length;\n    while (low < high) {\n      var mid = (low + high) >>> 1;\n      iterator.call(context, array[mid]) < value ? low = mid + 1 : high = mid;\n    }\n    return low;\n  };\n\n  // Safely convert anything iterable into a real, live array.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (obj.length === +obj.length) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return (obj.length === +obj.length) ? obj.length : _.keys(obj).length;\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    return (n != null) && !guard ? slice.call(array, 0, n) : array[0];\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N. The **guard** check allows it to work with\n  // `_.map`.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, array.length - ((n == null) || guard ? 1 : n));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array. The **guard** check allows it to work with `_.map`.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if ((n != null) && !guard) {\n      return slice.call(array, Math.max(array.length - n, 0));\n    } else {\n      return array[array.length - 1];\n    }\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array. The **guard**\n  // check allows it to work with `_.map`.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, (n == null) || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, output) {\n    each(input, function(value) {\n      if (_.isArray(value)) {\n        shallow ? push.apply(output, value) : flatten(value, shallow, output);\n      } else {\n        output.push(value);\n      }\n    });\n    return output;\n  };\n\n  // Return a completely flattened version of an array.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, []);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iterator, context) {\n    if (_.isFunction(isSorted)) {\n      context = iterator;\n      iterator = isSorted;\n      isSorted = false;\n    }\n    var initial = iterator ? _.map(array, iterator, context) : array;\n    var results = [];\n    var seen = [];\n    each(initial, function(value, index) {\n      if (isSorted ? (!index || seen[seen.length - 1] !== value) : !_.contains(seen, value)) {\n        seen.push(value);\n        results.push(array[index]);\n      }\n    });\n    return results;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(concat.apply(ArrayProto, arguments));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var rest = slice.call(arguments, 1);\n    return _.filter(_.uniq(array), function(item) {\n      return _.every(rest, function(other) {\n        return _.indexOf(other, item) >= 0;\n      });\n    });\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = concat.apply(ArrayProto, slice.call(arguments, 1));\n    return _.filter(array, function(value){ return !_.contains(rest, value); });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    var args = slice.call(arguments);\n    var length = _.max(_.pluck(args, 'length'));\n    var results = new Array(length);\n    for (var i = 0; i < length; i++) {\n      results[i] = _.pluck(args, \"\" + i);\n    }\n    return results;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    if (list == null) return {};\n    var result = {};\n    for (var i = 0, l = list.length; i < l; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // If the browser doesn't supply us with indexOf (I'm looking at you, **MSIE**),\n  // we need this function. Return the position of the first occurrence of an\n  // item in an array, or -1 if the item is not included in the array.\n  // Delegates to **ECMAScript 5**'s native `indexOf` if available.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = function(array, item, isSorted) {\n    if (array == null) return -1;\n    var i = 0, l = array.length;\n    if (isSorted) {\n      if (typeof isSorted == 'number') {\n        i = (isSorted < 0 ? Math.max(0, l + isSorted) : isSorted);\n      } else {\n        i = _.sortedIndex(array, item);\n        return array[i] === item ? i : -1;\n      }\n    }\n    if (nativeIndexOf && array.indexOf === nativeIndexOf) return array.indexOf(item, isSorted);\n    for (; i < l; i++) if (array[i] === item) return i;\n    return -1;\n  };\n\n  // Delegates to **ECMAScript 5**'s native `lastIndexOf` if available.\n  _.lastIndexOf = function(array, item, from) {\n    if (array == null) return -1;\n    var hasIndex = from != null;\n    if (nativeLastIndexOf && array.lastIndexOf === nativeLastIndexOf) {\n      return hasIndex ? array.lastIndexOf(item, from) : array.lastIndexOf(item);\n    }\n    var i = (hasIndex ? from : array.length);\n    while (i--) if (array[i] === item) return i;\n    return -1;\n  };\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (arguments.length <= 1) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = arguments[2] || 1;\n\n    var len = Math.max(Math.ceil((stop - start) / step), 0);\n    var idx = 0;\n    var range = new Array(len);\n\n    while(idx < len) {\n      range[idx++] = start;\n      start += step;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (func.bind === nativeBind && nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    var args = slice.call(arguments, 2);\n    return function() {\n      return func.apply(context, args.concat(slice.call(arguments)));\n    };\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context.\n  _.partial = function(func) {\n    var args = slice.call(arguments, 1);\n    return function() {\n      return func.apply(this, args.concat(slice.call(arguments)));\n    };\n  };\n\n  // Bind all of an object's methods to that object. Useful for ensuring that\n  // all callbacks defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var funcs = slice.call(arguments, 1);\n    if (funcs.length === 0) funcs = _.functions(obj);\n    each(funcs, function(f) { obj[f] = _.bind(obj[f], obj); });\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memo = {};\n    hasher || (hasher = _.identity);\n    return function() {\n      var key = hasher.apply(this, arguments);\n      return _.has(memo, key) ? memo[key] : (memo[key] = func.apply(this, arguments));\n    };\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){ return func.apply(null, args); }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = function(func) {\n    return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));\n  };\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time.\n  _.throttle = function(func, wait) {\n    var context, args, timeout, result;\n    var previous = 0;\n    var later = function() {\n      previous = new Date;\n      timeout = null;\n      result = func.apply(context, args);\n    };\n    return function() {\n      var now = new Date;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0) {\n        clearTimeout(timeout);\n        timeout = null;\n        previous = now;\n        result = func.apply(context, args);\n      } else if (!timeout) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, result;\n    return function() {\n      var context = this, args = arguments;\n      var later = function() {\n        timeout = null;\n        if (!immediate) result = func.apply(context, args);\n      };\n      var callNow = immediate && !timeout;\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n      if (callNow) result = func.apply(context, args);\n      return result;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = function(func) {\n    var ran = false, memo;\n    return function() {\n      if (ran) return memo;\n      ran = true;\n      memo = func.apply(this, arguments);\n      func = null;\n      return memo;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return function() {\n      var args = [func];\n      push.apply(args, arguments);\n      return wrapper.apply(this, args);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var funcs = arguments;\n    return function() {\n      var args = arguments;\n      for (var i = funcs.length - 1; i >= 0; i--) {\n        args = [funcs[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  };\n\n  // Returns a function that will only be executed after being called N times.\n  _.after = function(times, func) {\n    if (times <= 0) return func();\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Object Functions\n  // ----------------\n\n  // Retrieve the names of an object's properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = nativeKeys || function(obj) {\n    if (obj !== Object(obj)) throw new TypeError('Invalid object');\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys[keys.length] = key;\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var values = [];\n    for (var key in obj) if (_.has(obj, key)) values.push(obj[key]);\n    return values;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var pairs = [];\n    for (var key in obj) if (_.has(obj, key)) pairs.push([key, obj[key]]);\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    for (var key in obj) if (_.has(obj, key)) result[obj[key]] = key;\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = function(obj) {\n    each(slice.call(arguments, 1), function(source) {\n      if (source) {\n        for (var prop in source) {\n          obj[prop] = source[prop];\n        }\n      }\n    });\n    return obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(obj) {\n    var copy = {};\n    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));\n    each(keys, function(key) {\n      if (key in obj) copy[key] = obj[key];\n    });\n    return copy;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj) {\n    var copy = {};\n    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));\n    for (var key in obj) {\n      if (!_.contains(keys, key)) copy[key] = obj[key];\n    }\n    return copy;\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = function(obj) {\n    each(slice.call(arguments, 1), function(source) {\n      if (source) {\n        for (var prop in source) {\n          if (obj[prop] == null) obj[prop] = source[prop];\n        }\n      }\n    });\n    return obj;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the Harmony `egal` proposal: http://wiki.ecmascript.org/doku.php?id=harmony:egal.\n    if (a === b) return a !== 0 || 1 / a == 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className != toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, dates, and booleans are compared by value.\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return a == String(b);\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive. An `egal` comparison is performed for\n        // other numeric values.\n        return a != +a ? b != +b : (a == 0 ? 1 / a == 1 / b : a == +b);\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a == +b;\n      // RegExps are compared by their source patterns and flags.\n      case '[object RegExp]':\n        return a.source == b.source &&\n               a.global == b.global &&\n               a.multiline == b.multiline &&\n               a.ignoreCase == b.ignoreCase;\n    }\n    if (typeof a != 'object' || typeof b != 'object') return false;\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] == a) return bStack[length] == b;\n    }\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n    var size = 0, result = true;\n    // Recursively compare objects and arrays.\n    if (className == '[object Array]') {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      size = a.length;\n      result = size == b.length;\n      if (result) {\n        // Deep compare the contents, ignoring non-numeric properties.\n        while (size--) {\n          if (!(result = eq(a[size], b[size], aStack, bStack))) break;\n        }\n      }\n    } else {\n      // Objects with different constructors are not equivalent, but `Object`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && (aCtor instanceof aCtor) &&\n                               _.isFunction(bCtor) && (bCtor instanceof bCtor))) {\n        return false;\n      }\n      // Deep compare objects.\n      for (var key in a) {\n        if (_.has(a, key)) {\n          // Count the expected number of properties.\n          size++;\n          // Deep compare each member.\n          if (!(result = _.has(b, key) && eq(a[key], b[key], aStack, bStack))) break;\n        }\n      }\n      // Ensure that both objects contain the same number of properties.\n      if (result) {\n        for (key in b) {\n          if (_.has(b, key) && !(size--)) break;\n        }\n        result = !size;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return result;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b, [], []);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (_.isArray(obj) || _.isString(obj)) return obj.length === 0;\n    for (var key in obj) if (_.has(obj, key)) return false;\n    return true;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) == '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    return obj === Object(obj);\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp.\n  each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) == '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return !!(obj && _.has(obj, 'callee'));\n    };\n  }\n\n  // Optimize `isFunction` if appropriate.\n  if (typeof (/./) !== 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj === 'function';\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj != +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) == '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iterators.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iterator, context) {\n    var accum = Array(n);\n    for (var i = 0; i < n; i++) accum[i] = iterator.call(context, i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // List of HTML entities for escaping.\n  var entityMap = {\n    escape: {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#x27;',\n      '/': '&#x2F;'\n    }\n  };\n  entityMap.unescape = _.invert(entityMap.escape);\n\n  // Regexes containing the keys and values listed immediately above.\n  var entityRegexes = {\n    escape:   new RegExp('[' + _.keys(entityMap.escape).join('') + ']', 'g'),\n    unescape: new RegExp('(' + _.keys(entityMap.unescape).join('|') + ')', 'g')\n  };\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  _.each(['escape', 'unescape'], function(method) {\n    _[method] = function(string) {\n      if (string == null) return '';\n      return ('' + string).replace(entityRegexes[method], function(match) {\n        return entityMap[method][match];\n      });\n    };\n  });\n\n  // If the value of the named property is a function then invoke it;\n  // otherwise, return it.\n  _.result = function(object, property) {\n    if (object == null) return null;\n    var value = object[property];\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    each(_.functions(obj), function(name){\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result.call(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\t':     't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\t|\\u2028|\\u2029/g;\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  _.template = function(text, data, settings) {\n    var render;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = new RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset)\n        .replace(escaper, function(match) { return '\\\\' + escapes[match]; });\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      }\n      if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      }\n      if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n      index = offset + match.length;\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + \"return __p;\\n\";\n\n    try {\n      render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    if (data) return render(data, _);\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled function source as a convenience for precompilation.\n    template.source = 'function(' + (settings.variable || 'obj') + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function, which will delegate to the wrapper.\n  _.chain = function(obj) {\n    return _(obj).chain();\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(obj) {\n    return this._chain ? _(obj).chain() : obj;\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name == 'shift' || name == 'splice') && obj.length === 0) delete obj[0];\n      return result.call(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result.call(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  _.extend(_.prototype, {\n\n    // Start chaining a wrapped Underscore object.\n    chain: function() {\n      this._chain = true;\n      return this;\n    },\n\n    // Extracts the result from a wrapped and chained object.\n    value: function() {\n      return this._wrapped;\n    }\n\n  });\n\n}).call(this);\n\n},{}],25:[function(require,module,exports){\nif (typeof(window) !== 'undefined' && typeof(window.requestAnimationFrame) !== 'function') {\n  window.requestAnimationFrame = (\n    window.webkitRequestAnimationFrame   ||\n    window.mozRequestAnimationFrame      ||\n    window.oRequestAnimationFrame        ||\n    window.msRequestAnimationFrame       ||\n    function(callback) { setTimeout(callback, 1000 / 60); }\n  );\n}\n\nLeap = require(\"../lib/index\");\n\n},{\"../lib/index\":11}]},{},[25])\n;",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673bf4df5039e128331c0fdd",
        "createdAt": "2024-11-19T02:31:40.521Z",
        "updatedAt": "2024-11-19T02:31:40.521Z",
        "id": "673bf4df5039e128331c0fdd"
      }
    ],
    "updatedAt": "2024-11-19T02:31:40.521Z",
    "createdAt": "2024-11-19T01:55:40.375Z",
    "id": "Pd7_CbZUB"
  },
  {
    "_id": "7iEjQDMkR",
    "name": "let's sparkle",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67293fd970844941c91144ef",
          "6729376470844941c91144eb",
          "6729376470844941c91144ea",
          "672942771a692a87acd4fbc8",
          "6729376470844941c91144ec"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6729376470844941c91144ed",
        "createdAt": "2024-11-04T22:30:13.213Z",
        "updatedAt": "2024-11-04T22:30:13.213Z",
        "id": "6729376470844941c91144ed"
      },
      {
        "name": "sketch.js",
        "content": "let sparkle;\nlet rSparkle, gSparkle, bSparkle;\n\nfunction preload() {\n  sparkle = loadImage(\"sparkle.png\");\n}\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n  pixelDensity(1);\n  rSparkle = createImage(sparkle.width, sparkle.height);\n}\n\nfunction draw() {\n  background(0);\n  // Center the cat image on the canvas\n  translate((width - sparkle.width) / 2, (height - sparkle.height) / 2);\n\n  sparkle.loadPixels();\n  rSparkle.loadPixels();\n\n  // Copy sparkle pixels to rSparkle\n  for (let i = 0; i < sparkle.pixels.length; i++) {\n    rSparkle.pixels[i] = sparkle.pixels[i];\n  }\n\n  // Manipulate rSparkle pixels\n  for (index = 0; index < rSparkle.pixels.length; index += 4) {\n    rSparkle.pixels[index + 1] = 0; // Zero out Green\n    rSparkle.pixels[index + 2] = 0; // Zero out Blue\n    rSparkle.pixels[index + 3] = 85; // Set Alpha\n    if ()\n  }\n  \n\n  rSparkle.updatePixels();\n\n  image(rSparkle, 0, 0);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6729376470844941c91144ea",
        "createdAt": "2024-11-04T22:30:13.213Z",
        "updatedAt": "2024-11-04T22:30:13.213Z",
        "id": "6729376470844941c91144ea"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6729376470844941c91144eb",
        "createdAt": "2024-11-04T22:30:13.213Z",
        "updatedAt": "2024-11-04T22:30:13.213Z",
        "id": "6729376470844941c91144eb"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6729376470844941c91144ec",
        "createdAt": "2024-11-04T22:30:13.213Z",
        "updatedAt": "2024-11-04T22:30:13.213Z",
        "id": "6729376470844941c91144ec"
      },
      {
        "name": "cat.jpg",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f535b130-fa8d-4657-a51b-e751664a76fd.jpg",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67293fd970844941c91144ef",
        "createdAt": "2024-11-04T22:30:13.213Z",
        "updatedAt": "2024-11-04T22:30:13.213Z",
        "id": "67293fd970844941c91144ef"
      },
      {
        "name": "sparkle.png",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/37c1969f-e52e-4855-911d-d92e9eb1f995.png",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672942771a692a87acd4fbc8",
        "createdAt": "2024-11-04T22:30:13.213Z",
        "updatedAt": "2024-11-04T22:30:13.213Z",
        "id": "672942771a692a87acd4fbc8"
      }
    ],
    "updatedAt": "2024-11-04T22:30:13.213Z",
    "createdAt": "2024-11-04T21:47:40.569Z",
    "id": "7iEjQDMkR"
  },
  {
    "_id": "Q23z2gK_M",
    "name": "let's sparkle copy copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "672954135bc78849ba16084f",
          "672954135bc78849ba160850",
          "672954135bc78849ba160851",
          "672954135bc78849ba160852",
          "672954135bc78849ba160853"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "672954135bc78849ba16084e",
        "createdAt": "2024-11-05T00:11:54.691Z",
        "updatedAt": "2024-11-05T00:11:54.691Z",
        "id": "672954135bc78849ba16084e"
      },
      {
        "name": "sketch.js",
        "content": "//image variables\nlet sparkle;\nlet rSparkle, gSparkle, bSparkle;\n\n//alpha variables\nlet rA = 25;\nlet gA = 80; \nlet bA = 50;\nlet rSpeed = 0.5 \nlet gSpeed, bSpeed;\n\nfunction preload() {\n  sparkle = loadImage(\"sparkle.png\");\n}\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n  pixelDensity(1);\n  rSparkle = createImage(sparkle.width, sparkle.height);\n  gSparkle = createImage(sparkle.width, sparkle.height);\n  bSparkle = createImage(sparkle.width, sparkle.height);\n}\n\nfunction draw() {\n  // background(0);\n\n  // Center sparkle image on the canvas\n  translate((width - sparkle.width) / 2, (height - sparkle.height) / 2);\n\n  //Load pixels for all images\n  sparkle.loadPixels();\n  rSparkle.loadPixels();\n  gSparkle.loadPixels();\n  bSparkle.loadPixels();\n\n  // Copy sparkle pixels to rSparkle, gSparkle, bSparkle\n  for (let i = 0; i < sparkle.pixels.length; i++) {\n    rSparkle.pixels[i] = sparkle.pixels[i];\n    gSparkle.pixels[i] = sparkle.pixels[i+1];\n    bSparkle.pixels[i] = sparkle.pixels[i+2];\n  }\n\n  //Set baseline aSpeed depending on pixel brightness in sparkle image\n  // for (i = 0; i < sparkle.pixels.length; i += 4) {\n  //   colorMode(HSB);\n  //   let c = color(\n  //     sparkle.pixels[i],\n  //     sparkle.pixels[i + 1],\n  //     sparkle.pixels[i + 2]\n  //   );\n  //   let b = brightness(c);\n  //   if (b < 85) {\n  //     rSpeed = 0.25;\n  //     gSpeed = 0.75;\n  //     bSpeed = 1;\n  //   } else if (b < 170) {\n  //     rSpeed = 0.75;\n  //     gSpeed = 1\n  //     bSpeed = 0.25\n  //   } else {\n  //     rSpeed = 1;\n  //     gSpeed = 0.25\n  //     bSpeed = 0.75\n  //   }\n  // }\n\n  rA += rSpeed\n    // rSpeed++\n  gA += gSpeed\n    // gSpeed++\n  bA += bSpeed\n    // bSpeed++\n  if (rA < 0 || rA > 85){\n   rSpeed*=-1  \n  }\n  \n  console.log(rA, gA, bA);\n\n  // Manipulate pixels of each modified sparkle image\n  colorSpotlight(rSparkle, \"rValue\");\n  colorSpotlight(gSparkle, \"gValue\");\n  colorSpotlight(bSparkle, \"bValue\");\n\n  for (i = 0; i<rSparkle.pixels.length; i+=4){\n    rSparkle.pixels[i+3] = rA;\n  }\n  \n  //Update pixels for all modified sparkle images\n  rSparkle.updatePixels();\n  gSparkle.updatePixels();\n  bSparkle.updatePixels();\n\n  image(rSparkle, 0, 0);\n  image(gSparkle, 0, 0);\n  // image(bSparkle, 0, 0);\n}\n\nfunction colorSpotlight(image, highlight) {\n  for (index = 0; index < image.pixels.length; index += 4) {\n    if (highlight == \"rValue\") {\n      image.pixels[index + 1] = 0; // Zero out green\n      image.pixels[index + 2] = 0; // Zero out blue\n      image.pixels[index + 3] = rA;\n    } else if (highlight == \"gValue\") {\n      image.pixels[index + 0] = 0; // Zero out red\n      image.pixels[index + 2] = 0; // Zero out blue\n      // image.pixels[index + 3] = gA * gSpeed;\n    } else if (highlight == \"bValue\") {\n      image.pixels[index + 0] = 0; // Zero out red\n      image.pixels[index + 1] = 0; // Zero out green\n      // image.pixels[index + 3] = bA * bSpeed;\n    }\n    // image.pixels[index + 3] = a*aSpeed;\n  }\n}\n\n//   // Manipulate gSparkle pixels\n//   for (index = 0; index < rSparkle.pixels.length; index += 4) {\n//     rSparkle.pixels[index + 1] = 0; // Zero out Green\n//     rSparkle.pixels[index + 2] = 0; // Zero out Blue\n//     rSparkle.pixels[index + 3] = 85; // Set Alpha\n//   }\n\n//   // Manipulate bSparkle pixels\n//   for (index = 0; index < rSparkle.pixels.length; index += 4) {\n//     rSparkle.pixels[index + 1] = 0; // Zero out Green\n//     rSparkle.pixels[index + 2] = 0; // Zero out Blue\n//     rSparkle.pixels[index + 3] = 85; // Set Alpha\n//   }\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "672954135bc78849ba160851",
        "createdAt": "2024-11-05T00:11:54.691Z",
        "updatedAt": "2024-11-05T00:11:54.691Z",
        "id": "672954135bc78849ba160851"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672954135bc78849ba160850",
        "createdAt": "2024-11-05T00:11:54.691Z",
        "updatedAt": "2024-11-05T00:11:54.691Z",
        "id": "672954135bc78849ba160850"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672954135bc78849ba160853",
        "createdAt": "2024-11-05T00:11:54.691Z",
        "updatedAt": "2024-11-05T00:11:54.691Z",
        "id": "672954135bc78849ba160853"
      },
      {
        "name": "cat.jpg",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/05278e9e-8a74-4d41-b700-0b0b6d608afc.jpg",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672954135bc78849ba16084f",
        "createdAt": "2024-11-05T00:11:54.691Z",
        "updatedAt": "2024-11-05T00:11:54.691Z",
        "id": "672954135bc78849ba16084f"
      },
      {
        "name": "sparkle.png",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/fcebdc70-fd05-4e3a-9f41-385e0c42725d.png",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672954135bc78849ba160852",
        "createdAt": "2024-11-05T00:11:54.691Z",
        "updatedAt": "2024-11-05T00:11:54.691Z",
        "id": "672954135bc78849ba160852"
      }
    ],
    "createdAt": "2024-11-04T23:09:08.586Z",
    "updatedAt": "2024-11-05T00:11:54.691Z",
    "id": "Q23z2gK_M"
  },
  {
    "_id": "Q5AdCe7oX",
    "name": "let's sparkle copy copy_11.5 devan edits copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "672ab3ca3e240e4ccb712e11",
          "672ab3ca3e240e4ccb712e12",
          "672ab3ca3e240e4ccb712e13",
          "672ab3ca3e240e4ccb712e14",
          "672ab3ca3e240e4ccb712e15"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "672ab3ca3e240e4ccb712e10",
        "createdAt": "2024-11-06T00:10:41.706Z",
        "updatedAt": "2024-11-06T00:10:41.706Z",
        "id": "672ab3ca3e240e4ccb712e10"
      },
      {
        "name": "sketch.js",
        "content": "// Increase the max alpha value for brightness-based adjustments\nlet maxAlpha = 150;\n\n// image variables\nlet sparkle;\nlet rSparkle, gSparkle, bSparkle;\n\n//alpha variables\nlet rA, gA, bA;\nlet rSpeed, gSpeed, bSpeed;\n\nfunction preload() {\n  sparkle = loadImage(\"sparkle.png\");\n}\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n  pixelDensity(1);\n  sparkle = loadImage(\"sparkle.png\");\n  sparkle.loadPixels();\n\n  // Initialize each modified image\n  rSparkle = createImage(sparkle.width, sparkle.height);\n  gSparkle = createImage(sparkle.width, sparkle.height);\n  bSparkle = createImage(sparkle.width, sparkle.height);\n\n  // Start the alpha values and speeds\n  rA = random(0, maxAlpha);\n  gA = random(0, maxAlpha);\n  bA = random(0, maxAlpha);\n  rSpeed = 0.05;\n  gSpeed = 0.1;\n  bSpeed = 0.15;\n}\n\nfunction draw() {\n  background(0);\n  translate((width - sparkle.width) / 2, (height - sparkle.height) / 2);\n\n  rA = constrain(rA + rSpeed, 0, maxAlpha);\n  gA = constrain(gA + gSpeed, 0, maxAlpha);\n  bA = constrain(bA + bSpeed, 0, maxAlpha);\n\n  if (rA <= 0 || rA >= maxAlpha) rSpeed *= -1;\n  if (gA <= 0 || gA >= maxAlpha) gSpeed *= -1;\n  if (bA <= 0 || bA >= maxAlpha) bSpeed *= -1;\n\n  colorSpotlight(rSparkle, \"rValue\", rA);\n  colorSpotlight(gSparkle, \"gValue\", gA);\n  colorSpotlight(bSparkle, \"bValue\", bA);\n\n  image(rSparkle, 0, 0);\n  image(gSparkle, 0, 0);\n  image(bSparkle, 0, 0);\n}\n\nfunction colorSpotlight(image, colorToKeep, alphaValue) {\n  image.loadPixels();\n  for (let i = 0; i < sparkle.pixels.length; i += 4) {\n    let brightnessValue = (sparkle.pixels[i] + sparkle.pixels[i + 1] + sparkle.pixels[i + 2]) / 3;\n    let pixelAlpha = map(brightnessValue, 0, 255, 0, alphaValue);\n\n    if (colorToKeep === \"rValue\") {\n      image.pixels[i] = sparkle.pixels[i];\n      image.pixels[i + 1] = 0;\n      image.pixels[i + 2] = 0;\n      image.pixels[i + 3] = pixelAlpha;\n    } else if (colorToKeep === \"gValue\") {\n      image.pixels[i] = 0;\n      image.pixels[i + 1] = sparkle.pixels[i + 1];\n      image.pixels[i + 2] = 0;\n      image.pixels[i + 3] = pixelAlpha;\n    } else if (colorToKeep === \"bValue\") {\n      image.pixels[i] = 0;\n      image.pixels[i + 1] = 0;\n      image.pixels[i + 2] = sparkle.pixels[i + 2];\n      image.pixels[i + 3] = pixelAlpha;\n    }\n  }\n  image.updatePixels();\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "672ab3ca3e240e4ccb712e13",
        "createdAt": "2024-11-06T00:10:41.706Z",
        "updatedAt": "2024-11-06T00:10:41.706Z",
        "id": "672ab3ca3e240e4ccb712e13"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672ab3ca3e240e4ccb712e12",
        "createdAt": "2024-11-06T00:10:41.706Z",
        "updatedAt": "2024-11-06T00:10:41.706Z",
        "id": "672ab3ca3e240e4ccb712e12"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672ab3ca3e240e4ccb712e15",
        "createdAt": "2024-11-06T00:10:41.706Z",
        "updatedAt": "2024-11-06T00:10:41.706Z",
        "id": "672ab3ca3e240e4ccb712e15"
      },
      {
        "name": "cat.jpg",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c9c11e66-78ef-43c7-9b37-dfb046227eff.jpg",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672ab3ca3e240e4ccb712e11",
        "createdAt": "2024-11-06T00:10:41.706Z",
        "updatedAt": "2024-11-06T00:10:41.706Z",
        "id": "672ab3ca3e240e4ccb712e11"
      },
      {
        "name": "sparkle.png",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/fb71f7fb-c6e6-4339-9263-07c18499c523.png",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672ab3ca3e240e4ccb712e14",
        "createdAt": "2024-11-06T00:10:41.706Z",
        "updatedAt": "2024-11-06T00:10:41.706Z",
        "id": "672ab3ca3e240e4ccb712e14"
      }
    ],
    "createdAt": "2024-11-06T00:09:47.730Z",
    "updatedAt": "2024-11-06T00:10:41.706Z",
    "id": "Q5AdCe7oX"
  },
  {
    "_id": "5LUJD2msV",
    "name": "linear vs log mapping copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67c743f6f707c4a75b18e249",
          "67c743f6f707c4a75b18e24a",
          "67c743f6f707c4a75b18e24b"
        ],
        "fileType": "folder",
        "_id": "67c743f6f707c4a75b18e248",
        "createdAt": "2025-03-04T20:07:44.817Z",
        "updatedAt": "2025-03-04T20:07:44.817Z",
        "id": "67c743f6f707c4a75b18e248"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://unpkg.com/tone@15.0.4/build/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67c743f6f707c4a75b18e249",
        "createdAt": "2025-03-04T20:07:44.817Z",
        "updatedAt": "2025-03-04T20:07:44.817Z",
        "id": "67c743f6f707c4a75b18e249"
      },
      {
        "name": "sketch.js",
        "content": "// The Code of Music\n// NYU ITP/IMA Fall 2024\n// Luisa Pereira\n\n// Starter code for the Melody chapter\n\n// Create a Synth instrument, which can play specific frequencies\nconst synth = new Tone.Synth();\nsynth.toDestination();\n\n// let event = new Tone.Loop(callback, \"8n\");\n\n// Tone.Sequence example\n\n// let event = new Tone.Sequence(callback, [100, 200, 160, 340, 560], \"8n\");\n\n// function callback(time, frequency) {\n//   synth.triggerAttackRelease(frequency, \"16n\", time);\n// }\n\n// Tone.Part example\nlet event = new Tone.Part(callback, \n                          [0, 100],\n                          [0.2, 200],\n                          [0.3, 160],\n                          [0.5, 340],\n                          [0.8, 560]\n                         );\nfunction callback(time, frequency) {\n  synth.triggerAttackRelease(time, frequency);\n}\n\nevent.loop = true;\n\nlet fMin = 80;\nlet fMax = 1300;\n\nfunction mousePressed() {\n  let frequency = yToF(mouseY);\n  console.log(frequency);\n  let velocity = mouseX / width;\n  synth.triggerAttack(frequency, velocity);\n}\n\n// function yToF(y){\n//   // return map(y, height, 0, fMin, fMax);\n//   let turns = 2;\n//   let steps = map(y, height, 0, 0, turns);\n//   return fMin * Math.pow(2, steps);\n  \n// }\n\nfunction mouseReleased() {\n  // Release (stop playing) the tone\n  synth.triggerRelease();\n}\n\n// Create p5.js' setup function - this is just to make sure p5.js is initialized \n// and the event handlers we defined above (mousePressed, mouseReleased) are called\nfunction setup() {\n  createCanvas(200, 200);\n}\n\nfunction draw(){\n  background(0);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67c743f6f707c4a75b18e24a",
        "createdAt": "2025-03-04T20:07:44.817Z",
        "updatedAt": "2025-03-04T20:07:44.817Z",
        "id": "67c743f6f707c4a75b18e24a"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67c743f6f707c4a75b18e24b",
        "createdAt": "2025-03-04T20:07:44.817Z",
        "updatedAt": "2025-03-04T20:07:44.817Z",
        "id": "67c743f6f707c4a75b18e24b"
      }
    ],
    "createdAt": "2025-03-04T18:18:30.638Z",
    "updatedAt": "2025-03-04T20:07:44.817Z",
    "id": "5LUJD2msV"
  },
  {
    "_id": "YCZtrsQ6i",
    "name": "Loop Launcher - OO copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "679ffbdfb6c55f4cfb9f462c",
          "679ffbdfb6c55f4cfb9f462d",
          "679ffbdfb6c55f4cfb9f462e",
          "679ffbdfb6c55f4cfb9f4638",
          "679ffbdfb6c55f4cfb9f4639"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679ffbdfb6c55f4cfb9f462b",
        "createdAt": "2024-09-16T16:26:34.272Z",
        "updatedAt": "2024-09-16T16:26:34.272Z",
        "id": "679ffbdfb6c55f4cfb9f462b"
      },
      {
        "name": "sketch.js",
        "content": "// Second step: with sync + exclusive loop per track\nlet trackNames = [\"Drums\", \"Bass\", \"Chords\", \"Melody\"];\nlet loops = [];\nlet n = 2; //number of alternative loops per track\n\nlet startBtn;\n\nfunction setup() {  \n  noCanvas();  \n  loadLoops();\n}\n\nfunction draw() {\n  // not drawing anything for now\n}\n\nfunction loadLoops() {  \n  Tone.Transport.bpm.value = 122;\n  for(let i = 0; i < trackNames.length; i++){    \n    loops[i] = [];\n    // load n loop alternatives per track\n    for(let j = 0; j < n; j++){\n      let name = trackNames[i] + \" \" + j;\n      loops[i][j] = new Loop(\"loops/\" + trackNames[i] + j + \".mp3\", i, j, name);\n    }\n    // load loop siblings (each needs to access the loops from the same track, \n    // to stop them when it's about to play - \n    // we want only one loop from each track to be playing at any given time.\n    for(let j = 0; j < n; j++){\n      for(let k = 0; k < n; k++){\n        if(j != k){\n          loops[i][j].siblings.push(loops[i][k])\n        }\n      }\n    }\n  }\n}\n\nTone.loaded().then(function(){  \n  console.log('loaded');\n});\n\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "679ffbdfb6c55f4cfb9f4638",
        "createdAt": "2024-09-16T16:26:34.272Z",
        "updatedAt": "2024-09-16T16:26:34.272Z",
        "id": "679ffbdfb6c55f4cfb9f4638"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://unpkg.com/tone@15.0.4/build/Tone.js\"></script>\n    <script src=\"loop.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffbdfb6c55f4cfb9f462c",
        "createdAt": "2024-09-16T16:26:34.272Z",
        "updatedAt": "2024-09-16T16:26:34.272Z",
        "id": "679ffbdfb6c55f4cfb9f462c"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffbdfb6c55f4cfb9f4639",
        "createdAt": "2024-09-16T16:26:34.272Z",
        "updatedAt": "2024-09-16T16:26:34.272Z",
        "id": "679ffbdfb6c55f4cfb9f4639"
      },
      {
        "name": "loops",
        "content": "",
        "children": [
          "679ffbdfb6c55f4cfb9f462f",
          "679ffbdfb6c55f4cfb9f4630",
          "679ffbdfb6c55f4cfb9f4631",
          "679ffbdfb6c55f4cfb9f4632",
          "679ffbdfb6c55f4cfb9f4633",
          "679ffbdfb6c55f4cfb9f4634",
          "679ffbdfb6c55f4cfb9f4635",
          "679ffbdfb6c55f4cfb9f4636",
          "679ffbdfb6c55f4cfb9f4637"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679ffbdfb6c55f4cfb9f462e",
        "createdAt": "2024-09-16T16:26:34.272Z",
        "updatedAt": "2024-09-16T16:26:34.272Z",
        "id": "679ffbdfb6c55f4cfb9f462e"
      },
      {
        "name": "Chords0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/e971017b-df56-46e3-88ed-9ba30f4c7cc0.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffbdfb6c55f4cfb9f4631",
        "createdAt": "2024-09-16T16:26:34.272Z",
        "updatedAt": "2024-09-16T16:26:34.272Z",
        "id": "679ffbdfb6c55f4cfb9f4631"
      },
      {
        "name": "Bass0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/62b6f109-d468-4cec-a7fa-7bb65391c6fe.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffbdfb6c55f4cfb9f462f",
        "createdAt": "2024-09-16T16:26:34.272Z",
        "updatedAt": "2024-09-16T16:26:34.272Z",
        "id": "679ffbdfb6c55f4cfb9f462f"
      },
      {
        "name": "Bass1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/aa5eafc7-ace7-471f-b194-ccea06a3dfb8.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffbdfb6c55f4cfb9f4630",
        "createdAt": "2024-09-16T16:26:34.272Z",
        "updatedAt": "2024-09-16T16:26:34.272Z",
        "id": "679ffbdfb6c55f4cfb9f4630"
      },
      {
        "name": "Chords1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/8988546f-5717-48bb-a867-a0639d442fab.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffbdfb6c55f4cfb9f4632",
        "createdAt": "2024-09-16T16:26:34.272Z",
        "updatedAt": "2024-09-16T16:26:34.272Z",
        "id": "679ffbdfb6c55f4cfb9f4632"
      },
      {
        "name": "Chords2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c3acebb5-61dc-4819-a46b-1412ab9f159d.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffbdfb6c55f4cfb9f4633",
        "createdAt": "2024-09-16T16:26:34.272Z",
        "updatedAt": "2024-09-16T16:26:34.272Z",
        "id": "679ffbdfb6c55f4cfb9f4633"
      },
      {
        "name": "Drums0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/41da3f5b-8290-49ec-aaf5-04303ec4d7a1.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffbdfb6c55f4cfb9f4634",
        "createdAt": "2024-09-16T16:26:34.272Z",
        "updatedAt": "2024-09-16T16:26:34.272Z",
        "id": "679ffbdfb6c55f4cfb9f4634"
      },
      {
        "name": "Drums1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/a8003942-6ad6-4ed1-b387-39dddbe8bc59.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffbdfb6c55f4cfb9f4635",
        "createdAt": "2024-09-16T16:26:34.272Z",
        "updatedAt": "2024-09-16T16:26:34.272Z",
        "id": "679ffbdfb6c55f4cfb9f4635"
      },
      {
        "name": "Melody1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/177d2ae7-e92d-44f8-acf6-bb216e8b737a.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffbdfb6c55f4cfb9f4637",
        "createdAt": "2024-09-16T16:26:34.272Z",
        "updatedAt": "2024-09-16T16:26:34.272Z",
        "id": "679ffbdfb6c55f4cfb9f4637"
      },
      {
        "name": "Melody0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/ecd438ae-21aa-4716-b8c9-380b6fd396fb.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffbdfb6c55f4cfb9f4636",
        "createdAt": "2024-09-16T16:26:34.272Z",
        "updatedAt": "2024-09-16T16:26:34.272Z",
        "id": "679ffbdfb6c55f4cfb9f4636"
      },
      {
        "name": "loop.js",
        "content": "class Loop {\n  constructor(url, i, j, name) {\n    this.player = new Tone.Player({\n      url: url,\n      loop: true\n    });\n    this.player.toDestination();\n    this.quantize = \"@2m\"\n    this.siblings = []; // loops from the same track\n\n    this.button = createButton(name);\n    this.button.mousePressed(this.toggle.bind(this));\n    this.button.style('width', '100px');\n    this.button.style('height', '60px');\n    this.button.position(j * 100, i * 60);\n    this.button.style('background-color', 'white');\n  }\n\n  toggle() {\n    if(Tone.Transport.state != \"started\"){\n      Tone.start();\n      Tone.Transport.start();\n    }\n    // if the loop is playing, mark it to stop at the next measure\n    if (this.player.state == \"started\") {\n      this.scheduleStop();\n    }\n    // if the loop is not playing, mark it to start at the next measure\n    else {\n      this.scheduleStart();\n    }\n  }\n\n  start() {\n    this.button.style('background-color', 'black');\n    this.button.style('color', 'white');\n    this.state = this.player.state;\n  }\n  \n  transition(){\n    this.button.style('background-color', 'orange');\n    this.button.style('color', 'black');\n  }\n\n  stop() {\n    this.button.style('background-color', 'white');\n    this.button.style('color', 'black');\n    this.state = this.player.state;\n  }\n\n  scheduleStart() {\n    this.player.start(this.quantize);\n    \n    // stop any siblings that are currently playing: \n    for (const sibling of this.siblings) {\n      if (sibling.player.state == 'started') {\n        sibling.scheduleStop();\n      }\n    }\n    \n    // visuals\n    //immediately: transition (orange state)\n    this.transition();\n    //schedule change to start stage (black state)\n    Tone.Draw.schedule(this.start.bind(this), this.quantize);\n  }\n\n  scheduleStop() {\n    this.player.stop(this.quantize);\n    Tone.Draw.schedule(this.stop.bind(this), this.quantize);\n    \n    this.button.style('background-color', 'orange');\n    this.button.style('color', 'black');\n  }\n\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffbdfb6c55f4cfb9f462d",
        "createdAt": "2024-09-16T16:26:34.272Z",
        "updatedAt": "2024-09-16T16:26:34.272Z",
        "id": "679ffbdfb6c55f4cfb9f462d"
      }
    ],
    "createdAt": "2025-02-02T23:12:32.085Z",
    "updatedAt": "2025-02-02T23:12:32.085Z",
    "id": "YCZtrsQ6i"
  },
  {
    "_id": "zCjjph9_g",
    "name": "Loops starter - user triggers + quantized",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "679ffa9aaa0606b2d70c93e4",
          "679ffa9aaa0606b2d70c93e5",
          "679ffa9aaa0606b2d70c93ef",
          "679ffa9aaa0606b2d70c93f0"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679ffa9aaa0606b2d70c93e3",
        "createdAt": "2025-02-02T23:10:57.296Z",
        "updatedAt": "2025-02-02T23:10:57.296Z",
        "id": "679ffa9aaa0606b2d70c93e3"
      },
      {
        "name": "sketch.js",
        "content": "// loops triggered by user but still quantized to time\n\nlet loaded = false;\nconst bass = new Tone.Player({\n          url: \"loops/Bass0.mp3\",\n          loop: true\n        });\nbass.toDestination();\n\nconst chords = new Tone.Player({\n          url: \"loops/Chords0.mp3\",\n          loop: true\n        });\nchords.toDestination();\n\nconst melody = new Tone.Player({\n          url: \"loops/Melody0.mp3\",\n          loop: true\n        });\nmelody.toDestination();\n\nconst drums = new Tone.Player({\n          url: \"loops/Drums0.mp3\",\n          loop: true\n        });\ndrums.toDestination();\n\nfunction setup() {  \n  noCanvas();\n\n}\n\nfunction draw() {\n  // not drawing anything for now\n  \n  \n}\n\nfunction keyTyped(){\n  if(loaded){\n    if(Tone.Transport.state == \"stopped\"){\n      Tone.Transport.bpm.value = 121.80;\n      Tone.Transport.start();\n    }\n    \n    if(key == 'a'){\n      if(drums.state == \"started\"){\n        drums.stop();  \n      } else{\n        // start aligned with the next 'measure' subdivision\n        drums.start(\"@1m\");\n      }\n    }\n    else if (key == 's'){\n      if(chords.state == \"started\"){\n        chords.stop();  \n      } else{\n        chords.start(\"@1m\");\n      }\n    }\n    else if (key == 'd'){\n      if(melody.state == \"started\"){\n        melody.stop();  \n      } else{\n        melody.start(\"@1m\");\n      }\n    }\n    else if (key == 'f'){\n      if(bass.state == \"started\"){\n        bass.stop();  \n      } else{\n        bass.start(\"@1m\");\n      }\n    }\n  }\n}\n\nTone.loaded().then(function(){  \n  loaded = true;\n});\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "679ffa9aaa0606b2d70c93ef",
        "createdAt": "2025-02-02T23:10:57.296Z",
        "updatedAt": "2025-02-02T23:10:57.296Z",
        "id": "679ffa9aaa0606b2d70c93ef"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://unpkg.com/tone@15.0.4/build/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa9aaa0606b2d70c93e4",
        "createdAt": "2025-02-02T23:10:57.296Z",
        "updatedAt": "2025-02-02T23:10:57.296Z",
        "id": "679ffa9aaa0606b2d70c93e4"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa9aaa0606b2d70c93f0",
        "createdAt": "2025-02-02T23:10:57.296Z",
        "updatedAt": "2025-02-02T23:10:57.296Z",
        "id": "679ffa9aaa0606b2d70c93f0"
      },
      {
        "name": "loops",
        "content": "",
        "children": [
          "679ffa9aaa0606b2d70c93e6",
          "679ffa9aaa0606b2d70c93e7",
          "679ffa9aaa0606b2d70c93e8",
          "679ffa9aaa0606b2d70c93e9",
          "679ffa9aaa0606b2d70c93ea",
          "679ffa9aaa0606b2d70c93eb",
          "679ffa9aaa0606b2d70c93ec",
          "679ffa9aaa0606b2d70c93ed",
          "679ffa9aaa0606b2d70c93ee"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679ffa9aaa0606b2d70c93e5",
        "createdAt": "2025-02-02T23:10:57.296Z",
        "updatedAt": "2025-02-02T23:10:57.296Z",
        "id": "679ffa9aaa0606b2d70c93e5"
      },
      {
        "name": "Chords0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/10661f8c-484d-4874-8ead-dcba607ffc60.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa9aaa0606b2d70c93e8",
        "createdAt": "2025-02-02T23:10:57.296Z",
        "updatedAt": "2025-02-02T23:10:57.296Z",
        "id": "679ffa9aaa0606b2d70c93e8"
      },
      {
        "name": "Bass0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b653f10c-6431-4b03-9b84-5f5e816dda37.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa9aaa0606b2d70c93e6",
        "createdAt": "2025-02-02T23:10:57.296Z",
        "updatedAt": "2025-02-02T23:10:57.296Z",
        "id": "679ffa9aaa0606b2d70c93e6"
      },
      {
        "name": "Bass1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c519c4cb-0165-42ee-a99e-5562022cd7e2.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa9aaa0606b2d70c93e7",
        "createdAt": "2025-02-02T23:10:57.296Z",
        "updatedAt": "2025-02-02T23:10:57.296Z",
        "id": "679ffa9aaa0606b2d70c93e7"
      },
      {
        "name": "Chords1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/7be02c92-3139-44fb-8619-0c7a493f3283.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa9aaa0606b2d70c93e9",
        "createdAt": "2025-02-02T23:10:57.296Z",
        "updatedAt": "2025-02-02T23:10:57.296Z",
        "id": "679ffa9aaa0606b2d70c93e9"
      },
      {
        "name": "Chords2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/dfcb52a8-7de3-4fd5-afee-3e2f6cffc392.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa9aaa0606b2d70c93ea",
        "createdAt": "2025-02-02T23:10:57.296Z",
        "updatedAt": "2025-02-02T23:10:57.296Z",
        "id": "679ffa9aaa0606b2d70c93ea"
      },
      {
        "name": "Drums0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/961053d5-e638-4426-97cb-4641a063ff22.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa9aaa0606b2d70c93eb",
        "createdAt": "2025-02-02T23:10:57.296Z",
        "updatedAt": "2025-02-02T23:10:57.296Z",
        "id": "679ffa9aaa0606b2d70c93eb"
      },
      {
        "name": "Drums1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/79a97d47-2730-4ee2-8665-aec0856ebca4.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa9aaa0606b2d70c93ec",
        "createdAt": "2025-02-02T23:10:57.296Z",
        "updatedAt": "2025-02-02T23:10:57.296Z",
        "id": "679ffa9aaa0606b2d70c93ec"
      },
      {
        "name": "Melody0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/29d3e99a-b496-4880-97fa-85d1892918ce.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa9aaa0606b2d70c93ed",
        "createdAt": "2025-02-02T23:10:57.296Z",
        "updatedAt": "2025-02-02T23:10:57.296Z",
        "id": "679ffa9aaa0606b2d70c93ed"
      },
      {
        "name": "Melody1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/617a8efb-f70d-4b96-bd55-ea5eec5e52ae.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa9aaa0606b2d70c93ee",
        "createdAt": "2025-02-02T23:10:57.296Z",
        "updatedAt": "2025-02-02T23:10:57.296Z",
        "id": "679ffa9aaa0606b2d70c93ee"
      }
    ],
    "createdAt": "2025-02-02T23:07:06.820Z",
    "updatedAt": "2025-02-02T23:10:57.296Z",
    "id": "zCjjph9_g"
  },
  {
    "_id": "AWfgLgIJz",
    "name": "Loops starter midpoint 2 copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "679ffa2897633b3fd29bddf7",
          "679ffa2897633b3fd29bddf8",
          "679ffa2897633b3fd29bde02",
          "679ffa2897633b3fd29bde03"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679ffa2897633b3fd29bddf6",
        "createdAt": "2024-09-16T16:23:47.522Z",
        "updatedAt": "2024-09-16T16:23:47.522Z",
        "id": "679ffa2897633b3fd29bddf6"
      },
      {
        "name": "sketch.js",
        "content": "let loaded = false;\nconst bass = new Tone.Player({\n          url: \"loops/Bass0.mp3\",\n          loop: true\n        });\nbass.toDestination();\n\nconst chords = new Tone.Player({\n          url: \"loops/Chords0.mp3\",\n          loop: true\n        });\nchords.toDestination();\n\nconst melody = new Tone.Player({\n          url: \"loops/Melody0.mp3\",\n          loop: true\n        });\nmelody.toDestination();\n\nconst drums = new Tone.Player({\n          url: \"loops/Drums0.mp3\",\n          loop: true\n        });\ndrums.toDestination();\n\nfunction setup() {  \n  noCanvas();\n  \n}\n\nfunction draw() {\n  // not drawing anything for now\n  \n}\n\nfunction keyTyped(){\n  if(loaded){\n    // let's get a more precise measurement of the current time\n    const now = Tone.now();\n    bass.start(now); \n\n    // get the duration of the bass loop\n    let d = bass._buffer.duration;\n\n    // stagger the triggering of the other loops, \n    // relative to the start and duration of the bass\n    chords.start(now + d/2); \n    drums.start(now + d);\n    melody.start(now + d*3/2);\n  }\n}\n\nTone.loaded().then(function(){  \n  loaded = true;\n});\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "679ffa2897633b3fd29bde02",
        "createdAt": "2024-09-16T16:23:47.522Z",
        "updatedAt": "2024-09-16T16:23:47.522Z",
        "id": "679ffa2897633b3fd29bde02"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://unpkg.com/tone@15.0.4/build/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa2897633b3fd29bddf7",
        "createdAt": "2024-09-16T16:23:47.522Z",
        "updatedAt": "2024-09-16T16:23:47.522Z",
        "id": "679ffa2897633b3fd29bddf7"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa2897633b3fd29bde03",
        "createdAt": "2024-09-16T16:23:47.522Z",
        "updatedAt": "2024-09-16T16:23:47.522Z",
        "id": "679ffa2897633b3fd29bde03"
      },
      {
        "name": "loops",
        "content": "",
        "children": [
          "679ffa2897633b3fd29bddf9",
          "679ffa2897633b3fd29bddfa",
          "679ffa2897633b3fd29bddfb",
          "679ffa2897633b3fd29bddfc",
          "679ffa2897633b3fd29bddfd",
          "679ffa2897633b3fd29bddfe",
          "679ffa2897633b3fd29bddff",
          "679ffa2897633b3fd29bde00",
          "679ffa2897633b3fd29bde01"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679ffa2897633b3fd29bddf8",
        "createdAt": "2024-09-16T16:23:47.522Z",
        "updatedAt": "2024-09-16T16:23:47.522Z",
        "id": "679ffa2897633b3fd29bddf8"
      },
      {
        "name": "Chords0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/73dda667-25bf-4c12-b6e3-d70b602846f6.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa2897633b3fd29bddfb",
        "createdAt": "2024-09-16T16:23:47.522Z",
        "updatedAt": "2024-09-16T16:23:47.522Z",
        "id": "679ffa2897633b3fd29bddfb"
      },
      {
        "name": "Bass0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/dd1a78cb-12c7-4738-8d25-d86bf602c24d.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa2897633b3fd29bddf9",
        "createdAt": "2024-09-16T16:23:47.522Z",
        "updatedAt": "2024-09-16T16:23:47.522Z",
        "id": "679ffa2897633b3fd29bddf9"
      },
      {
        "name": "Bass1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/d0a5d5ab-a94c-4e01-a5bf-7ec4e872c36d.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa2897633b3fd29bddfa",
        "createdAt": "2024-09-16T16:23:47.522Z",
        "updatedAt": "2024-09-16T16:23:47.522Z",
        "id": "679ffa2897633b3fd29bddfa"
      },
      {
        "name": "Chords1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/4ab284ec-928d-4bad-b262-ea0a69c7f658.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa2897633b3fd29bddfc",
        "createdAt": "2024-09-16T16:23:47.522Z",
        "updatedAt": "2024-09-16T16:23:47.522Z",
        "id": "679ffa2897633b3fd29bddfc"
      },
      {
        "name": "Chords2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c39e247b-a801-4834-965b-12fbe39a0c33.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa2897633b3fd29bddfd",
        "createdAt": "2024-09-16T16:23:47.522Z",
        "updatedAt": "2024-09-16T16:23:47.522Z",
        "id": "679ffa2897633b3fd29bddfd"
      },
      {
        "name": "Drums0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/21932906-503c-466d-9afa-be40e099daa6.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa2897633b3fd29bddfe",
        "createdAt": "2024-09-16T16:23:47.522Z",
        "updatedAt": "2024-09-16T16:23:47.522Z",
        "id": "679ffa2897633b3fd29bddfe"
      },
      {
        "name": "Drums1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f5e70d21-bafe-4ab3-8012-8c805a110946.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa2897633b3fd29bddff",
        "createdAt": "2024-09-16T16:23:47.522Z",
        "updatedAt": "2024-09-16T16:23:47.522Z",
        "id": "679ffa2897633b3fd29bddff"
      },
      {
        "name": "Melody0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/7f881c97-11e5-4f6d-ab63-6e0c0e337047.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa2897633b3fd29bde00",
        "createdAt": "2024-09-16T16:23:47.522Z",
        "updatedAt": "2024-09-16T16:23:47.522Z",
        "id": "679ffa2897633b3fd29bde00"
      },
      {
        "name": "Melody1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c456ab19-6518-4fc8-9580-92db5499078d.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa2897633b3fd29bde01",
        "createdAt": "2024-09-16T16:23:47.522Z",
        "updatedAt": "2024-09-16T16:23:47.522Z",
        "id": "679ffa2897633b3fd29bde01"
      }
    ],
    "createdAt": "2025-02-02T23:05:13.457Z",
    "updatedAt": "2025-02-02T23:05:13.457Z",
    "id": "AWfgLgIJz"
  },
  {
    "_id": "cosAHo29q",
    "name": "Loops starter midpoint 3 copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "679ffa64e5a74b3110fabea2",
          "679ffa64e5a74b3110fabea3",
          "679ffa64e5a74b3110fabead",
          "679ffa64e5a74b3110fabeae"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679ffa64e5a74b3110fabea1",
        "createdAt": "2025-02-02T23:06:23.670Z",
        "updatedAt": "2025-02-02T23:06:23.670Z",
        "id": "679ffa64e5a74b3110fabea1"
      },
      {
        "name": "sketch.js",
        "content": "// loops triggered by user\n\nlet loaded = false;\nconst bass = new Tone.Player({\n          url: \"loops/Bass0.mp3\",\n          loop: true\n        });\nbass.toDestination();\n\nconst chords = new Tone.Player({\n          url: \"loops/Chords0.mp3\",\n          loop: true\n        });\nchords.toDestination();\n\nconst melody = new Tone.Player({\n          url: \"loops/Melody0.mp3\",\n          loop: true\n        });\nmelody.toDestination();\n\nconst drums = new Tone.Player({\n          url: \"loops/Drums0.mp3\",\n          loop: true\n        });\ndrums.toDestination();\n\nfunction setup() {  \n  noCanvas();\n  \n}\n\nfunction draw() {\n  // not drawing anything for now\n  \n}\n\nfunction keyTyped(){\n  if(loaded){\n\t\tif(key == 'a'){\n\t\t\tif(drums.state ==\"stopped\"){\n\t\t\t\tdrums.start();\t\t\n\t\t\t}\n\t\t\telse{\n\t\t\t\tdrums.stop();\n\t\t\t}\n\t\t}\n        if(key == 's'){\n            if(bass.state ==\"stopped\"){\n                bass.start();\t\t\n            }\n            else{\n                bass.stop();\n            }\n        }\n        if(key == 'd'){\n            if(chords.state ==\"stopped\"){\n                chords.start();\t\t\n            }\n            else{\n                chords.stop();\n            }\n        }\n        if(key == 'f'){\n            if(melody.state ==\"stopped\"){\n                melody.start();\t\t\n            }\n            else{\n                melody.stop();\n            }\n        }\n\t}\n}\n\nTone.loaded().then(function(){  \n  loaded = true;\n});\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "679ffa64e5a74b3110fabead",
        "createdAt": "2025-02-02T23:06:23.670Z",
        "updatedAt": "2025-02-02T23:06:23.670Z",
        "id": "679ffa64e5a74b3110fabead"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://unpkg.com/tone@15.0.4/build/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa64e5a74b3110fabea2",
        "createdAt": "2025-02-02T23:06:23.670Z",
        "updatedAt": "2025-02-02T23:06:23.670Z",
        "id": "679ffa64e5a74b3110fabea2"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa64e5a74b3110fabeae",
        "createdAt": "2025-02-02T23:06:23.670Z",
        "updatedAt": "2025-02-02T23:06:23.670Z",
        "id": "679ffa64e5a74b3110fabeae"
      },
      {
        "name": "loops",
        "content": "",
        "children": [
          "679ffa64e5a74b3110fabea4",
          "679ffa64e5a74b3110fabea5",
          "679ffa64e5a74b3110fabea6",
          "679ffa64e5a74b3110fabea7",
          "679ffa64e5a74b3110fabea8",
          "679ffa64e5a74b3110fabea9",
          "679ffa64e5a74b3110fabeaa",
          "679ffa64e5a74b3110fabeab",
          "679ffa64e5a74b3110fabeac"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679ffa64e5a74b3110fabea3",
        "createdAt": "2025-02-02T23:06:23.670Z",
        "updatedAt": "2025-02-02T23:06:23.670Z",
        "id": "679ffa64e5a74b3110fabea3"
      },
      {
        "name": "Chords0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/38cd5a07-6fb8-445f-b80f-aaf5b3da6426.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa64e5a74b3110fabea6",
        "createdAt": "2025-02-02T23:06:23.670Z",
        "updatedAt": "2025-02-02T23:06:23.670Z",
        "id": "679ffa64e5a74b3110fabea6"
      },
      {
        "name": "Bass0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f9b3d812-f5c9-438c-a760-6f6649fb2d27.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa64e5a74b3110fabea4",
        "createdAt": "2025-02-02T23:06:23.670Z",
        "updatedAt": "2025-02-02T23:06:23.670Z",
        "id": "679ffa64e5a74b3110fabea4"
      },
      {
        "name": "Bass1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b4ec733a-bafb-429a-8587-88e8a58d7492.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa64e5a74b3110fabea5",
        "createdAt": "2025-02-02T23:06:23.670Z",
        "updatedAt": "2025-02-02T23:06:23.670Z",
        "id": "679ffa64e5a74b3110fabea5"
      },
      {
        "name": "Chords1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/08ad1543-ebe4-4c49-81a8-ec97d9cee6a2.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa64e5a74b3110fabea7",
        "createdAt": "2025-02-02T23:06:23.670Z",
        "updatedAt": "2025-02-02T23:06:23.670Z",
        "id": "679ffa64e5a74b3110fabea7"
      },
      {
        "name": "Chords2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/a2bb8fea-5e60-4918-af3a-f8f0d4ce1661.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa64e5a74b3110fabea8",
        "createdAt": "2025-02-02T23:06:23.670Z",
        "updatedAt": "2025-02-02T23:06:23.670Z",
        "id": "679ffa64e5a74b3110fabea8"
      },
      {
        "name": "Drums0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/6bdacdd5-1397-4da1-96d3-61368f60f0fa.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa64e5a74b3110fabea9",
        "createdAt": "2025-02-02T23:06:23.670Z",
        "updatedAt": "2025-02-02T23:06:23.670Z",
        "id": "679ffa64e5a74b3110fabea9"
      },
      {
        "name": "Drums1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/80c811b9-47de-43ff-8e10-549749d94a45.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa64e5a74b3110fabeaa",
        "createdAt": "2025-02-02T23:06:23.670Z",
        "updatedAt": "2025-02-02T23:06:23.670Z",
        "id": "679ffa64e5a74b3110fabeaa"
      },
      {
        "name": "Melody0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/70d4f137-5b36-41de-96be-86d675c57152.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa64e5a74b3110fabeab",
        "createdAt": "2025-02-02T23:06:23.670Z",
        "updatedAt": "2025-02-02T23:06:23.670Z",
        "id": "679ffa64e5a74b3110fabeab"
      },
      {
        "name": "Melody1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/8619b37f-e91e-495c-ad6d-9db7f21703d3.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffa64e5a74b3110fabeac",
        "createdAt": "2025-02-02T23:06:23.670Z",
        "updatedAt": "2025-02-02T23:06:23.670Z",
        "id": "679ffa64e5a74b3110fabeac"
      }
    ],
    "createdAt": "2025-02-02T23:06:13.175Z",
    "updatedAt": "2025-02-02T23:06:23.670Z",
    "id": "cosAHo29q"
  },
  {
    "_id": "9XXBR0S7Y",
    "name": "lowpass example",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67365e0a28bd2a33205de352",
          "67365dc328bd2a33205de34f",
          "67365dc328bd2a33205de34e",
          "67365dc328bd2a33205de350"
        ],
        "fileType": "folder",
        "_id": "67365dc328bd2a33205de351",
        "createdAt": "2024-11-14T20:42:52.659Z",
        "updatedAt": "2024-11-14T20:42:52.659Z",
        "id": "67365dc328bd2a33205de351"
      },
      {
        "name": "sketch.js",
        "content": "let sound;\nlet lowPass;\nlet freqSlider;\n\nfunction preload() {\n  sound = loadSound('3.mp3'); // Make sure your file path is correct\n}\n\nfunction setup() {\n  createCanvas(400, 200);\n\n  // Initialize the low-pass filter\n  lowPass = new p5.LowPass();\n\n  // Connect the sound to the filter, then to the output\n  sound.disconnect(); // Disconnect from the master output\n  sound.connect(lowPass);\n\n  // Create a slider to control the cutoff frequency\n  freqSlider = createSlider(10, 22050, 1000); // Cutoff frequency range: 10 Hz to 22050 Hz\n  freqSlider.position(10, 10);\n\n  // Button to play/pause the sound\n  let playButton = createButton('Play/Pause');\n  playButton.position(10, 50);\n  playButton.mousePressed(togglePlay);\n}\n\nfunction draw() {\n  background(200);\n\n  // Get the slider value and set it as the cutoff frequency for the low-pass filter\n  let cutoffFreq = freqSlider.value();\n  lowPass.freq(cutoffFreq);\n\n  // Display the current cutoff frequency\n  text('Cutoff Frequency: ' + cutoffFreq + ' Hz', 10, 80);\n}\n\nfunction togglePlay() {\n  if (sound.isPlaying()) {\n    sound.pause();\n  } else {\n    sound.loop();\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67365dc328bd2a33205de34e",
        "createdAt": "2024-11-14T20:42:52.659Z",
        "updatedAt": "2024-11-14T20:42:52.659Z",
        "id": "67365dc328bd2a33205de34e"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "67365dc328bd2a33205de34f",
        "createdAt": "2024-11-14T20:42:52.659Z",
        "updatedAt": "2024-11-14T20:42:52.659Z",
        "id": "67365dc328bd2a33205de34f"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "67365dc328bd2a33205de350",
        "createdAt": "2024-11-14T20:42:52.659Z",
        "updatedAt": "2024-11-14T20:42:52.659Z",
        "id": "67365dc328bd2a33205de350"
      },
      {
        "name": "3.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/8d749c51-4e65-4493-baa3-7382ffac2430.mp3",
        "children": [],
        "fileType": "file",
        "_id": "67365e0a28bd2a33205de352",
        "createdAt": "2024-11-14T20:42:52.659Z",
        "updatedAt": "2024-11-14T20:42:52.659Z",
        "id": "67365e0a28bd2a33205de352"
      }
    ],
    "updatedAt": "2024-11-14T20:42:52.659Z",
    "createdAt": "2024-11-14T20:42:52.659Z",
    "id": "9XXBR0S7Y"
  },
  {
    "_id": "8hM76JI4J",
    "name": "melody sequencer starter copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67cb7d0b6173d3a910ee87c8",
          "67cb7d0b6173d3a910ee87c9",
          "67cb7d0b6173d3a910ee87dd",
          "67cb7d0b6173d3a910ee87de"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87c7",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87c7"
      },
      {
        "name": "sketch.js",
        "content": " // Adapted from Luisa's code\n\n// Sequencer\nlet bpm = 60;\nlet timeSignature = [4, 4];\nlet nMeasures = 2;\n\nfunction nSteps() {\n  return nMeasures * timeSignature[0];\n}\nlet currentStep;\nlet playButton;\n\nlet cells = [];\n\n// Sound\nlet player;\nlet noteNames = [\n  \"A1\",\n  \"A2\",\n  \"As1\",\n  \"B1\",\n  \"C2\",\n  \"Cs2\",\n  \"D2\",\n  \"Ds2\",\n  \"E2\",\n  \"F2\",\n  \"Fs2\",\n  \"G2\",\n  \"Gs1\",\n];\nlet nTracks = noteNames.length;\n\nplayer = new Tone.Players({\n  A1: \"/samples/casio/A1.mp3\",\n  A2: \"/samples/casio/A2.mp3\",\n  As1: \"/samples/casio/As1.mp3\",\n  B1: \"/samples/casio/B1.mp3\",\n  C2: \"/samples/casio/C2.mp3\",\n  Cs2: \"/samples/casio/Cs2.mp3\",\n  D2: \"/samples/casio/D2.mp3\",\n  Ds2: \"/samples/casio/Ds2.mp3\",\n  E2: \"/samples/casio/E2.mp3\",\n  F2: \"/samples/casio/F2.mp3\",\n  Fs2: \"/samples/casio/Fs2.mp3\",\n  G2: \"/samples/casio/G2.mp3\",\n  Gs1: \"/samples/casio/Gs1.mp3\",\n});\n\nplayer.toDestination();\nTone.Transport.scheduleRepeat(onBeat, \"4n\");\n\n// declaring callback function to break down time\nfunction onBeat(time) {\n  let pos = Tone.Transport.position.split(\":\");\n  let measure = int(pos[0]);\n  let beat = int(pos[1]);\n  currentStep = (measure * timeSignature[0] + beat) % nSteps();\n  let velocity = 0.5;\n\n  for (let track = 0; track < nTracks; track++) {\n    if (cells[track][currentStep]) {\n      let note = player.player(noteNames[track]);\n      note.start(time);\n    }\n  }\n}\n\n// Graphics\nlet w = 60;\nlet gray;\n// Generate a random color for each note in noteNames\nlet colors = [];\nfunction setup() {\n  createCanvas(480, 240);\n  cellWidth = width / nSteps();\n  cellHeight = height / nTracks;\n  gray = color(178, 178, 188);\n\n  // Generate a random color for each note in noteNames\n  colors = [];\n  for (let i = 0; i < noteNames.length; i++) {\n    // p5.js color object using random RGB values\n    colors.push(color(random(255), random(255), random(255)));\n  }\n\n  // Initialize all sequencer cells. ON: 1. OFF: 0.\n  for (let track = 0; track < nTracks; track++) {\n    cells[track] = [];\n    for (let step = 0; step < nSteps(); step++) {\n      cells[track][step] = 0;\n    }\n  }\n\n  playButton = createButton(\"play\");\n  playButton.position(540, 10);\n  playButton.mouseClicked(togglePlay);\n}\n\nfunction draw() {\n  background(255);\n  stroke(gray);\n\n  // Draw cells that are on\n  for (let step = 0; step < nSteps(); step++) {\n    for (let track = 0; track < nTracks; track++) {\n      if (cells[track][step] == 1) {\n        fill(colors[track]);\n        rect(step * w, track * w, w, w);\n      }\n    }\n  }\n\n  // Draw horizontal lines\n  stroke(gray);\n  for (let i = 0; i <= nTracks; i++) {\n    let y = i * w;\n    line(0, y, width, y);\n  }\n\n  // Draw vertical lines\n  for (let i = 0; i <= nSteps(); i++) {\n    // Thicker line for first beat (which marks the start of the measure)\n    if (i % timeSignature[0] == 0) {\n      strokeWeight(1);\n      stroke(234, 30, 83, 60);\n    } else {\n      stroke(gray);\n      strokeWeight(0.5);\n    }\n\n    line(i * w, 0, i * w, height);\n\n    // Highlight the step that is playing\n    if (i == currentStep && Tone.Transport.state == \"started\") {\n      fill(234, 30, 83, 60);\n      noStroke();\n      rect(i * w, 0, w, height);\n    }\n  }\n}\n\nfunction mousePressed() {\n  // Determine which cell the mouse is on\n  let i = floor(mouseX / w);\n  let j = floor(mouseY / w);\n\n  // Toggle cell on/off\n  cells[j][i] = !cells[j][i];\n}\n\nfunction togglePlay() {\n  if (Tone.Transport.state == \"started\") {\n    Tone.Transport.stop();\n    playButton.html(\"play\");\n  } else {\n    if (player.loaded) {\n      Tone.Transport.start();\n      playButton.html(\"stop\");\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67cb7d0b6173d3a910ee87dd",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87dd"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87c8",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87c8"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87de",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87de"
      },
      {
        "name": "samples",
        "content": "",
        "children": [
          "67cb7d0b6173d3a910ee87ca",
          "67cb7d0b6173d3a910ee87cf"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87c9",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87c9"
      },
      {
        "name": "505",
        "content": "",
        "children": [
          "67cb7d0b6173d3a910ee87cb",
          "67cb7d0b6173d3a910ee87cc",
          "67cb7d0b6173d3a910ee87cd",
          "67cb7d0b6173d3a910ee87ce"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87ca",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87ca"
      },
      {
        "name": "kick.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b866121d-b2ce-4f3b-b80a-367e241b640f.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87cd",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87cd"
      },
      {
        "name": "hh.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/1792c2a9-851f-4b49-86f2-3a9c5d414745.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87cb",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87cb"
      },
      {
        "name": "snare.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/5d69ae0d-2bbc-45c2-bb40-c303b99d1365.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87ce",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87ce"
      },
      {
        "name": "hho.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/d0f9d0f9-de8f-4e07-b067-71eb3715f74b.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87cc",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87cc"
      },
      {
        "name": "casio",
        "content": "",
        "children": [
          "67cb7d0b6173d3a910ee87d0",
          "67cb7d0b6173d3a910ee87d1",
          "67cb7d0b6173d3a910ee87d2",
          "67cb7d0b6173d3a910ee87d3",
          "67cb7d0b6173d3a910ee87d4",
          "67cb7d0b6173d3a910ee87d5",
          "67cb7d0b6173d3a910ee87d6",
          "67cb7d0b6173d3a910ee87d7",
          "67cb7d0b6173d3a910ee87d8",
          "67cb7d0b6173d3a910ee87d9",
          "67cb7d0b6173d3a910ee87da",
          "67cb7d0b6173d3a910ee87db",
          "67cb7d0b6173d3a910ee87dc"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87cf",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87cf"
      },
      {
        "name": "D2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/edb0eabe-b61c-4d01-80eb-4edceea80265.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87d6",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87d6"
      },
      {
        "name": "A2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/85763c3a-9b11-4936-9c5c-eaf62027b91e.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87d1",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87d1"
      },
      {
        "name": "A1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/a4c3d6d1-1b1a-4bb2-8fa7-5c3976ce5d92.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87d0",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87d0"
      },
      {
        "name": "As1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/a7b1018d-2bb9-421f-a9dd-d2d55d62d5b9.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87d2",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87d2"
      },
      {
        "name": "B1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f0505234-881d-4b52-afbe-7d62ee6829ba.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87d3",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87d3"
      },
      {
        "name": "C2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/e4b1fd8d-54cc-4de3-bc86-3b117c70d10f.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87d4",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87d4"
      },
      {
        "name": "Cs2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/5ec66f2c-126e-46d1-a27e-b87207e1cd0b.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87d5",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87d5"
      },
      {
        "name": "E2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/630dffb4-64e6-4384-85c1-6282bc045484.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87d8",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87d8"
      },
      {
        "name": "Ds2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/8d88e4bf-dbc9-4b4b-ae69-3a44aab23c43.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87d7",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87d7"
      },
      {
        "name": "F2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/d0fb25be-8a81-41b0-a9aa-695d26764a3d.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87d9",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87d9"
      },
      {
        "name": "Fs2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/4e9eeba4-dcd0-4d68-89a6-f3dbba9067a8.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87da",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87da"
      },
      {
        "name": "G2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/1d52fd60-09e4-46e1-9e5e-9b9a8568466f.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87db",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87db"
      },
      {
        "name": "Gs1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/330e2718-24fc-478f-80be-fbb6c0af6208.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67cb7d0b6173d3a910ee87dc",
        "createdAt": "2025-03-10T20:22:26.215Z",
        "updatedAt": "2025-03-10T20:22:26.215Z",
        "id": "67cb7d0b6173d3a910ee87dc"
      }
    ],
    "createdAt": "2025-03-07T23:11:08.154Z",
    "updatedAt": "2025-03-10T20:22:26.215Z",
    "id": "8hM76JI4J"
  },
  {
    "_id": "vaOdIIQzu",
    "name": "melody_starter_code copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67c73a84022b54c7bfcec7bf",
          "67c73a84022b54c7bfcec7c0",
          "67c73a84022b54c7bfcec7c1"
        ],
        "fileType": "folder",
        "_id": "67c73a84022b54c7bfcec7be",
        "createdAt": "2025-03-04T18:02:15.600Z",
        "updatedAt": "2025-03-04T18:02:15.600Z",
        "id": "67c73a84022b54c7bfcec7be"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://unpkg.com/tone@15.0.4/build/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67c73a84022b54c7bfcec7bf",
        "createdAt": "2025-03-04T18:02:15.600Z",
        "updatedAt": "2025-03-04T18:02:15.600Z",
        "id": "67c73a84022b54c7bfcec7bf"
      },
      {
        "name": "sketch.js",
        "content": "// The Code of Music\n// NYU ITP/IMA Fall 2024\n// Luisa Pereira\n\n// Starter code for the Melody chapter\n\n// Create a Synth instrument, which can play specific frequencies\nconst synth = new Tone.Synth();\nsynth.toDestination();\n\nlet fMin = 80;\n// let fMax = 1300;\nconst turns = 2;\nlet fMax = fMin * turns;\n\nfunction mousePressed() {\n  // Trigger (play) a 100Hz tone\n  // let frequency = yToF(mouseY);\n  let frequency = random(fMin, fMax);\n  console.log(frequency);\n  let velocity = mouseX / width;\n  synth.triggerAttack(frequency, velocity);\n}\n\n// function yToF(y) {\n//   // return map(y, 0, height, fMax, fMin);\n//   let turns = 2;                  // \n//   let steps = map(y, height, 0, 0, turns);\n//   return fMin * Math.pow(2, 0.5); // half an octave\n// }\n\nfunction mouseReleased() {\n  // Release (stop playing) the tone\n  synth.triggerRelease();\n}\n\n// Create p5.js' setup function - this is just to make sure p5.js is initialized \n// and the event handlers we defined above (mousePressed, mouseReleased) are called\nfunction setup() {\n  createCanvas(400, 400);\n  background(255);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67c73a84022b54c7bfcec7c0",
        "createdAt": "2025-03-04T18:02:15.600Z",
        "updatedAt": "2025-03-04T18:02:15.600Z",
        "id": "67c73a84022b54c7bfcec7c0"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67c73a84022b54c7bfcec7c1",
        "createdAt": "2025-03-04T18:02:15.600Z",
        "updatedAt": "2025-03-04T18:02:15.600Z",
        "id": "67c73a84022b54c7bfcec7c1"
      }
    ],
    "createdAt": "2025-03-04T17:38:12.893Z",
    "updatedAt": "2025-03-04T18:02:15.600Z",
    "id": "vaOdIIQzu"
  },
  {
    "_id": "MY2NFbCV1",
    "name": "Meowing lobe",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67b4d83a66caa5366bb11e2f",
          "67b4d83a66caa5366bb11e2e",
          "67b4d83a66caa5366bb11e30"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67b4d83a66caa5366bb11e31",
        "createdAt": "2025-02-18T19:04:43.384Z",
        "updatedAt": "2025-02-18T19:04:43.384Z",
        "id": "67b4d83a66caa5366bb11e31"
      },
      {
        "name": "sketch.js",
        "content": "const rajKit = new Tone.Players({\n  kartal: \"kartal.mp3\"\n})\nconst southKit = \n\nfunction setup() {\n  createCanvas(400, 400);\n}\n\nfunction draw() {\n  background(220);\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67b4d83a66caa5366bb11e2e",
        "createdAt": "2025-02-18T19:04:43.384Z",
        "updatedAt": "2025-02-18T19:04:43.384Z",
        "id": "67b4d83a66caa5366bb11e2e"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b4d83a66caa5366bb11e2f",
        "createdAt": "2025-02-18T19:04:43.384Z",
        "updatedAt": "2025-02-18T19:04:43.384Z",
        "id": "67b4d83a66caa5366bb11e2f"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b4d83a66caa5366bb11e30",
        "createdAt": "2025-02-18T19:04:43.384Z",
        "updatedAt": "2025-02-18T19:04:43.384Z",
        "id": "67b4d83a66caa5366bb11e30"
      }
    ],
    "updatedAt": "2025-02-18T19:04:43.384Z",
    "createdAt": "2025-02-18T18:58:11.848Z",
    "id": "MY2NFbCV1"
  },
  {
    "_id": "1SVetCf4V",
    "name": "Meter copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67ab9e6adaafce7af286a9a8",
          "67ab9e6adaafce7af286a9a9",
          "67ab9e6adaafce7af286a9ac",
          "67ab9e6adaafce7af286a9ad"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ab9e6adaafce7af286a9a7",
        "createdAt": "2025-02-26T03:20:52.030Z",
        "updatedAt": "2025-02-26T03:20:52.030Z",
        "id": "67ab9e6adaafce7af286a9a7"
      },
      {
        "name": "sketch.js",
        "content": "// Create a Player object and load the \"kick.mp3\" file\nconst drum = new Tone.Player(\"samples/505/kick.mp3\");\n\n// Connect the player output to the computer's audio output\ndrum.toDestination();\n\n// Set the tempo to 120 beats per minute\nTone.Transport.bpm.value = 170;\n\n// Set the time signature to 4/4. \n// See documentation: https://github.com/Tonejs/Tone.js/wiki/Transport\nTone.Transport.timeSignature = [3, 4];\n\nTone.Transport.scheduleRepeat(playDrum, \"2n\");\n\nfunction playDrum(time){\n  drum.start(time);\n  console.log(Tone.Transport.position);\n  \n    // Take a look at the middle number printed on each line on the console. It corresponds to the current beat.\n  \n  // Changing the time signature to 3/4 or 4/4 does not change the sound\n  // But it changes the counting\n  // 4/4 means we count 0, 1, 2, 3 beats before going to the next measure\n  // 3/4 means we count 0, 1, 2 before going to the next measure\n  \n  // We can then use this counting to treat each beat in a measure differently\n  // Maybe we'll play the first beat of a measure louder (if beat == 0), \n  // Or maybe it will be an entirely different type of drum.\n  \n// We will do exactly that in the next couple of examples.\n  \n}\n\nTone.loaded().then(function(){\n  console.log('loaded');\n  Tone.Transport.start();\n}\n)\n\n// Interface: p5 functions\nfunction setup(){  \n  btn = createButton(\"play\");\n  btn.mousePressed(togglePlay);\n  btn.position(0, 0);\n}\n\nfunction togglePlay(){\n  if(Tone.Transport.state == \"started\"){\n    Tone.Transport.pause();\n    btn.html(\"play\");\n  }\n  else{\n    Tone.Transport.start();\n    btn.html(\"pause\");\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67ab9e6adaafce7af286a9ac",
        "createdAt": "2025-02-26T03:20:52.030Z",
        "updatedAt": "2025-02-26T03:20:52.030Z",
        "id": "67ab9e6adaafce7af286a9ac"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab9e6adaafce7af286a9a8",
        "createdAt": "2025-02-26T03:20:52.030Z",
        "updatedAt": "2025-02-26T03:20:52.030Z",
        "id": "67ab9e6adaafce7af286a9a8"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab9e6adaafce7af286a9ad",
        "createdAt": "2025-02-26T03:20:52.030Z",
        "updatedAt": "2025-02-26T03:20:52.030Z",
        "id": "67ab9e6adaafce7af286a9ad"
      },
      {
        "name": "samples",
        "content": "",
        "children": [
          "67ab9e6adaafce7af286a9aa"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ab9e6adaafce7af286a9a9",
        "createdAt": "2025-02-26T03:20:52.030Z",
        "updatedAt": "2025-02-26T03:20:52.030Z",
        "id": "67ab9e6adaafce7af286a9a9"
      },
      {
        "name": "505",
        "content": "",
        "children": [
          "67ab9e6adaafce7af286a9ab"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67ab9e6adaafce7af286a9aa",
        "createdAt": "2025-02-26T03:20:52.030Z",
        "updatedAt": "2025-02-26T03:20:52.030Z",
        "id": "67ab9e6adaafce7af286a9aa"
      },
      {
        "name": "kick.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/111ec496-cfd1-4bb7-8113-124bc49ea0a0.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67ab9e6adaafce7af286a9ab",
        "createdAt": "2025-02-26T03:20:52.030Z",
        "updatedAt": "2025-02-26T03:20:52.030Z",
        "id": "67ab9e6adaafce7af286a9ab"
      }
    ],
    "createdAt": "2025-02-11T19:00:58.684Z",
    "updatedAt": "2025-02-26T03:20:52.030Z",
    "id": "1SVetCf4V"
  },
  {
    "_id": "0kVrmZt3K",
    "name": "Mirror flavor",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6751fcfec2ec6a58727e3129",
          "6751fcfec2ec6a58727e3128",
          "6751fcfec2ec6a58727e312a"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6751fcfec2ec6a58727e312b",
        "createdAt": "2024-12-05T19:24:46.634Z",
        "updatedAt": "2024-12-05T19:24:46.634Z",
        "id": "6751fcfec2ec6a58727e312b"
      },
      {
        "name": "sketch.js",
        "content": "let classifier;\nlet video;\nlet label;\n\nfunction preload() {\n  classifier = ml5.imageClassifier(\"MobileNet\");\n}\nfunction setup() {\n  createCanvas(400, 400);\n  video = createCapture(VIDEO);\n  video.hide();\n  \n  classifier.classifyStart(video, gotResult);\n}\n\nfunction draw() {\n  background(220);\n  image(video, 0, 0);\n  fill(\"white\");\n  text(label, 20, 20);\n}\n\nfunction gotResult(result) {\n  console.log(result);\n  label = \n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6751fcfec2ec6a58727e3128",
        "createdAt": "2024-12-05T19:24:46.634Z",
        "updatedAt": "2024-12-05T19:24:46.634Z",
        "id": "6751fcfec2ec6a58727e3128"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <script src=\"https://unpkg.com/ml5@1/dist/ml5.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6751fcfec2ec6a58727e3129",
        "createdAt": "2024-12-05T19:24:46.634Z",
        "updatedAt": "2024-12-05T19:24:46.634Z",
        "id": "6751fcfec2ec6a58727e3129"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6751fcfec2ec6a58727e312a",
        "createdAt": "2024-12-05T19:24:46.634Z",
        "updatedAt": "2024-12-05T19:24:46.634Z",
        "id": "6751fcfec2ec6a58727e312a"
      }
    ],
    "updatedAt": "2024-12-05T19:24:46.634Z",
    "createdAt": "2024-12-05T19:20:38.533Z",
    "id": "0kVrmZt3K"
  },
  {
    "_id": "0hUI0g2j8",
    "name": "Mixer starter- Bon Iver tracks copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "679fdd57b93e2f71d2307e11",
          "679fdd57b93e2f71d2307e12",
          "679fdd57b93e2f71d2307e13",
          "679fdd57b93e2f71d2307e18"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679fdd57b93e2f71d2307e10",
        "createdAt": "2025-02-02T21:02:17.152Z",
        "updatedAt": "2025-02-02T21:02:17.152Z",
        "id": "679fdd57b93e2f71d2307e10"
      },
      {
        "name": "sketch.js",
        "content": "let players = [];\nlet sliders = [];\n\n// load a track\nplayers[0] = new Tone.Player(\"stems/blobtower.mp3\");\nplayers[0].autostart = true;\nplayers[0].toDestination();\n\nplayers[1] = new Tone.Player({\n      url: \"stems/brazen_mo.mp3\", \n      autostart: true\n    });\nplayers[1].toDestination();\n\nplayers[2] = new Tone.Player({\n      url: \"stems/breezy_point_rd.mp3\", \n      autostart: true\n    }).toDestination();\n  \n\n// connect the vallue of the slider to volume of the track \n\nfunction setup() {\n  noCanvas();\n  // for each index in the players array\n  for(let i in players) {\n    // create a slider, connect it to the event listener\n    sliders[i] = createSlider(-60, 0);\n    sliders[i].id = i;\n    sliders[i].input(volumeInput);\n  }\n}\n\nfunction volumeInput(){\n  console.log(this.id, this.value());\n  let i = this.id;\n  players[i].volume.rampTo(this.value());\n}\n\nfunction draw() {\n  background(220);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "679fdd57b93e2f71d2307e12",
        "createdAt": "2025-02-02T21:02:17.152Z",
        "updatedAt": "2025-02-02T21:02:17.152Z",
        "id": "679fdd57b93e2f71d2307e12"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://unpkg.com/tone@15.0.4/build/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdd57b93e2f71d2307e11",
        "createdAt": "2025-02-02T21:02:17.152Z",
        "updatedAt": "2025-02-02T21:02:17.152Z",
        "id": "679fdd57b93e2f71d2307e11"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdd57b93e2f71d2307e18",
        "createdAt": "2025-02-02T21:02:17.152Z",
        "updatedAt": "2025-02-02T21:02:17.152Z",
        "id": "679fdd57b93e2f71d2307e18"
      },
      {
        "name": "stems",
        "content": "",
        "children": [
          "679fdd57b93e2f71d2307e14",
          "679fdd57b93e2f71d2307e15",
          "679fdd57b93e2f71d2307e16",
          "679fdd57b93e2f71d2307e17"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679fdd57b93e2f71d2307e13",
        "createdAt": "2025-02-02T21:02:17.152Z",
        "updatedAt": "2025-02-02T21:02:17.152Z",
        "id": "679fdd57b93e2f71d2307e13"
      },
      {
        "name": "lower_long_lake.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/0d407693-6a2b-443f-aace-f5047fdebe73.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdd57b93e2f71d2307e17",
        "createdAt": "2025-02-02T21:02:17.152Z",
        "updatedAt": "2025-02-02T21:02:17.152Z",
        "id": "679fdd57b93e2f71d2307e17"
      },
      {
        "name": "breezy_point_rd.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/e67c6bab-3cdc-4264-a043-97b9899b9fe5.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdd57b93e2f71d2307e16",
        "createdAt": "2025-02-02T21:02:17.152Z",
        "updatedAt": "2025-02-02T21:02:17.152Z",
        "id": "679fdd57b93e2f71d2307e16"
      },
      {
        "name": "brazen_mo.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/3635ab94-3426-449d-825e-576debec37d7.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdd57b93e2f71d2307e15",
        "createdAt": "2025-02-02T21:02:17.152Z",
        "updatedAt": "2025-02-02T21:02:17.152Z",
        "id": "679fdd57b93e2f71d2307e15"
      },
      {
        "name": "blobtower.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/0191949f-46fb-474e-873d-085e9d21be65.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdd57b93e2f71d2307e14",
        "createdAt": "2025-02-02T21:02:17.152Z",
        "updatedAt": "2025-02-02T21:02:17.152Z",
        "id": "679fdd57b93e2f71d2307e14"
      }
    ],
    "createdAt": "2025-02-02T21:02:16.538Z",
    "updatedAt": "2025-02-02T21:02:17.152Z",
    "id": "0hUI0g2j8"
  },
  {
    "_id": "NV5or5rq9",
    "name": "multiple ascii - arduino to p5; attempting w createCapture()",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "672a9889ba6c32c92bec0e23",
          "672a9889ba6c32c92bec0e24",
          "672a9889ba6c32c92bec0e25"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "672a9889ba6c32c92bec0e22",
        "createdAt": "2024-11-20T04:40:10.413Z",
        "updatedAt": "2024-11-20T04:40:10.413Z",
        "id": "672a9889ba6c32c92bec0e22"
      },
      {
        "name": "sketch.js",
        "content": "// send 2 ascii values from arduino to P5 with webSerial\n// based on Tom Igoe's lab examples\n\nconst serial = new p5.WebSerial();\nlet portButton;\nlet inData, inData2;\nlet cam;\n\nfunction setup() {\n  createCanvas(800, 600);\n  background(0);\n  allSerialStuff();\n  \n  cam = createCapture(VIDEO);\n  cam.size(width, height);\n  cam.hide();\n}\n\nfunction draw() {\n  // do your drawing stuff here\n  // no serial info here\n  // let xPosition = map(inData, 0, 1023, 0, width);\n  // let yPosition = map(inData2, 0, 1023, 0, height);\n  \n  cam.loadPixels();\n  image(cam, 0, 0);\n  \n  for (x = 0; x < width; x+=20) {\n    for (y = 0; y <= height; y+=20) {\n      let r = map(inData, 0, 1023, 0, 255);\n      let g = map(inData, 0, 1023, 0, 255);\n      fill(r, g, random(100, 255), 50);\n      noStroke();\n      ellipse(x, y, 15, 15);\n    }\n  }\n}\n\nfunction mousePressed() {\n  background(255);\n}\n\nfunction serialEvent() {\n  // this is called when data is recieved, data will then live in fromSerial\n  var stringFromSerial = serial.readLine(); // reads everything till the new line charecter\n  if (stringFromSerial) {\n    // is there something there ?\n    var trimmedString = trim(stringFromSerial); // get rid of all white space (returns, spaces, tabs)\n    var myArray = split(trimmedString, \",\"); // splits the string into an array on commas\n    inData = Number(myArray[0]); // get the first item in the array and turn into integer\n    inData2 = Number(myArray[1]); // get the second item in the array and turn into integer\n  }\n}\n\nfunction allSerialStuff() {\n  if (!navigator.serial) {\n    alert(\"WebSerial is not supported in this browser. Try Chrome or MS Edge.\");\n  }\n  // check for any ports that are available:\n  serial.getPorts();\n  // if there's no port chosen, choose one:\n  serial.on(\"noport\", makePortButton);\n  // open whatever port is available:\n  serial.on(\"portavailable\", openPort);\n  // handle serial errors:\n  serial.on(\"requesterror\", portError);\n  // handle any incoming serial data:\n  serial.on(\"data\", serialEvent);\n  serial.on(\"close\", makePortButton);\n  // add serial connect/disconnect listeners:\n  navigator.serial.addEventListener(\"connect\", portConnect);\n  navigator.serial.addEventListener(\"disconnect\", portDisconnect);\n}\n// if there's no port selected,\n// make a port select button appear:\nfunction makePortButton() {\n  // create and position a port chooser button:\n  portButton = createButton(\"choose port\");\n  portButton.position(10, 10);\n  // give the port button a mousepressed handler:\n  portButton.mousePressed(choosePort);\n}\n\n// make the port selector window appear:\nfunction choosePort() {\n  if (portButton) portButton.show();\n  serial.requestPort();\n}\n\n// open the selected port, and make the port\n// button invisible:\n// open the selected port, and make the port\n// button invisible:\nfunction openPort() {\n  // wait for the serial.open promise to return,\n  // then call the initiateSerial function\n  serial.open().then(initiateSerial);\n\n  // once the port opens, let the user know:\n  function initiateSerial() {\n    console.log(\"port open\");\n  }\n  // hide the port button once a port is chosen:\n  if (portButton) portButton.hide();\n}\n\n// pop up an alert if there's a port error:\nfunction portError(err) {\n  alert(\"Serial port error: \" + err);\n}\n// read any incoming data as a string\n// (assumes a newline at the end of it):\n\n// try to connect if a new serial port\n// gets added (i.e. plugged in via USB):\nfunction portConnect() {\n  console.log(\"port connected\");\n  serial.getPorts();\n}\n\n// if a port is disconnected:\nfunction portDisconnect() {\n  serial.close();\n  console.log(\"port disconnected\");\n}\n\nfunction closePort() {\n  serial.close();\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "672a9889ba6c32c92bec0e24",
        "createdAt": "2024-11-20T04:40:10.413Z",
        "updatedAt": "2024-11-20T04:40:10.413Z",
        "id": "672a9889ba6c32c92bec0e24"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js\"\n  integrity=\"sha512-WIklPM6qPCIp6d3fSSr90j+1unQHUOoWDS4sdTiR8gxUTnyZ8S2Mr8e10sKKJ/bhJgpAa/qG068RDkg6fIlNFA==\"\n  crossorigin=\"anonymous\"></script>\n  <script src=\"https://unpkg.com/p5-webserial@0.1.1/build/p5.webserial.js\"></script>\n <script src=\"sketch.js\"></script>\n  <meta charset=\"UTF-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>p5.webserial</title>\n</head>\n</html>",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672a9889ba6c32c92bec0e23",
        "createdAt": "2024-11-20T04:40:10.413Z",
        "updatedAt": "2024-11-20T04:40:10.413Z",
        "id": "672a9889ba6c32c92bec0e23"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672a9889ba6c32c92bec0e25",
        "createdAt": "2024-11-20T04:40:10.413Z",
        "updatedAt": "2024-11-20T04:40:10.413Z",
        "id": "672a9889ba6c32c92bec0e25"
      }
    ],
    "createdAt": "2024-11-05T22:13:29.841Z",
    "updatedAt": "2024-11-20T04:40:10.413Z",
    "id": "NV5or5rq9"
  },
  {
    "_id": "p77hrfhwM",
    "name": "Numerous milk",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6723bd78a4a79c940d6e3a18",
          "6723bd78a4a79c940d6e3a17",
          "6723bd78a4a79c940d6e3a19"
        ],
        "fileType": "folder",
        "_id": "6723bd78a4a79c940d6e3a1a",
        "createdAt": "2024-10-31T17:40:20.309Z",
        "updatedAt": "2024-10-31T17:40:20.309Z",
        "id": "6723bd78a4a79c940d6e3a1a"
      },
      {
        "name": "sketch.js",
        "content": "let cam;\n\nfunction setup() {\n  createCanvas(640, 480);\n  cam = createCapture(VIDEO);\n  \n  cam.hide();\n}\n\nfunction draw() {\n  background(220);\n  \n  image(cam, 0, 0);\n  push();\n  scale(-1, 1)\n  copy(cam, 0, 0, width/2, height, -width, 0, width/2, height) // can copy an image and you can specify where you want it to start/end copying (like a selection tool)\n  pop(); // push and pop create a matrix between them (like a piece of paper)\n  \n  \n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6723bd78a4a79c940d6e3a17",
        "createdAt": "2024-10-31T17:40:20.309Z",
        "updatedAt": "2024-10-31T17:40:20.309Z",
        "id": "6723bd78a4a79c940d6e3a17"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "6723bd78a4a79c940d6e3a18",
        "createdAt": "2024-10-31T17:40:20.309Z",
        "updatedAt": "2024-10-31T17:40:20.309Z",
        "id": "6723bd78a4a79c940d6e3a18"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "6723bd78a4a79c940d6e3a19",
        "createdAt": "2024-10-31T17:40:20.309Z",
        "updatedAt": "2024-10-31T17:40:20.309Z",
        "id": "6723bd78a4a79c940d6e3a19"
      }
    ],
    "updatedAt": "2024-10-31T17:40:20.309Z",
    "createdAt": "2024-10-31T17:40:20.309Z",
    "id": "p77hrfhwM"
  },
  {
    "_id": "Nly3wUDo6",
    "name": "particle system final copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67454ac02a8d73c76d29a306",
          "67454ac02a8d73c76d29a307",
          "67454ac02a8d73c76d29a308",
          "67454ac02a8d73c76d29a309",
          "67454ac02a8d73c76d29a30a"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67454ac02a8d73c76d29a305",
        "createdAt": "2024-11-26T04:15:08.590Z",
        "updatedAt": "2024-11-26T04:15:08.590Z",
        "id": "67454ac02a8d73c76d29a305"
      },
      {
        "name": "sketch.js",
        "content": "const serial = new p5.WebSerial();\nlet portButton;\nlet inData1, inData2;\nlet outByte = 0;\nconst PROCESS_INTERVAL = 30; \n\nlet ps = [];\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n  colorMode(HSB, 255);\n\n  if (!navigator.serial) {\n    alert(\"WebSerial is not supported in this browser. Try Chrome or MS Edge.\");\n  }\n  // if serial is available, add connect/disconnect listeners:\n  navigator.serial.addEventListener(\"connect\", portConnect);\n  navigator.serial.addEventListener(\"disconnect\", portDisconnect);\n  // check for any ports that are available:\n  serial.getPorts();\n  // if there's no port chosen, choose one:\n  serial.on(\"noport\", makePortButton);\n  // open whatever port is available:\n  serial.on(\"portavailable\", openPort);\n  // handle serial errors:\n  serial.on(\"requesterror\", portError);\n  // handle any incoming serial data:\n  serial.on(\"data\", serialEvent);\n  serial.on(\"close\", makePortButton);\n}\n\nfunction draw() {\n  background(0);\n\n  if (frameCount % PROCESS_INTERVAL === 0) {\n    // Example logic using the three data values\n    if (inData1 > 5) {\n      ps.push(new System(width / 2, height / 2));\n    }\n    \n    if (inData2 > 10) {\n      ps.push(new System(width / 2, height / 2));\n    }\n\n//     if (inData3 > 100) {\n//       ps.push(new System(width / 2, height / 2));\n//     }\n  }\n\n  for (let i = ps.length - 1; i >= 0; i--) {\n    ps[i].update();\n    ps[i].display();\n\n    if (ps[i].done) {\n      ps.splice(i, 1);\n    }\n  }\n}\n\n// if there's no port selected,\n// make a port select button appear:\nfunction makePortButton() {\n  portButton = createButton(\"choose port\");\n  portButton.position(10, 10);\n  portButton.mousePressed(choosePort);\n}\n\nfunction choosePort() {\n  serial.requestPort();\n}\n\nfunction openPort() {\n  serial.open().then(initiateSerial);\n\n  function initiateSerial() {\n    console.log(\"port open\");\n  }\n\n  if (portButton) portButton.hide();\n}\n\nfunction portError(err) {\n  alert(\"Serial port error: \" + err);\n}\n\nfunction serialEvent() {\n  // read a string from the serial port:\n  var inString = serial.readLine();\n\n  // check to see that there's actually a string there:\n  if (inString) {\n    // Assume incoming data is comma-separated (e.g., \"12,34,56\")\n    let data = inString.split(\",\"); // Split string by commas into an array\n\n    if (data.length === 2) {\n      inData1 = Number(data[0]); // First data\n      inData2 = Number(data[1]); // Second data\n      // inData3 = Number(data[2]); // Third data\n    }\n  }\n}\n\nfunction portConnect() {\n  console.log(\"port connected\");\n  serial.getPorts();\n}\n\nfunction portDisconnect() {\n  serial.close();\n  console.log(\"port disconnected\");\n}\n\nfunction closePort() {\n  serial.close();\n}\n\n// function mouseClicked() {\n//   ps.push(new System(width/2,height/2));\n// }\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67454ac02a8d73c76d29a308",
        "createdAt": "2024-11-26T04:15:08.590Z",
        "updatedAt": "2024-11-26T04:15:08.590Z",
        "id": "67454ac02a8d73c76d29a308"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://unpkg.com/p5-webserial@0.1.1/build/p5.webserial.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n    <script src=\"particle.js\"></script>\n    <script src=\"system.js\"></script>\n  </body>\n</html>",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67454ac02a8d73c76d29a306",
        "createdAt": "2024-11-26T04:15:08.590Z",
        "updatedAt": "2024-11-26T04:15:08.590Z",
        "id": "67454ac02a8d73c76d29a306"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67454ac02a8d73c76d29a309",
        "createdAt": "2024-11-26T04:15:08.590Z",
        "updatedAt": "2024-11-26T04:15:08.590Z",
        "id": "67454ac02a8d73c76d29a309"
      },
      {
        "name": "particle.js",
        "content": "class Particle {\n  constructor(x, y) {\n    this.pos = createVector(x, y);\n    this.vel = createVector(0, 0);\n    this.acc = p5.Vector.random2D(); //creates a vector with random components in the 2D plane (x, y), where both x and y are values between -1 and 1.\n    this.acc.mult(random(0.05, 0.07)); //multiplies value 1 to 0.05\n\n    this.life = inData1\n    this.done = false;\n    this.hueVal = 255\n  }\n\n  update() {\n    this.finished();\n\n    this.vel.add(this.acc);\n    this.pos.add(this.vel); //add x,y component of pos to the x,y component of vel\n\n    if (this.hueVal > 255){\n      this.hueVal = 0\n    }\n    \n    this.hueVal += random(5,10)\n    this.life -= 2;\n  }\n\n  display() {\n    \n    noStroke();\n    fill(inData1, inData2, 150);\n    //fill(inData, inData, this.life);\n    ellipse(this.pos.x, this.pos.y, 3, 3);\n  }\n\n  finished() {\n    if (this.life < 0) {\n      this.done = true;\n    } else {\n      this.done = false;\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67454ac02a8d73c76d29a307",
        "createdAt": "2024-11-26T04:15:08.590Z",
        "updatedAt": "2024-11-26T04:15:08.590Z",
        "id": "67454ac02a8d73c76d29a307"
      },
      {
        "name": "system.js",
        "content": "class System {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n    this.particles = [];\n    this.num = 100;\n\n    for (let i = 0; i < this.num; i++) {\n      //this.particles.push(new Particle(width/2, height/2));\n      this.particles.push(new Particle(random(0,width), random(0,height)));\n    }\n    this.done = false;\n  }\n\n  update() {\n    this.finished();\n    for (let i = this.particles.length - 1; i >= 0; i--) {\n      this.particles[i].update();\n\n      if (this.particles[i].done) {\n        this.particles.splice(i, 1);\n      }\n    }\n  }\n\n  display() {\n    for (let i = 0; i < this.particles.length; i++) {\n      this.particles[i].display();\n    }\n  }\n\n  finished() {\n    if (this.particles.length == 0) {\n      this.done = true;\n    } else {\n      this.done = false;\n    }\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67454ac02a8d73c76d29a30a",
        "createdAt": "2024-11-26T04:15:08.590Z",
        "updatedAt": "2024-11-26T04:15:08.590Z",
        "id": "67454ac02a8d73c76d29a30a"
      }
    ],
    "createdAt": "2024-11-26T04:12:48.321Z",
    "updatedAt": "2024-11-26T04:15:08.590Z",
    "id": "Nly3wUDo6"
  },
  {
    "_id": "dxTxxDnnW",
    "name": "PCOMP changing servo + LED in createCapture()",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "672a867fcb55647f6167ef99",
          "672a867fcb55647f6167ef9a",
          "672a867fcb55647f6167ef9b"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "672a867fcb55647f6167ef98",
        "createdAt": "2024-11-05T21:18:53.123Z",
        "updatedAt": "2024-11-05T21:18:53.123Z",
        "id": "672a867fcb55647f6167ef98"
      },
      {
        "name": "sketch.js",
        "content": "// send one binary value from P5 to Arduino with webSerial\n// based on Tom Igoe's lab examples\n\nconst serial = new p5.WebSerial();\nlet portButton;\nlet ourVideo;\n\nfunction setup() {\n  createCanvas(400, 300);\n  allSerialStuff();\n  \n  ourVideo = createCapture(VIDEO);\n  ourVideo.size(width, height);\n  ourVideo.hide();\n}\n\nfunction draw() {\n  background(255,0,0);\n  image(ourVideo, 0, 0);\n  let ourColor = ourVideo.get(mouseX,mouseY);\n  let bright = floor( brightness(ourColor)); //floor gets rid of decimals\n  console.log(bright);\n  serial.write(bright);   // sends as byte unless it's a string\n}\n\nfunction allSerialStuff() {\n  if (!navigator.serial) {\n    alert(\"WebSerial is not supported in this browser. Try Chrome or MS Edge.\");\n  }\n  // check for any ports that are available:\n  serial.getPorts();\n  // if there's no port chosen, choose one:\n  serial.on(\"noport\", makePortButton);\n  // open whatever port is available:\n  serial.on(\"portavailable\", openPort);\n  // handle serial errors:\n  serial.on(\"requesterror\", portError);\n  // handle any incoming serial data:\n  serial.on(\"data\", serialEvent);\n  serial.on(\"close\", makePortButton);\n  // add serial connect/disconnect listeners:\n  navigator.serial.addEventListener(\"connect\", portConnect);\n  navigator.serial.addEventListener(\"disconnect\", portDisconnect);\n}\n// if there's no port selected,\n// make a port select button appear:\nfunction makePortButton() {\n  // create and position a port chooser button:\n  portButton = createButton(\"choose port\");\n  portButton.position(10, 10);\n  // give the port button a mousepressed handler:\n  portButton.mousePressed(choosePort);\n}\n\n// make the port selector window appear:\nfunction choosePort() {\n  if (portButton) portButton.show();\n  serial.requestPort();\n}\n\n\nfunction serialEvent() {\n}\n\n\n// open the selected port, and make the port\n// button invisible:\n// open the selected port, and make the port\n// button invisible:\nfunction openPort() {\n  // wait for the serial.open promise to return,\n  // then call the initiateSerial function\n  serial.open().then(initiateSerial);\n\n  // once the port opens, let the user know:\n  function initiateSerial() {\n    console.log(\"port open\");\n  }\n  // hide the port button once a port is chosen:\n  if (portButton) portButton.hide();\n}\n\n// pop up an alert if there's a port error:\nfunction portError(err) {\n  alert(\"Serial port error: \" + err);\n}\n// read any incoming data as a string\n// (assumes a newline at the end of it):\n\n// try to connect if a new serial port\n// gets added (i.e. plugged in via USB):\nfunction portConnect() {\n  console.log(\"port connected\");\n  serial.getPorts();\n}\n\n// if a port is disconnected:\nfunction portDisconnect() {\n  serial.close();\n  console.log(\"port disconnected\");\n}\n\nfunction closePort() {\n  serial.close();\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "672a867fcb55647f6167ef9a",
        "createdAt": "2024-11-05T21:18:53.123Z",
        "updatedAt": "2024-11-05T21:18:53.123Z",
        "id": "672a867fcb55647f6167ef9a"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js\"\n  integrity=\"sha512-WIklPM6qPCIp6d3fSSr90j+1unQHUOoWDS4sdTiR8gxUTnyZ8S2Mr8e10sKKJ/bhJgpAa/qG068RDkg6fIlNFA==\"\n  crossorigin=\"anonymous\"></script>\n  <script src=\"https://unpkg.com/p5-webserial@0.1.1/build/p5.webserial.js\"></script>\n <script src=\"sketch.js\"></script>\n  <meta charset=\"UTF-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>p5.webserial</title>\n</head>\n</html>",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672a867fcb55647f6167ef99",
        "createdAt": "2024-11-05T21:18:53.123Z",
        "updatedAt": "2024-11-05T21:18:53.123Z",
        "id": "672a867fcb55647f6167ef99"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672a867fcb55647f6167ef9b",
        "createdAt": "2024-11-05T21:18:53.123Z",
        "updatedAt": "2024-11-05T21:18:53.123Z",
        "id": "672a867fcb55647f6167ef9b"
      }
    ],
    "createdAt": "2024-11-05T20:56:31.334Z",
    "updatedAt": "2024-11-05T21:18:53.123Z",
    "id": "dxTxxDnnW"
  },
  {
    "_id": "cuRRC8Qk7",
    "name": "PCOMP W8L2",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "672523455fa4171a58ef440c",
          "672523455fa4171a58ef440b",
          "672523455fa4171a58ef440d"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "672523455fa4171a58ef440e",
        "createdAt": "2024-11-01T20:39:59.079Z",
        "updatedAt": "2024-11-01T20:39:59.079Z",
        "id": "672523455fa4171a58ef440e"
      },
      {
        "name": "sketch.js",
        "content": "// variable to hold an instance of the p5.webserial library:\nconst serial = new p5.WebSerial();\nlet xPos = 0;\n \n// HTML button object:\nlet portButton;\nlet inData;                   // for incoming serial data\nlet outByte = 0;              // for outgoing data\n \nfunction setup() {\n  createCanvas(400, 300);\n  // do it this way because graph can't reset in draw loop\n  background(0x08, 0x16, 0x40);         \n  // check to see if serial is available:\n  if (!navigator.serial) {\n    alert(\"WebSerial is not supported in this browser. Try Chrome or MS Edge.\");\n  }\n  // if serial is available, add connect/disconnect listeners:\n  navigator.serial.addEventListener(\"connect\", portConnect);\n  navigator.serial.addEventListener(\"disconnect\", portDisconnect);\n  // check for any ports that are available:\n  serial.getPorts();\n  // if there's no port chosen, choose one:\n  serial.on(\"noport\", makePortButton);\n  // open whatever port is available:\n  serial.on(\"portavailable\", openPort);\n  // handle serial errors:\n  serial.on(\"requesterror\", portError);\n  // handle any incoming serial data:\n  serial.on(\"data\", serialEvent);\n  serial.on(\"close\", makePortButton);\n}\n\nfunction graphData(newData) {\n  // map the range of the input to the window height:\n  var yPos = map(newData, 0, 255, 0, height);\n  // draw the line in a pretty color:\n  stroke(0xA8, 0xD9, 0xA7);\n  line(xPos, height, xPos, height - yPos);\n  // at the edge of the screen, go back to the beginning:\n  if (xPos >= width) {\n    xPos = 0;\n    // clear the screen by resetting the background:\n    background(0x08, 0x16, 0x40);\n  } else {\n    // increment the horizontal position for the next reading:\n    xPos++;\n  }\n}\n\nfunction draw() {\n   graphData(inData);\n}\n\n// if there's no port selected, \n// make a port select button appear:\nfunction makePortButton() {\n  // create and position a port chooser button:\n  portButton = createButton(\"choose port\");\n  portButton.position(10, 10);\n  // give the port button a mousepressed handler:\n  portButton.mousePressed(choosePort);\n}\n \n// make the port selector window appear:\nfunction choosePort() {\n  if (portButton) portButton.show();\n  serial.requestPort();\n}\n \n// open the selected port, and make the port \n// button invisible:\nfunction openPort() {\n  // wait for the serial.open promise to return,\n  // then call the initiateSerial function\n  serial.open().then(initiateSerial);\n \n  // once the port opens, let the user know:\n  function initiateSerial() {\n    console.log(\"port open\");\n  }\n  // hide the port button once a port is chosen:\n  if (portButton) portButton.hide();\n}\n \n// pop up an alert if there's a port error:\nfunction portError(err) {\n  alert(\"Serial port error: \" + err);\n}\n// read any incoming data as a string\n// (assumes a newline at the end of it):\nfunction serialEvent() {\n  // read a string from the serial port:\n  var inString = serial.readLine();\n  // check to see that there's actually a string there:\n  if (inString) {\n  // convert it to a number:\n  inData = Number(inString);\n  }\n}\n \n// try to connect if a new serial port \n// gets added (i.e. plugged in via USB):\nfunction portConnect() {\n  console.log(\"port connected\");\n  serial.getPorts();\n}\n \n// if a port is disconnected:\nfunction portDisconnect() {\n  serial.close();\n  console.log(\"port disconnected\");\n}\n \nfunction closePort() {\n  serial.close();\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "672523455fa4171a58ef440b",
        "createdAt": "2024-11-01T20:39:59.079Z",
        "updatedAt": "2024-11-01T20:39:59.079Z",
        "id": "672523455fa4171a58ef440b"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.0/p5.js\"></script>\n    <script src=\"https://unpkg.com/p5-webserial@0.1.1/build/p5.webserial.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672523455fa4171a58ef440c",
        "createdAt": "2024-11-01T20:39:59.079Z",
        "updatedAt": "2024-11-01T20:39:59.079Z",
        "id": "672523455fa4171a58ef440c"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672523455fa4171a58ef440d",
        "createdAt": "2024-11-01T20:39:59.079Z",
        "updatedAt": "2024-11-01T20:39:59.079Z",
        "id": "672523455fa4171a58ef440d"
      }
    ],
    "updatedAt": "2024-11-01T20:39:59.079Z",
    "createdAt": "2024-11-01T18:56:27.400Z",
    "id": "cuRRC8Qk7"
  },
  {
    "_id": "0v11rEX5O",
    "name": "PCOMP W8L3",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "672553fb092671ba4cd62de0",
          "672553fb092671ba4cd62ddf",
          "672553fb092671ba4cd62de1"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "672553fb092671ba4cd62de2",
        "createdAt": "2024-11-02T18:21:15.864Z",
        "updatedAt": "2024-11-02T18:21:15.864Z",
        "id": "672553fb092671ba4cd62de2"
      },
      {
        "name": "sketch.js",
        "content": "// variable to hold an instance of the p5.webserial library:\nconst serial = new p5.WebSerial();\n \n// HTML button object:\nlet portButton;\nlet inData;                            // for incoming serial data\nlet outByte = 0;                       // for outgoing data\n \nfunction setup() {\n  createCanvas(400, 300);          // make the canvas\n  // check to see if serial is available:\n  if (!navigator.serial) {\n    alert(\"WebSerial is not supported in this browser. Try Chrome or MS Edge.\");\n  }\n  // if serial is available, add connect/disconnect listeners:\n  navigator.serial.addEventListener(\"connect\", portConnect);\n  navigator.serial.addEventListener(\"disconnect\", portDisconnect);\n  // check for any ports that are available:\n  serial.getPorts();\n  // if there's no port chosen, choose one:\n  serial.on(\"noport\", makePortButton);\n  // open whatever port is available:\n  serial.on(\"portavailable\", openPort);\n  // handle serial errors:\n  serial.on(\"requesterror\", portError);\n  // handle any incoming serial data:\n  serial.on(\"data\", serialEvent);\n  serial.on(\"close\", makePortButton);\n}\n \nfunction draw() {\n  // black background, white text:\n  background(0);\n  fill(255);\n  // display the incoming serial data as a string:\n  text(\"incoming value: \" + inData, 30, 30);\n}\n\nfunction mouseDragged() {\n  // map the mouseY to a range from 0 to 255:\n  outByte = byte(map(mouseY, 0, height, 0, 255));\n  // send it out the serial port:\n  serial.println(outByte);\n}\nfunction keyPressed() {\n  if (key >= 0 && key <= 9) {\n    // if the user presses 0 through 9\n    outByte = byte(key * 25); // map the key to a range from 0 to 225\n    serial.write(outByte); // send it out the serial port\n  }\n  if (key === \"H\" || key === \"L\") {\n    // if the user presses H or L\n    serial.write(key); // send it out the serial port\n  }\n}\n\n// if there's no port selected, \n// make a port select button appear:\nfunction makePortButton() {\n  // create and position a port chooser button:\n  portButton = createButton(\"choose port\");\n  portButton.position(10, 10);\n  // give the port button a mousepressed handler:\n  portButton.mousePressed(choosePort);\n}\n \n// make the port selector window appear:\nfunction choosePort() {\n  serial.requestPort();\n}\n \n// open the selected port, and make the port \n// button invisible:\nfunction openPort() {\n  // wait for the serial.open promise to return,\n  // then call the initiateSerial function\n  serial.open().then(initiateSerial);\n \n  // once the port opens, let the user know:\n  function initiateSerial() {\n    console.log(\"port open\");\n  }\n  // hide the port button once a port is chosen:\n  if (portButton) portButton.hide();\n}\n \n// read any incoming data as a byte:\nfunction serialEvent() {\n  // read a byte from the serial port:\n  var inByte = serial.read();\n  // store it in a global variable:\n  inData = inByte;\n}\n \n// pop up an alert if there's a port error:\nfunction portError(err) {\n  alert(\"Serial port error: \" + err);\n}\n \n// try to connect if a new serial port \n// gets added (i.e. plugged in via USB):\nfunction portConnect() {\n  console.log(\"port connected\");\n  serial.getPorts();\n}\n \n// if a port is disconnected:\nfunction portDisconnect() {\n  serial.close();\n  console.log(\"port disconnected\");\n}\n \nfunction closePort() {\n  serial.close();\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "672553fb092671ba4cd62ddf",
        "createdAt": "2024-11-02T18:21:15.864Z",
        "updatedAt": "2024-11-02T18:21:15.864Z",
        "id": "672553fb092671ba4cd62ddf"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.0/p5.js\"></script>\n    <script src=\"https://unpkg.com/p5-webserial@0.1.1/build/p5.webserial.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672553fb092671ba4cd62de0",
        "createdAt": "2024-11-02T18:21:15.864Z",
        "updatedAt": "2024-11-02T18:21:15.864Z",
        "id": "672553fb092671ba4cd62de0"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672553fb092671ba4cd62de1",
        "createdAt": "2024-11-02T18:21:15.864Z",
        "updatedAt": "2024-11-02T18:21:15.864Z",
        "id": "672553fb092671ba4cd62de1"
      }
    ],
    "updatedAt": "2024-11-02T18:21:15.864Z",
    "createdAt": "2024-11-02T18:20:49.699Z",
    "id": "0v11rEX5O"
  },
  {
    "_id": "Dz3mQ1AhQ",
    "name": "pcomp week 8 lab 2",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67207ed6994d1e569f749776",
          "67207ed6994d1e569f749775",
          "67207ed6994d1e569f749777"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67207ed6994d1e569f749778",
        "createdAt": "2024-10-29T20:58:43.699Z",
        "updatedAt": "2024-10-29T20:58:43.699Z",
        "id": "67207ed6994d1e569f749778"
      },
      {
        "name": "sketch.js",
        "content": "// variable to hold an instance of the p5.webserial library:\nconst serial = new p5.WebSerial();\n \n// HTML button object:\nlet portButton;\nlet inData;                   // for incoming serial data\nlet outByte = 0;              // for outgoing data\n \nfunction setup() {\n  createCanvas(400, 300);          // make the canvas\n  // check to see if serial is available:\n  if (!navigator.serial) {\n    alert(\"WebSerial is not supported in this browser. Try Chrome or MS Edge.\");\n  }\n  // if serial is available, add connect/disconnect listeners:\n  navigator.serial.addEventListener(\"connect\", portConnect);\n  navigator.serial.addEventListener(\"disconnect\", portDisconnect);\n  // check for any ports that are available:\n  serial.getPorts();\n  // if there's no port chosen, choose one:\n  serial.on(\"noport\", makePortButton);\n  // open whatever port is available:\n  serial.on(\"portavailable\", openPort);\n  // handle serial errors:\n  serial.on(\"requesterror\", portError);\n  // handle any incoming serial data:\n  serial.on(\"data\", serialEvent);\n  serial.on(\"close\", makePortButton);\n}\n\n// function draw() {\n//   background(0);\n//    fill(255);\n//    text(\"sensor value: \" + inData, 30, 50);\n// }\n\n// if there's no port selected, \n// make a port select button appear:\nfunction makePortButton() {\n  // create and position a port chooser button:\n  portButton = createButton(\"choose port\");\n  portButton.position(10, 10);\n  // give the port button a mousepressed handler:\n  portButton.mousePressed(choosePort);\n}\n \n// make the port selector window appear:\nfunction choosePort() {\n  if (portButton) portButton.show();\n  serial.requestPort();\n}\n \n// open the selected port, and make the port \n// button invisible:\nfunction openPort() {\n  // wait for the serial.open promise to return,\n  // then call the initiateSerial function\n  serial.open().then(initiateSerial);\n \n  // once the port opens, let the user know:\n  function initiateSerial() {\n    console.log(\"port open\");\n  }\n  // hide the port button once a port is chosen:\n  if (portButton) portButton.hide();\n}\n \n// pop up an alert if there's a port error:\nfunction portError(err) {\n  alert(\"Serial port error: \" + err);\n}\n// read any incoming data as a string\n// (assumes a newline at the end of it):\nfunction serialEvent() {\n  inData = Number(serial.read());\n  console.log(inData);\n}\n \n// try to connect if a new serial port \n// gets added (i.e. plugged in via USB):\nfunction portConnect() {\n  console.log(\"port connected\");\n  serial.getPorts();\n}\n \n// if a port is disconnected:\nfunction portDisconnect() {\n  serial.close();\n  console.log(\"port disconnected\");\n}\n \nfunction closePort() {\n  serial.close();\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67207ed6994d1e569f749775",
        "createdAt": "2024-10-29T20:58:43.699Z",
        "updatedAt": "2024-10-29T20:58:43.699Z",
        "id": "67207ed6994d1e569f749775"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67207ed6994d1e569f749776",
        "createdAt": "2024-10-29T20:58:43.699Z",
        "updatedAt": "2024-10-29T20:58:43.699Z",
        "id": "67207ed6994d1e569f749776"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67207ed6994d1e569f749777",
        "createdAt": "2024-10-29T20:58:43.699Z",
        "updatedAt": "2024-10-29T20:58:43.699Z",
        "id": "67207ed6994d1e569f749777"
      }
    ],
    "updatedAt": "2024-10-29T20:58:43.699Z",
    "createdAt": "2024-10-29T20:58:43.699Z",
    "id": "Dz3mQ1AhQ"
  },
  {
    "_id": "eQRbKGuLq",
    "name": "Peach school",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67a0170a223c82fa3940b3fc",
          "67a0172e223c82fa3940b400",
          "67a01721223c82fa3940b3ff",
          "67a0170a223c82fa3940b3fb",
          "67a0170a223c82fa3940b3fd"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67a0170a223c82fa3940b3fe",
        "createdAt": "2025-02-03T01:09:24.477Z",
        "updatedAt": "2025-02-03T01:09:24.477Z",
        "id": "67a0170a223c82fa3940b3fe"
      },
      {
        "name": "sketch.js",
        "content": "function setup() {\n  createCanvas(400, 400);\n}\n\nfunction draw() {\n  background(220);\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a0170a223c82fa3940b3fb",
        "createdAt": "2025-02-03T01:09:24.477Z",
        "updatedAt": "2025-02-03T01:09:24.477Z",
        "id": "67a0170a223c82fa3940b3fb"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a0170a223c82fa3940b3fc",
        "createdAt": "2025-02-03T01:09:24.477Z",
        "updatedAt": "2025-02-03T01:09:24.477Z",
        "id": "67a0170a223c82fa3940b3fc"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a0170a223c82fa3940b3fd",
        "createdAt": "2025-02-03T01:09:24.477Z",
        "updatedAt": "2025-02-03T01:09:24.477Z",
        "id": "67a0170a223c82fa3940b3fd"
      },
      {
        "name": "lessonTrack.js",
        "content": "",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a01721223c82fa3940b3ff",
        "createdAt": "2025-02-03T01:09:24.477Z",
        "updatedAt": "2025-02-03T01:09:24.477Z",
        "id": "67a01721223c82fa3940b3ff"
      },
      {
        "name": "instrumentalTrack.js",
        "content": "class instrumentalTrack {\n  constructor {\n    \n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67a0172e223c82fa3940b400",
        "createdAt": "2025-02-03T01:09:24.477Z",
        "updatedAt": "2025-02-03T01:09:24.477Z",
        "id": "67a0172e223c82fa3940b400"
      }
    ],
    "updatedAt": "2025-02-03T01:09:24.477Z",
    "createdAt": "2025-02-03T01:09:24.477Z",
    "id": "eQRbKGuLq"
  },
  {
    "_id": "qVtPx0W_z",
    "name": "record + loop",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "679ffc0ba3200b305d5a5244",
          "679ffc0ba3200b305d5a5245",
          "679ffc0ba3200b305d5a5246"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679ffc0ba3200b305d5a5243",
        "createdAt": "2025-02-02T23:13:22.321Z",
        "updatedAt": "2025-02-02T23:13:22.321Z",
        "id": "679ffc0ba3200b305d5a5243"
      },
      {
        "name": "sketch.js",
        "content": "let recorder;\nlet player;\nlet isRecording = false;\n\nfunction setup() {\n    // Start audio context\n    Tone.start();\n    \n    // Create recorder\n    recorder = new Tone.Recorder();\n    \n    // Connect microphone to recorder\n    const mic = new Tone.UserMedia();\n    mic.open().then(() => {\n        mic.connect(recorder);\n        console.log('Microphone ready');\n    }).catch(e => {\n        console.log('Error opening microphone:', e);\n    });\n}\n\nfunction draw() {\n    // Optional: Add visual feedback for recording state\n}\n\nfunction keyPressed() {       \n    if (keyCode === 32) { // Space key\n        if (!isRecording) {\n            // Start recording\n            recorder.start();\n            isRecording = true;\n            console.log('Recording started');\n        } else {\n            // Stop recording and play back\n            isRecording = false;\n            console.log('Recording stopped');\n            \n            recorder.stop().then(recording => {\n                // Create a new blob URL from the recording\n                const url = URL.createObjectURL(recording);\n                \n                // If there's an existing player, stop and dispose of it\n                if (player) {\n                    player.stop();\n                    player.dispose();\n                }\n                \n                // Create a new player with the recording\n                player = new Tone.Player({\n                    url: url,\n                    loop: true,\n                    autostart: true\n                }).toDestination();\n                \n            });\n        }\n    }\n}\n\nfunction keyReleased() {       \n    // Optional: Add key release handling\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "679ffc0ba3200b305d5a5245",
        "createdAt": "2025-02-02T23:13:22.321Z",
        "updatedAt": "2025-02-02T23:13:22.321Z",
        "id": "679ffc0ba3200b305d5a5245"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://unpkg.com/tone@15.0.4/build/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffc0ba3200b305d5a5244",
        "createdAt": "2025-02-02T23:13:22.321Z",
        "updatedAt": "2025-02-02T23:13:22.321Z",
        "id": "679ffc0ba3200b305d5a5244"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679ffc0ba3200b305d5a5246",
        "createdAt": "2025-02-02T23:13:22.321Z",
        "updatedAt": "2025-02-02T23:13:22.321Z",
        "id": "679ffc0ba3200b305d5a5246"
      }
    ],
    "createdAt": "2025-02-02T23:13:16.375Z",
    "updatedAt": "2025-02-02T23:13:22.321Z",
    "id": "qVtPx0W_z"
  },
  {
    "_id": "Apr4KYnKT",
    "name": "reverb copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "679feeadfd33f3165c645bbb",
          "679feeadfd33f3165c645bbc",
          "679feeadfd33f3165c645bbd",
          "679feeadfd33f3165c645bbe",
          "679feeadfd33f3165c645bc2"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679feeadfd33f3165c645bba",
        "createdAt": "2025-02-02T22:16:14.763Z",
        "updatedAt": "2025-02-02T22:16:14.763Z",
        "id": "679feeadfd33f3165c645bba"
      },
      {
        "name": "sketch.js",
        "content": "\nconst sound = new SimplePlayer(\"sounds/congas.m4a\");\nsound.loop = true;\nlet reverb = new Tone.Reverb({decay: 0.5, \n                              wet: 0});\nsound.connect(reverb);\nreverb.toDestination();\nsound.autostart = true;\n\n\nlet loaded = false;\n\nlet reverbSlider;\nfunction setup(){\n  createCanvas(100,100);\n  reverbSlider = createSlider(0, 1, 0, 0.1);\n  reverbSlider.input(updateReverb);\n}\n\nfunction draw(){\n  \n}\n\nfunction updateReverb(){\n  // reverb.wet.value = reverbSlider.value();\n  reverb.wet.rampTo(reverbSlider.value());\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "679feeadfd33f3165c645bbd",
        "createdAt": "2025-02-02T22:16:14.763Z",
        "updatedAt": "2025-02-02T22:16:14.763Z",
        "id": "679feeadfd33f3165c645bbd"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html>\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/p5.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/addons/p5.dom.min.js\"></script>\n    <script src=\"https://unpkg.com/tone@15.0.4/build/Tone.js\"></script>\n    <script src=\"SimplePlayer.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679feeadfd33f3165c645bbc",
        "createdAt": "2025-02-02T22:16:14.763Z",
        "updatedAt": "2025-02-02T22:16:14.763Z",
        "id": "679feeadfd33f3165c645bbc"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679feeadfd33f3165c645bc2",
        "createdAt": "2025-02-02T22:16:14.763Z",
        "updatedAt": "2025-02-02T22:16:14.763Z",
        "id": "679feeadfd33f3165c645bc2"
      },
      {
        "name": "sounds",
        "content": "",
        "children": [
          "679feeadfd33f3165c645bbf",
          "679feeadfd33f3165c645bc0",
          "679feeadfd33f3165c645bc1"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679feeadfd33f3165c645bbe",
        "createdAt": "2025-02-02T22:16:14.763Z",
        "updatedAt": "2025-02-02T22:16:14.763Z",
        "id": "679feeadfd33f3165c645bbe"
      },
      {
        "name": "blip.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/0965a4c9-f84a-479f-ac87-bf9cf6fde3a7.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679feeadfd33f3165c645bbf",
        "createdAt": "2025-02-02T22:16:14.763Z",
        "updatedAt": "2025-02-02T22:16:14.763Z",
        "id": "679feeadfd33f3165c645bbf"
      },
      {
        "name": "SimplePlayer.js",
        "content": "// a subclass of Tone.Player that adds a progress function to it.\n// The only permitted playbackRate is 1.\n\nclass SimplePlayer extends Tone.Player {\n  constructor(...args){\n    super(...args);\n    this.playbackRate = 1;\n  }\n  \n  start(...args){\n    // assuming args[0] is always time\n    this.startTime = args[0];\n    super.start(...args);\n  }\n  \n  progress(){\n    return (Tone.now() - this.startTime) / this._buffer.duration;\n  }\n  \n  // disable setting playbackRate to anything other than 1\n  set playbackRate(rate) {\n    if(rate != 1) throw new Error(\"Setting the playbackRate value to any value other than 1 is disabled in SimplePlayer. If required, use Tone.Player instead.\");\n  }\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679feeadfd33f3165c645bbb",
        "createdAt": "2025-02-02T22:16:14.763Z",
        "updatedAt": "2025-02-02T22:16:14.763Z",
        "id": "679feeadfd33f3165c645bbb"
      },
      {
        "name": "takerimba.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/4e264698-bc48-4ec4-bac8-25b70fcb98a1.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679feeadfd33f3165c645bc1",
        "createdAt": "2025-02-02T22:16:14.763Z",
        "updatedAt": "2025-02-02T22:16:14.763Z",
        "id": "679feeadfd33f3165c645bc1"
      },
      {
        "name": "congas.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/250fbed5-e074-4ac8-885c-4bee1513d7b0.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679feeadfd33f3165c645bc0",
        "createdAt": "2025-02-02T22:16:14.763Z",
        "updatedAt": "2025-02-02T22:16:14.763Z",
        "id": "679feeadfd33f3165c645bc0"
      }
    ],
    "createdAt": "2025-02-02T22:16:14.232Z",
    "updatedAt": "2025-02-02T22:16:14.763Z",
    "id": "Apr4KYnKT"
  },
  {
    "_id": "jopfB4DJ6",
    "name": "romanticize your life",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67a0333b8363edfbcf1514dd",
          "67a0327d223c82fa3940b402",
          "67a037f35749cff60a8c9722",
          "67a037eaa97251fb1ad44cc4",
          "67a0327d223c82fa3940b401",
          "67a0327d223c82fa3940b403"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67a0327d223c82fa3940b404",
        "createdAt": "2025-02-03T03:29:12.436Z",
        "updatedAt": "2025-02-03T03:29:12.436Z",
        "id": "67a0327d223c82fa3940b404"
      },
      {
        "name": "sketch.js",
        "content": "// Define track categories\nlet lifeLessonNames = [\"Lesson1\", \"Lesson2\", \"Lesson3\", \"Lesson4\"];\nlet instrumentalNames = [\"Inst1\", \"Inst2\", \"Inst3\", \"Inst4\"];\nlet lifeLessonLoops = [];\nlet instrumentalLoops = [];\nlet n = 1; // Number of variations per track (keeping it 1 for simplicity)\n\nfunction setup() {\n  noCanvas(); // No need for a canvas in this project\n  loadLoops(); // Load the audio loops\n}\n\nfunction loadLoops() {\n  Tone.Transport.bpm.value = 120; // Set the tempo for synchronization\n  \n  // Load life lesson loops\n  for (let i = 0; i < lifeLessonNames.length; i++) {\n    lifeLessonLoops[i] = [];\n    for (let j = 0; j < n; j++) {\n      let name = lifeLessonNames[i] + \" \" + j;\n      lifeLessonLoops[i][j] = new Loop(\"loops/\" + lifeLessonNames[i] + j + \".mp3\", i, j, name, 'left');\n    }\n  }\n  \n  // Load instrumental loops\n  for (let i = 0; i < instrumentalNames.length; i++) {\n    instrumentalLoops[i] = [];\n    for (let j = 0; j < n; j++) {\n      let name = instrumentalNames[i] + \" \" + j;\n      instrumentalLoops[i][j] = new Loop(\"loops/\" + instrumentalNames[i] + j + \".mp3\", i, j, name, 'right');\n    }\n  }\n}\n\n// Wait for Tone.js to load before starting\nTone.loaded().then(function() {\n  console.log(\"All audio files loaded successfully\");\n});",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67a0327d223c82fa3940b401",
        "createdAt": "2025-02-03T03:29:12.436Z",
        "updatedAt": "2025-02-03T03:29:12.436Z",
        "id": "67a0327d223c82fa3940b401"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://unpkg.com/tone@15.0.4/build/Tone.js\"></script>\n    <script src=\"loop.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a0327d223c82fa3940b402",
        "createdAt": "2025-02-03T03:29:12.436Z",
        "updatedAt": "2025-02-03T03:29:12.436Z",
        "id": "67a0327d223c82fa3940b402"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a0327d223c82fa3940b403",
        "createdAt": "2025-02-03T03:29:12.436Z",
        "updatedAt": "2025-02-03T03:29:12.436Z",
        "id": "67a0327d223c82fa3940b403"
      },
      {
        "name": "Loop.js",
        "content": "class Loop {\n  constructor(url, i, j, name, side) {\n    this.player = new Tone.Player({\n      url: url,\n      loop: true // Enable looping\n    });\n    this.player.toDestination(); // Route audio output to speakers\n    this.quantize = \"@2m\"; // Synchronize playback to measures\n\n    this.button = createButton(name); // Create a button for playback\n    this.button.mousePressed(this.toggle.bind(this)); // Attach click event\n    this.button.style(\"width\", \"120px\");\n    this.button.style(\"height\", \"50px\");\n    this.button.style(\"background-color\", \"white\");\n    this.button.style(\"margin\", \"5px\");\n    \n    // Position buttons based on side\n    if (side === 'left') {\n      this.button.position(50, i * 60 + 50);\n    } else {\n      this.button.position(windowWidth - 150, i * 60 + 50);\n    }\n  }\n\n  toggle() {\n    if (Tone.Transport.state !== \"started\") {\n      Tone.start(); // Ensure audio context is running\n      Tone.Transport.start(); // Start transport for synchronization\n    }\n    \n    if (this.player.state === \"started\") {\n      this.scheduleStop(); // If playing, schedule stop\n    } else {\n      this.scheduleStart(); // If stopped, schedule start\n    }\n  }\n\n  start() {\n    this.button.style(\"background-color\", \"black\"); // Indicate active state\n    this.button.style(\"color\", \"white\");\n  }\n\n  stop() {\n    this.button.style(\"background-color\", \"white\"); // Reset button style\n    this.button.style(\"color\", \"black\");\n  }\n\n  scheduleStart() {\n    this.player.start(this.quantize); // Schedule start on measure\n    this.start(); // Update button style immediately\n  }\n\n  scheduleStop() {\n    this.player.stop(this.quantize); // Schedule stop on measure\n    this.stop(); // Update button style immediately\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67a0333b8363edfbcf1514dd",
        "createdAt": "2025-02-03T03:29:12.436Z",
        "updatedAt": "2025-02-03T03:29:12.436Z",
        "id": "67a0333b8363edfbcf1514dd"
      },
      {
        "name": "lifeLessons",
        "content": "",
        "children": [],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67a037eaa97251fb1ad44cc4",
        "createdAt": "2025-02-03T03:29:12.436Z",
        "updatedAt": "2025-02-03T03:29:12.436Z",
        "id": "67a037eaa97251fb1ad44cc4"
      },
      {
        "name": "instrumentals",
        "content": "",
        "children": [],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67a037f35749cff60a8c9722",
        "createdAt": "2025-02-03T03:29:12.436Z",
        "updatedAt": "2025-02-03T03:29:12.436Z",
        "id": "67a037f35749cff60a8c9722"
      }
    ],
    "updatedAt": "2025-02-03T03:29:12.436Z",
    "createdAt": "2025-02-03T03:06:43.992Z",
    "id": "jopfB4DJ6"
  },
  {
    "_id": "OLsHO76Ci",
    "name": "Sampler_more_samples copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67d9a10116cfa0c021ad70ba",
          "67d9a10116cfa0c021ad70bb",
          "67d9a10116cfa0c021ad70ca",
          "67d9a10116cfa0c021ad70cb"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70b9",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70b9"
      },
      {
        "name": "sketch.js",
        "content": "// more samples you include, the better the \nlet sampler = new Tone.Sampler({\n\t\"A1\": \"samples/casio/A1.mp3\", \n  \"D2\": \"samples/casio/D2.mp3\"\n});\n\nsampler.envelope = {\n  attack: 0.2,\n  decay: 0,\n  sustain: 1,\n  release: 0.1\n}\nsampler.toMaster();\n\nfunction keyPressed() {\n  let pitch; \n  if(key == 'a'){\n  \tpitch = \"A1\";\n  }\n  else if(key == 's'){\n  \tpitch = \"B1\";\n  }\n  else if(key == 'd'){\n  \tpitch = \"C2\";\n  }\n  else if(key == 'f'){\n  \tpitch = \"D2\";\n  }\n  else if(key == 'g'){\n  \tpitch = \"E2\";\n  }\n  \n  if(pitch && sampler.loaded){\n    // Sampler will repitch the closest sample\n  \tsampler.triggerAttack(pitch);\n  }\n}\n\nfunction keyReleased() {\n  sampler.triggerRelease();\n}\n\nfunction setup() {\n\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67d9a10116cfa0c021ad70ca",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70ca"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html>\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.dom.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/13.0.1/Tone.min.js\" type=\"text/javascript\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70ba",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70ba"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70cb",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70cb"
      },
      {
        "name": "samples",
        "content": "",
        "children": [
          "67d9a10116cfa0c021ad70bc"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70bb",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70bb"
      },
      {
        "name": "casio",
        "content": "",
        "children": [
          "67d9a10116cfa0c021ad70bd",
          "67d9a10116cfa0c021ad70be",
          "67d9a10116cfa0c021ad70bf",
          "67d9a10116cfa0c021ad70c0",
          "67d9a10116cfa0c021ad70c1",
          "67d9a10116cfa0c021ad70c2",
          "67d9a10116cfa0c021ad70c3",
          "67d9a10116cfa0c021ad70c4",
          "67d9a10116cfa0c021ad70c5",
          "67d9a10116cfa0c021ad70c6",
          "67d9a10116cfa0c021ad70c7",
          "67d9a10116cfa0c021ad70c8",
          "67d9a10116cfa0c021ad70c9"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70bc",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70bc"
      },
      {
        "name": "A2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/56163781-7768-4fe0-a3c1-b9408014936f.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70be",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70be"
      },
      {
        "name": "As1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/1f6bfc5f-e1ab-4745-b1f1-bb1865618ef8.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70bf",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70bf"
      },
      {
        "name": "B1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/ea947b4f-1b25-494d-a009-fa00c118e72a.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70c0",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70c0"
      },
      {
        "name": "Cs2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/e309b803-89c3-4b73-a198-5d6efc88ee90.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70c2",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70c2"
      },
      {
        "name": "C2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f67d52dc-77d5-43ae-9cb9-83f608d21320.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70c1",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70c1"
      },
      {
        "name": "D2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/1f13e6ee-ec23-43c9-9c2e-c80908ab1fa5.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70c3",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70c3"
      },
      {
        "name": "Ds2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/ccd716b4-f5d6-43d5-b996-b9fafbf54ac1.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70c4",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70c4"
      },
      {
        "name": "E2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/a007f8c3-6c02-43e6-8197-9ca226e42f09.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70c5",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70c5"
      },
      {
        "name": "F2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/3c4f0447-c34e-40d5-b7bc-1fab40aff0bf.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70c6",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70c6"
      },
      {
        "name": "Fs2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/4ec1fb36-d26e-484d-b544-c3642073263b.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70c7",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70c7"
      },
      {
        "name": "G2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/98ed2c1b-10c4-43e2-93c2-b070344289af.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70c8",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70c8"
      },
      {
        "name": "Gs1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/56f71d31-4528-4fdf-8d42-c9c84d0a4abe.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70c9",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70c9"
      },
      {
        "name": "A1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/9f102106-8802-4e05-9c14-7602b457c9e1.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10116cfa0c021ad70bd",
        "createdAt": "2018-10-13T15:34:36.528Z",
        "updatedAt": "2018-10-13T15:34:36.528Z",
        "id": "67d9a10116cfa0c021ad70bd"
      }
    ],
    "createdAt": "2025-03-18T16:36:18.188Z",
    "updatedAt": "2025-03-18T16:36:18.188Z",
    "id": "OLsHO76Ci"
  },
  {
    "_id": "tDxLexxwO",
    "name": "Slider styling copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "679fdd1607c2381eb5d808c9",
          "679fdd1607c2381eb5d808ca",
          "679fdd1607c2381eb5d808cb"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "679fdd1607c2381eb5d808c8",
        "createdAt": "2025-02-02T21:01:16.676Z",
        "updatedAt": "2025-02-02T21:01:16.676Z",
        "id": "679fdd1607c2381eb5d808c8"
      },
      {
        "name": "sketch.js",
        "content": "var widthSlider;\nvar circleWidth = 10;\n\nvar heightSlider;\nvar circleHeight = 10;\n\nfunction setup() {\n  createCanvas(400, 400);\n  \n  widthSlider = createSlider(0, 500, 10);\n  widthSlider.position(10, 40);\n  widthSlider.addClass(\"mySliders\");\n  \n  heightSlider = createSlider(0, 500, 10);\n  heightSlider.position(150, 40);\n  heightSlider.addClass(\"mySliders\");\n}\n\nfunction draw() {\n  background(220);\n  circleWidth = widthSlider.value();\n  circleHeight = heightSlider.value();\n  \n  ellipse(width/2, height/2, circleWidth, circleHeight);\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdd1607c2381eb5d808ca",
        "createdAt": "2025-02-02T21:01:16.676Z",
        "updatedAt": "2025-02-02T21:01:16.676Z",
        "id": "679fdd1607c2381eb5d808ca"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "679fdd1607c2381eb5d808c9",
        "createdAt": "2025-02-02T21:01:16.676Z",
        "updatedAt": "2025-02-02T21:01:16.676Z",
        "id": "679fdd1607c2381eb5d808c9"
      },
      {
        "name": "style.css",
        "content": "/* These first two are just styling the page */\n\nhtml, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n\n\n/* From here on it's styling the sliders */\n\n\n/* Styles the whole slider */\n.mySliders{\n  width: 80px;\n  background-color: transparent;\n  \n  /* Removes some defaults */\n  -webkit-appearance: none;\n}\n\n\n/* These styles affect what happens when the cursor is focused on the slider (i.e. clicking it) */\n.mySliders:focus {\n  \n  /* Stops the default outline showing up */\n  outline: none;\n}\n\n/* This is the \"track\" that the slider sits on  */\n.mySliders::-webkit-slider-runnable-track {\n  background: #000000;\n  height: 3px;\n  -webkit-appearance: none;\n  \n  /* Turns the cursor into the hand pointer icon when hovering over the slider  */\n  cursor: pointer;\n  \n}\n\n/* This is the moveable bit of the slider, known as the \"thumb\"*/\n.mySliders::-webkit-slider-thumb {\n  width: 15px;\n  height: 15px;\n  background: #5500cc;\n  cursor: pointer;\n  -webkit-appearance: none;\n  \n  /* negative top padding moves it up */\n  margin-top: -6px;\n\n  \n  /* Border radius gives rounded corners, if they're big enough, you end up with circles */\n  border-radius: 8px;\n  \n}\n\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "679fdd1607c2381eb5d808cb",
        "createdAt": "2025-02-02T21:01:16.676Z",
        "updatedAt": "2025-02-02T21:01:16.676Z",
        "id": "679fdd1607c2381eb5d808cb"
      }
    ],
    "createdAt": "2025-02-02T21:01:10.780Z",
    "updatedAt": "2025-02-02T21:01:16.676Z",
    "id": "tDxLexxwO"
  },
  {
    "_id": "BQL1g0V7X",
    "name": "Sound Starter",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "678fea76f639c5cfbf6b6527",
          "678fe953f639c5cfbf6b6524",
          "678fe953f639c5cfbf6b6523",
          "678feb71d6f2342ec320820d",
          "678fe953f639c5cfbf6b6525"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "678fe953f639c5cfbf6b6526",
        "createdAt": "2025-01-21T18:54:08.077Z",
        "updatedAt": "2025-01-21T18:54:08.077Z",
        "id": "678fe953f639c5cfbf6b6526"
      },
      {
        "name": "sketch.js",
        "content": "const sound = new SimplePlayer(\"sounds/blip.wav\");\nsound.toDestination();\n\nfunction setup() {\n  createCanvas(400, 400);\n}\n\nfunction draw() {\n  background(220);\n}\n\nfunction mouseClicked() {\n  if (loaded) {\n    sound.start();\n  }\n}\n\nfunction keyTyped() {\n  if (key == \"a\") {\n    if (loaded) {\n      sound.start();\n    }\n  if (key == \"a\") {\n    if (loaded) {\n      sound.start();\n    }\n  }\n}\n\nlet loaded = false;\n\nTone.loaded().then(function () {\n  loaded = true;\n  console.log(\"loaded!\");\n}); // returns a promise when all the audio files are loaded\n\n// why use tone over p5sound -- the way p5 does it is with the preload function\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "678fe953f639c5cfbf6b6523",
        "createdAt": "2025-01-21T18:54:08.077Z",
        "updatedAt": "2025-01-21T18:54:08.077Z",
        "id": "678fe953f639c5cfbf6b6523"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <script src=\"SimplePlayer.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "678fe953f639c5cfbf6b6524",
        "createdAt": "2025-01-21T18:54:08.077Z",
        "updatedAt": "2025-01-21T18:54:08.077Z",
        "id": "678fe953f639c5cfbf6b6524"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "678fe953f639c5cfbf6b6525",
        "createdAt": "2025-01-21T18:54:08.077Z",
        "updatedAt": "2025-01-21T18:54:08.077Z",
        "id": "678fe953f639c5cfbf6b6525"
      },
      {
        "name": "SimplePlayer.js",
        "content": "// a subclass of Tone.Player that adds a progress function to it.\n// The only permitted playbackRate is 1.\n\nclass SimplePlayer extends Tone.Player {\n  constructor(...args){\n    super(...args);\n    this.playbackRate = 1;\n  }\n  \n  start(...args){\n    // assuming args[0] is always time\n    this.startTime = args[0] | Tone.now();\n    super.start(...args);\n  }\n    \n  get duration(){\n    return this._buffer.duration;\n  }\n  \n  currentTime(){\n    return Tone.now() - this.startTime;\n  }\n  \n  progress(){\n    if(this.state == \"started\"){\n       return this.currentTime() / this.duration; \n    }\n    else{\n      return 0;\n    }\n  }\n  \n\n  \n  // disable setting playbackRate to anything other than 1\n  set playbackRate(rate) {\n    if(rate != 1) throw new Error(\"Setting the playbackRate value to any value other than 1 is disabled in SimplePlayer. If required, use Tone.Player instead.\");\n  }\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "678fea76f639c5cfbf6b6527",
        "createdAt": "2025-01-21T18:54:08.077Z",
        "updatedAt": "2025-01-21T18:54:08.077Z",
        "id": "678fea76f639c5cfbf6b6527"
      },
      {
        "name": "sounds",
        "content": "",
        "children": [
          "678feb8419d28f894c0ce7a1"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "678feb71d6f2342ec320820d",
        "createdAt": "2025-01-21T18:54:08.077Z",
        "updatedAt": "2025-01-21T18:54:08.077Z",
        "id": "678feb71d6f2342ec320820d"
      },
      {
        "name": "blip.wav",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/c2de5ae3-be2c-43f3-b5fe-786cd28c809b.wav",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "678feb8419d28f894c0ce7a1",
        "createdAt": "2025-01-21T18:54:08.077Z",
        "updatedAt": "2025-01-21T18:54:08.077Z",
        "id": "678feb8419d28f894c0ce7a1"
      }
    ],
    "updatedAt": "2025-01-21T18:54:08.077Z",
    "createdAt": "2025-01-21T18:43:09.918Z",
    "id": "BQL1g0V7X"
  },
  {
    "_id": "hPcZ0Eobv",
    "name": "Spangled alpaca",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6723c105a4a79c940d6e3a1c",
          "6723c105a4a79c940d6e3a1b",
          "6723c105a4a79c940d6e3a1d"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6723c105a4a79c940d6e3a1e",
        "createdAt": "2024-10-31T22:39:33.368Z",
        "updatedAt": "2024-10-31T22:39:33.368Z",
        "id": "6723c105a4a79c940d6e3a1e"
      },
      {
        "name": "sketch.js",
        "content": "let cam;\nlet x = 0;\n\nfunction setup() {\n  createCanvas(640, 480);\n  cam = createCapture(VIDEO);\n  cam.hide();\n}\n\nfunction draw() {\n  // background(220);\n  image(cam, 0, 0);\n  cam.loadPixels();\n  pixelDensity(1);\n\n  for (let y = 0; y < cam.pixels.length; y ++) {\n    //grab color data at (width/2, y)\n    let pixel = y * width + width/2;\n    let index = pixel * 4;\n    let r = cam.pixels[index];\n    let g = cam.pixels[index + 1];\n    let b = cam.pixels[index + 2];\n    let a = cam.pixels[index + 3];\n    stroke(r, g, b);\n    point(x, y);\n  }\n  x++;\n  if (x > width){\n    x = 0;\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6723c105a4a79c940d6e3a1b",
        "createdAt": "2024-10-31T22:39:33.368Z",
        "updatedAt": "2024-10-31T22:39:33.368Z",
        "id": "6723c105a4a79c940d6e3a1b"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.0/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.0/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6723c105a4a79c940d6e3a1c",
        "createdAt": "2024-10-31T22:39:33.368Z",
        "updatedAt": "2024-10-31T22:39:33.368Z",
        "id": "6723c105a4a79c940d6e3a1c"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6723c105a4a79c940d6e3a1d",
        "createdAt": "2024-10-31T22:39:33.368Z",
        "updatedAt": "2024-10-31T22:39:33.368Z",
        "id": "6723c105a4a79c940d6e3a1d"
      }
    ],
    "updatedAt": "2024-10-31T22:39:33.368Z",
    "createdAt": "2024-10-31T18:09:53.900Z",
    "id": "hPcZ0Eobv"
  },
  {
    "_id": "0LTxm8j7I",
    "name": "sparkle attempt 2 + cam?",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "672ba23b944173d10347313f",
          "672ba23b944173d103473140",
          "672ba23b944173d103473141",
          "672ba23b944173d103473142"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "672ba23b944173d10347313e",
        "createdAt": "2024-11-07T00:52:48.134Z",
        "updatedAt": "2024-11-07T00:52:48.134Z",
        "id": "672ba23b944173d10347313e"
      },
      {
        "name": "sketch.js",
        "content": "let sparkle;\nlet originalColors = []; // Store the original colors of each pixel\nlet colorOffsets = []; // Store an offset for each pixel to animate color changes\n\n// Variable for changing the HSB values\n// off for offset\nlet off = 0;\nlet offspeed = 0.1;\n\n// create a variable to store webcam\nlet cam;\n\nlet fps;\n\nfunction preload() {\n  sparkle = loadImage(\"sparkle.png\");\n}\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n  fps = frameRate();\n\n  // create webcam\n  cam = createCapture(VIDEO);\n  cam.size(width, height);\n  cam.hide();\n\n  sparkle.loadPixels();\n\n  // Initialize arrays to store original colors and offsets for each pixel\n  for (let i = 0; i < sparkle.pixels.length; i += 4) {\n    // Store the original color for each pixel\n    originalColors[i] = sparkle.pixels[i]; // Red\n    originalColors[i + 1] = sparkle.pixels[i + 1]; // Green\n    originalColors[i + 2] = sparkle.pixels[i + 2]; // Blue\n    originalColors[i + 3] = sparkle.pixels[i + 3]; // Alpha\n\n    // Initialize color offset for animation (use random for variation)\n    colorOffsets[i / 4] = random(0, 1); // One offset per pixel (1 per 4 values in array)\n  }\n}\n\nfunction draw() {\n  colorMode(RGB);\n\n  // Center the image on the canvas\n  translate((width - sparkle.width) / 2, (height - sparkle.height) / 2);\n  // Load pixels to manipulate them directly\n  sparkle.loadPixels();\n  // Move the hue\n  off += offspeed;\n  if (off < 0 || off > 350) {\n    offspeed *= -1;\n  }\n\n//   // load pixels for webcam\n//   cam.loadPixels();\n  \n//   if (fps % 60 == 0){\n//     let camPoint = cam.get(width/2, height/2);\n//       }\n\n  // Loop through every pixel in the image by x and y coordinates\n  for (let x = 0; x < sparkle.width; x++) {\n    for (let y = 0; y < sparkle.height; y++) {\n      let i = (x + y * sparkle.width) * 4; // set index for each pixel\n\n      // store the original color values\n      let rOrig = originalColors[i];\n      let gOrig = originalColors[i + 1];\n      let bOrig = originalColors[i + 2];\n      let aOrig = originalColors[i + 3];\n      \n      let newA = map(mouseX, 0, width, 0, 255/2);\n      \n      sparkle.pixels[i+3] = newA;\n\n      // store brightness values of original image --> use to sort\n      let brightnessValue = brightness(color(rOrig, gOrig, bOrig));\n\n      // store brightness values of webcam\n      // let camBright = brightness(\n      //   color(cam.pixels[i], cam.pixels[i + 1], cam.pixels[i + 2])\n      // );\n      // console.log(camBright);\n      \n      \n      // // let sparkleAlpha = map(camBright, 0, 100, 0, 255);\n      // if (camBright > 75) {\n      //   sparkle.pixels[i+3] = camBright;\n      // } else if (camBright > 50) {\n      //   sparkle.pixels[i+3] = camBr;\n      // } else {\n      //    sparkle.pixels[i+3] = aOrig * 0.01;\n      // }\n\n      // conditionals for rate of change --> we use this value to change colorOffsets[], which lets us change different parts of the image at diff rates\n      let changeSpeed;\n      if (brightnessValue > 75) {\n        changeSpeed = 0.02;\n      } else if (brightnessValue > 50) {\n        changeSpeed = 0.015;\n      } else {\n        changeSpeed = 0.01;\n      }\n\n      // animate each pixel at different rates based on brightnessValue\n      colorOffsets[i / 4] += changeSpeed;\n\n      // Calculate oscillating factor between -1 and 1 for each color channel; use sin() for smooth movement\n      let oscillate = sin(colorOffsets[i / 4]);\n\n      // Modify pixel colors based on brightness and oscillation\n      if (brightnessValue > 25 && brightnessValue < 50) {\n        // Shift red up and green/blue down\n        sparkle.pixels[i] = rOrig + oscillate * 100; // Redder\n        sparkle.pixels[i + 1] = gOrig - oscillate * 100; // Less green\n        sparkle.pixels[i + 2] = bOrig - oscillate * 100; // Less blue\n      } else if (brightnessValue > 50 && brightnessValue < 75) {\n        // Shift green up and red/blue down\n        sparkle.pixels[i] = rOrig - oscillate * 100; // Less red\n        sparkle.pixels[i + 1] = gOrig + oscillate * 100; // Greener\n        sparkle.pixels[i + 2] = bOrig - oscillate * 100; // Less blue\n      } else if (brightnessValue > 75) {\n        // Shift blue up and red/green down\n        sparkle.pixels[i] = rOrig - oscillate * 100; // Less red\n        sparkle.pixels[i + 1] = gOrig - oscillate * 100; // Less green\n        sparkle.pixels[i + 2] = bOrig + oscillate * 100; // Bluer\n      } else {\n        // Default: Oscillate each channel toward the original value\n        sparkle.pixels[i] = rOrig + oscillate; // Small red adjustment\n        sparkle.pixels[i + 1] = gOrig + oscillate; // Small green adjustment\n        sparkle.pixels[i + 2] = bOrig + oscillate; // Small blue adjustment\n      }\n\n      // Manual check to ensure colors stay in range 0-255\n      if (sparkle.pixels[i] < 0) sparkle.pixels[i] = 0;\n      if (sparkle.pixels[i] > 255) sparkle.pixels[i] = 255;\n      if (sparkle.pixels[i + 1] < 0) sparkle.pixels[i + 1] = 0;\n      if (sparkle.pixels[i + 1] > 255) sparkle.pixels[i + 1] = 255;\n      if (sparkle.pixels[i + 2] < 0) sparkle.pixels[i + 2] = 0;\n      if (sparkle.pixels[i + 2] > 255) sparkle.pixels[i + 2] = 255;\n    }\n  }\n\n  // Update the pixels on the canvas\n  sparkle.updatePixels();\n\n  // Draw the modified image\n  image(sparkle, 0, 0);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "672ba23b944173d103473140",
        "createdAt": "2024-11-07T00:52:48.134Z",
        "updatedAt": "2024-11-07T00:52:48.134Z",
        "id": "672ba23b944173d103473140"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672ba23b944173d10347313f",
        "createdAt": "2024-11-07T00:52:48.134Z",
        "updatedAt": "2024-11-07T00:52:48.134Z",
        "id": "672ba23b944173d10347313f"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672ba23b944173d103473142",
        "createdAt": "2024-11-07T00:52:48.134Z",
        "updatedAt": "2024-11-07T00:52:48.134Z",
        "id": "672ba23b944173d103473142"
      },
      {
        "name": "sparkle.png",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/1cd3f4a3-dd2c-4464-a02c-157346223300.png",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672ba23b944173d103473141",
        "createdAt": "2024-11-07T00:52:48.134Z",
        "updatedAt": "2024-11-07T00:52:48.134Z",
        "id": "672ba23b944173d103473141"
      }
    ],
    "createdAt": "2024-11-06T17:07:08.581Z",
    "updatedAt": "2024-11-07T00:52:48.134Z",
    "id": "0LTxm8j7I"
  },
  {
    "_id": "3ytsoCiK3",
    "name": "sparkle FINAL!!! <3",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "672ab455b9801e545562210f",
          "672ab455b9801e545562210e",
          "672ab489b9801e5455622113",
          "672ab455b9801e5455622110"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "672ab455b9801e5455622111",
        "createdAt": "2024-11-08T18:50:27.496Z",
        "updatedAt": "2024-11-08T18:50:27.496Z",
        "id": "672ab455b9801e5455622111"
      },
      {
        "name": "sketch.js",
        "content": "let sparkle;\nlet originalColors = []; // Store the original colors of each pixel\nlet colorOffsets = []; // Store an offset for each pixel to animate color changes\n\n// Variable for changing the HSB values\n// off for offset\nlet off = 0;\nlet offspeed = 0.1;\n\nfunction preload() {\n  sparkle = loadImage(\"sparkle.png\");\n}\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n  background(0);\n  sparkle.loadPixels();\n\n  // Initialize arrays to store original colors and offsets for each pixel\n  for (let i = 0; i < sparkle.pixels.length; i++) {\n    // Store the original color for each pixel\n    originalColors[i] = sparkle.pixels[i];\n\n    // Initialize color offset for animation (use random for variation)\n    colorOffsets[i / 4] = random(0, 1); // One offset per pixel (1 per 4 values in array)\n  }\n}\n\nfunction draw() {\n  colorMode(RGB);\n\n  // Center the image on the canvas\n  translate((width - sparkle.width) / 2, (height - sparkle.height) / 2);\n  // Load pixels to manipulate them directly\n  sparkle.loadPixels();\n  // Move the hue\n  off += offspeed;\n  if (off < 0 || off > 350) {\n    offspeed *= -1;\n  }\n\n  // Loop through every pixel in the image by x and y coordinates\n  for (let x = 0; x < sparkle.width; x++) {\n    for (let y = 0; y < sparkle.height; y++) {\n      let i = (x + y * sparkle.width) * 4; // set index for each pixel\n\n      // store the original color values\n      let rOrig = originalColors[i];\n      let gOrig = originalColors[i + 1];\n      let bOrig = originalColors[i + 2];\n\n      // store brightness values of original image --> use to sort\n      let brightnessValue = brightness(color(rOrig, gOrig, bOrig));\n\n      // conditionals for rates of change --> we use this value to change colorOffsets[]\n      let sinFood;\n      if (brightnessValue > 75) {\n        sinFood = 0.02;\n      } else if (brightnessValue > 50) {\n        sinFood = 0.015;\n      } else {\n        sinFood = 0.01;\n      }\n      \n      // change animation rates of different pixels based on their brightness\n      colorOffsets[i / 4] += sinFood;\n\n      // Calculate oscillating factor between -1 and 1 for each color channel --> we use sin() to make the movement stable\n      let oscillate = sin(colorOffsets[i / 4]);\n      \n      // variable for oscillation modifier\n      let oscMod = 100;\n      \n      /* \n      NOTE: sinFood is the rate of change. oscillate is the rate of change of the rate of change. oscMod is the intensity of the color manipulation.\n      */\n\n      // Modify pixel colors based on brightness and oscillation\n      if (brightnessValue > 25 && brightnessValue < 50) {\n        // Shift red up and green/blue down\n        sparkle.pixels[i] = rOrig + oscillate * oscMod; // Redder\n        sparkle.pixels[i + 1] = gOrig - oscillate * oscMod; // Less green\n        sparkle.pixels[i + 2] = bOrig - oscillate * oscMod; // Less blue\n      } else if (brightnessValue > 50 && brightnessValue < 75) {\n        // Shift green up and red/blue down\n        sparkle.pixels[i] = rOrig - oscillate * oscMod; // Less red\n        sparkle.pixels[i + 1] = gOrig + oscillate * oscMod; // Greener\n        sparkle.pixels[i + 2] = bOrig - oscillate * oscMod; // Less blue\n      } else if (brightnessValue > 75) {\n        // Shift blue up and red/green down\n        sparkle.pixels[i] = rOrig - oscillate * oscMod; // Less red\n        sparkle.pixels[i + 1] = gOrig - oscillate * oscMod; // Less green\n        sparkle.pixels[i + 2] = bOrig + oscillate * oscMod; // Bluer\n      } else {\n        // Default: Oscillate each channel toward the original value\n        sparkle.pixels[i] = rOrig + oscillate; // Small red adjustment\n        sparkle.pixels[i + 1] = gOrig + oscillate; // Small green adjustment\n        sparkle.pixels[i + 2] = bOrig + oscillate; // Small blue adjustment\n      }\n\n      // Manual check to ensure colors stay in range 0-255\n      if (sparkle.pixels[i] < 0) sparkle.pixels[i] = 0;\n      if (sparkle.pixels[i] > 255) sparkle.pixels[i] = 255;\n      if (sparkle.pixels[i + 1] < 0) sparkle.pixels[i + 1] = 0;\n      if (sparkle.pixels[i + 1] > 255) sparkle.pixels[i + 1] = 255;\n      if (sparkle.pixels[i + 2] < 0) sparkle.pixels[i + 2] = 0;\n      if (sparkle.pixels[i + 2] > 255) sparkle.pixels[i + 2] = 255;\n    }\n  }\n\n  // Update the pixels on the canvas\n  sparkle.updatePixels();\n\n  // Draw the modified image\n  image(sparkle, 0, 0);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "672ab455b9801e545562210e",
        "createdAt": "2024-11-08T18:50:27.496Z",
        "updatedAt": "2024-11-08T18:50:27.496Z",
        "id": "672ab455b9801e545562210e"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672ab455b9801e545562210f",
        "createdAt": "2024-11-08T18:50:27.496Z",
        "updatedAt": "2024-11-08T18:50:27.496Z",
        "id": "672ab455b9801e545562210f"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672ab455b9801e5455622110",
        "createdAt": "2024-11-08T18:50:27.496Z",
        "updatedAt": "2024-11-08T18:50:27.496Z",
        "id": "672ab455b9801e5455622110"
      },
      {
        "name": "sparkle.png",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/ac2a6bfb-a1f3-4aeb-8ea0-a9b1c2578047.png",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672ab489b9801e5455622113",
        "createdAt": "2024-11-08T18:50:27.496Z",
        "updatedAt": "2024-11-08T18:50:27.496Z",
        "id": "672ab489b9801e5455622113"
      }
    ],
    "updatedAt": "2024-11-08T18:50:27.496Z",
    "createdAt": "2024-11-06T00:22:07.835Z",
    "id": "3ytsoCiK3"
  },
  {
    "_id": "Z_d_y2rFd",
    "name": "Techno Teentaal copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "673f4ca5b81e6618d3eda4c6",
          "673f4ca5b81e6618d3eda4c7",
          "673f4ca5b81e6618d3eda4c8",
          "673f4ca5b81e6618d3eda4d6"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4c5",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4c5"
      },
      {
        "name": "sketch.js",
        "content": "// defined indexes for each sound\nlet bass = 0;\nlet hihat = 1;\nlet kick = 2;\nlet shloop = 3;\nlet ambient = 4;\n\nlet fDha = 5;\nlet fDhin = 6;\nlet fNa = 7;\nlet fThete = 8;\n\nlet pDha = 9;\nlet pDhin = 10;\nlet pNa = 11;\nlet pThete = 12;\n\nlet slider;\nlet vol;\nlet reverb;\n\n// create sounds array to store loaded sounds\nlet sounds = [];\n\n// define beats per minute\nlet bpm = 170;\n\nlet framesPerBeat = (60 / bpm) * 60; // Frames per beat at 60 fps\nlet totalBeats = 16; // Total beats in Teentaal\n\n// last state\nlet lastBeat = -1;\n\n// preload all sounds using for loop\nfunction preload() {\n  for (let i = 0; i < 13; i++) {\n    // console.log(i);\n    if (i < 4) {\n      sounds.push(loadSound(\"./sounds/\" + i + \".mp3\"));\n    } else {\n      sounds.push(loadSound(\"./sounds/\" + i + \".m4a\"));\n      // console.log(sounds[i]);\n    }\n    // console.log(i);\n  }\n}\n\nfunction setup() {\n  createCanvas(400, 400);\n//   slider = createSlider(0, 255, 0, 0);\n//   slider.position(10, 10);\n//   slider.size(80);\n  \n  // voices = createSlider(0,255,0,0);\n  // voices.position(10,30);\n  // voices.size(80)\n\n  vol = new p5.Gain(100);\n  // osc = new p5.Oscillator();\n  // osc.start();\n  // osc.amp(1);\n  // osc.disconnect();\n\n  reverb = new p5.Reverb();\n\n//   sounds[ambient].disconnect();\n//   sounds[ambient].connect(vol);\n  vol.connect(reverb);\n  // osc.connect(vol);\n  \n  sounds[ambient].disconnect();\n  sounds[ambient].connect(reverb);\n  reverb.drywet(0.5); // Set a balance between dry and wet (0.0 to 1.0)\n  reverb.process(sounds[ambient], 5, 5); // Add reverb to the sound with decay time and damping\n\n  for (let i = 5; i < 13; i++) {\n    sounds[i].disconnect();\n    sounds[i].connect(reverb);\n    reverb.drywet(0.95);\n    reverb.process(sounds[i], 5, 5);\n    \n  }\n}\n\nfunction draw() {\n  background(0);\n\n  let beat = floor((frameCount / framesPerBeat) % totalBeats);\n\n  // Trigger sound only on new beat\n  if (beat !== lastBeat) {\n    // update last beat\n    lastBeat = beat;\n    if (beat == 1) {\n      sounds[ambient].play();\n      // let ambientLevel = slider.value() / 255;\n      // vol.amp(0.5);\n    }\n\n    // play beats at different times\n    if (beat % 4 === 0) {\n      // console.log(\"Dha\");\n      if (sounds[kick]) {\n        sounds[kick].play();\n        sounds[kick].amp(1);\n        sounds[fDha].play();\n        sounds[fDha].amp(1)\n        sounds[pDha].play();\n        sounds[pDha].amp(1)\n      }\n    } else if (beat === 7 || beat === 15) {\n      // console.log(\"Na\");\n      if (sounds[shloop]) {\n        sounds[shloop].play();\n        sounds[shloop].amp(1);\n        sounds[fNa].play();\n        sounds[fNa].amp(1)\n\n        sounds[pNa].play();\n        sounds[pNa].amp(1)\n\n      }\n    } else {\n      // console.log(\"Thin\");\n      if (sounds[hihat]) {\n        sounds[hihat].play();\n        sounds[hihat].amp(1);\n        sounds[fDhin].play();\n        sounds[fDhin].amp(1)\n\n        sounds[pDhin].play();\n        sounds[pDhin].amp(1)\n\n        \n        \n      }\n    }\n  }\n\n  // visualization\n  noFill();\n  stroke(255);\n  ellipse((beat % 4) * 100 + 50, floor(beat / 4) * 100 + 50, 50, 50);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "673f4ca5b81e6618d3eda4c7",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4c7"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4c6",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4c6"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4d6",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4d6"
      },
      {
        "name": "sounds",
        "content": "",
        "children": [
          "673f4ca5b81e6618d3eda4c9",
          "673f4ca5b81e6618d3eda4ca",
          "673f4ca5b81e6618d3eda4cb",
          "673f4ca5b81e6618d3eda4cc",
          "673f4ca5b81e6618d3eda4cd",
          "673f4ca5b81e6618d3eda4ce",
          "673f4ca5b81e6618d3eda4cf",
          "673f4ca5b81e6618d3eda4d0",
          "673f4ca5b81e6618d3eda4d1",
          "673f4ca5b81e6618d3eda4d2",
          "673f4ca5b81e6618d3eda4d3",
          "673f4ca5b81e6618d3eda4d4",
          "673f4ca5b81e6618d3eda4d5"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4c8",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4c8"
      },
      {
        "name": "2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/0260c811-e46c-4033-824b-24b85669dca2.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4ce",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4ce"
      },
      {
        "name": "0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/715d3e66-9057-46b3-a845-46bb294377c1.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4c9",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4c9"
      },
      {
        "name": "3.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/0996ded5-b8b8-4dd5-baac-e4e894e0a807.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4cf",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4cf"
      },
      {
        "name": "1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/1d184496-f89a-4ddf-83bc-d1e7a7930dd9.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4ca",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4ca"
      },
      {
        "name": "4.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/b75d9946-acbe-4c7f-8b44-9cd99bd5c42d.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4d0",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4d0"
      },
      {
        "name": "8.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/2b799ee9-39be-4607-9722-e500d6618b20.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4d4",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4d4"
      },
      {
        "name": "6.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/d7e6ad17-46c4-4235-8711-0635b329888c.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4d2",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4d2"
      },
      {
        "name": "7.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/74c4f4a9-b894-4448-b8c4-33c96379cb90.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4d3",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4d3"
      },
      {
        "name": "5.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/91abaa0f-e18d-41b6-b2a9-4cde8cd23d58.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4d1",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4d1"
      },
      {
        "name": "12.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/6c4798f5-52ac-4004-86d3-80861506339d.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4cd",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4cd"
      },
      {
        "name": "11.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/2dc4bde5-f495-4ea7-a376-4a9ba20b7d66.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4cc",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4cc"
      },
      {
        "name": "9.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f7e853b5-1daa-4cf5-9950-85f8e83d3ff9.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4d5",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4d5"
      },
      {
        "name": "10.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/8962ca3d-097d-4c66-80f8-238a0f66f72c.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4cb",
        "createdAt": "2024-11-21T02:52:47.663Z",
        "updatedAt": "2024-11-21T02:52:47.663Z",
        "id": "673f4ca5b81e6618d3eda4cb"
      }
    ],
    "createdAt": "2024-11-21T15:07:17.854Z",
    "updatedAt": "2024-11-21T15:07:17.854Z",
    "id": "Z_d_y2rFd"
  },
  {
    "_id": "w0J3xwSSv",
    "name": "Techno Teentaal REAL",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "673f4ca5b81e6618d3eda4d8",
          "673f4ca5b81e6618d3eda4d9",
          "673f4ca5b81e6618d3eda4da",
          "673f4ca5b81e6618d3eda4e8"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4d7",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4d7"
      },
      {
        "name": "sketch.js",
        "content": "// defined indexes for each sound\nlet bass = 0;\nlet hihat = 1;\nlet kick = 2;\nlet shloop = 3;\nlet ambient = 4;\n\nlet fDha = 5;\nlet fDhin = 6;\nlet fNa = 7;\nlet fThete = 8;\n\nlet pDha = 9;\nlet pDhin = 10;\nlet pNa = 11;\nlet pThete = 12;\n\nlet slider;\nlet vol;\nlet reverb;\n\n// create sounds array to store loaded sounds\nlet sounds = [];\n\n// define beats per minute\nlet bpm = 170;\n\nlet framesPerBeat = (60 / bpm) * 60; // Frames per beat at 60 fps\nlet totalBeats = 16; // Total beats in Teentaal\n\n// last state\nlet lastBeat = -1;\n\n// preload all sounds using for loop\nfunction preload() {\n  for (let i = 0; i < 13; i++) {\n    // console.log(i);\n    if (i < 4) {\n      sounds.push(loadSound(\"./sounds/\" + i + \".mp3\"));\n    } else {\n      sounds.push(loadSound(\"./sounds/\" + i + \".m4a\"));\n      // console.log(sounds[i]);\n    }\n    // console.log(i);\n  }\n}\n\nfunction setup() {\n  createCanvas(400, 400);\n  //   slider = createSlider(0, 255, 0, 0);\n  //   slider.position(10, 10);\n  //   slider.size(80);\n\n  // voices = createSlider(0,255,0,0);\n  // voices.position(10,30);\n  // voices.size(80)\n\n  vol = new p5.Gain(100);\n  // osc = new p5.Oscillator();\n  // osc.start();\n  // osc.amp(1);\n  // osc.disconnect();\n\n  reverb = new p5.Reverb();\n\n  //   sounds[ambient].disconnect();\n  //   sounds[ambient].connect(vol);\n  vol.connect(reverb);\n  // osc.connect(vol);\n\n  sounds[ambient].disconnect();\n  sounds[ambient].connect(reverb);\n  reverb.drywet(0.5); // Set a balance between dry and wet (0.0 to 1.0)\n  reverb.process(sounds[ambient], 5, 5); // Add reverb to the sound with decay time and damping\n\n  for (let i = 5; i < 13; i++) {\n    sounds[i].disconnect();\n    sounds[i].connect(reverb);\n    reverb.drywet(0.95);\n    reverb.process(sounds[i], 5, 5);\n  }\n}\n\nfunction draw() {\n  background(0);\n\n  let beat = floor((frameCount / framesPerBeat) % totalBeats);\n\n  // Trigger sound only on new beat\n  if (beat !== lastBeat) {\n    // update last beat\n    lastBeat = beat;\n    if (beat == 1) {\n      sounds[ambient].play();\n      // let ambientLevel = slider.value() / 255;\n      // vol.amp(0.5);\n    }\n\n    // play beats at different times\n    if (beat % 4 === 0) {\n      // console.log(\"Dha\");\n      if (sounds[kick]) {\n        sounds[kick].play();\n        sounds[kick].amp(1);\n\n        sounds[fDha].play();\n        sounds[fDha].amp(1);\n\n        sounds[pDha].play();\n        sounds[pDha].amp(1);\n      }\n    } else if (beat === 7 || beat === 15) {\n      // console.log(\"Na\");\n      if (sounds[shloop]) {\n        sounds[shloop].play();\n        sounds[shloop].amp(1);\n\n        sounds[fNa].play();\n        sounds[fNa].amp(1);\n\n        sounds[pNa].play();\n        sounds[pNa].amp(1);\n      }\n    } else {\n      // console.log(\"Thin\");\n      if (sounds[kick]) {\n        sounds[kick].play();\n        sounds[kick].amp(1);\n\n        sounds[fDhin].play();\n        sounds[fDhin].amp(1);\n\n        sounds[pDhin].play();\n        sounds[pDhin].amp(1);\n      }\n    }\n  }\n\n  // visualization\n  noFill();\n  stroke(255);\n  ellipse((beat % 4) * 100 + 50, floor(beat / 4) * 100 + 50, 50, 50);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "673f4ca5b81e6618d3eda4d9",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4d9"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4d8",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4d8"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4e8",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4e8"
      },
      {
        "name": "sounds",
        "content": "",
        "children": [
          "673f4ca5b81e6618d3eda4db",
          "673f4ca5b81e6618d3eda4dc",
          "673f4ca5b81e6618d3eda4dd",
          "673f4ca5b81e6618d3eda4de",
          "673f4ca5b81e6618d3eda4df",
          "673f4ca5b81e6618d3eda4e0",
          "673f4ca5b81e6618d3eda4e1",
          "673f4ca5b81e6618d3eda4e2",
          "673f4ca5b81e6618d3eda4e3",
          "673f4ca5b81e6618d3eda4e4",
          "673f4ca5b81e6618d3eda4e5",
          "673f4ca5b81e6618d3eda4e6",
          "673f4ca5b81e6618d3eda4e7"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4da",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4da"
      },
      {
        "name": "2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/342baa98-c6a8-4056-a6aa-9bb419cc09b0.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4e0",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4e0"
      },
      {
        "name": "0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/1c23db85-7c75-49ac-aaaa-682facc8af6d.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4db",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4db"
      },
      {
        "name": "3.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/1744f02e-f8e4-45a3-8d01-a97b6cac0490.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4e1",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4e1"
      },
      {
        "name": "1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/a0063afd-9dfb-40af-ad0f-9d58c33b055e.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4dc",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4dc"
      },
      {
        "name": "4.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/08096349-f14b-4ae4-8458-aaa934c9b3f5.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4e2",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4e2"
      },
      {
        "name": "8.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/916036dd-4350-4578-aed5-e2d472816c3b.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4e6",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4e6"
      },
      {
        "name": "6.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/e931e0dc-3b71-44d0-8a6a-6422d931dbd9.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4e4",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4e4"
      },
      {
        "name": "7.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/47676564-2c97-476c-a045-4ecbf53cceb5.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4e5",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4e5"
      },
      {
        "name": "5.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/6b7fcbf1-b9e2-42d9-8ce4-159835543d7a.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4e3",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4e3"
      },
      {
        "name": "12.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/7ea1d49c-3186-4eb3-9983-ae64c4cc5712.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4df",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4df"
      },
      {
        "name": "11.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/2b324192-eb53-4a41-b2b4-433fd6a01151.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4de",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4de"
      },
      {
        "name": "9.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/19eb7b7f-73fb-434e-bdee-76c7e81afa38.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4e7",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4e7"
      },
      {
        "name": "10.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/0d0bf111-b63f-464b-bf40-2994c3f2ab1f.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673f4ca5b81e6618d3eda4dd",
        "createdAt": "2024-11-21T15:50:32.564Z",
        "updatedAt": "2024-11-21T15:50:32.564Z",
        "id": "673f4ca5b81e6618d3eda4dd"
      }
    ],
    "createdAt": "2024-11-21T15:07:18.230Z",
    "updatedAt": "2024-11-21T15:50:32.564Z",
    "id": "w0J3xwSSv"
  },
  {
    "_id": "E8CaoYTt7",
    "name": "teentaal visualization",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "673b78b6761a02aef86d6203",
          "673b78b6761a02aef86d6202",
          "673b79df761a02aef86d6206",
          "673b78b6761a02aef86d6204"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "673b78b6761a02aef86d6205",
        "createdAt": "2024-11-18T17:55:33.440Z",
        "updatedAt": "2024-11-18T17:55:33.440Z",
        "id": "673b78b6761a02aef86d6205"
      },
      {
        "name": "sketch.js",
        "content": "let bass = 0;\nlet hihat = 1;\nlet kick = 2;\nlet shloop = 3;\n\nlet sounds = [];\n\nlet bpm = 120; // Beats per minute\nlet framesPerBeat = (60 / bpm) * 60; // Frames per beat at 60 fps\nlet totalBeats = 16; // Total beats in Teentaal\n\nlet lastBeat = -1;\n\nfunction preload() {\n  for (let i = 0; i < 4; i++) { // Correctly loop from 0 to 4\n    sounds.push(loadSound('./sounds/' + (i) + '.mp3')); // Adjust file path logic\n  }\n}\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n}\n\nfunction draw() {\n  background(255);\n\n  let beat = floor((frameCount / framesPerBeat) % totalBeats);\n\n  // Trigger sound only on new beat\n  if (beat !== lastBeat) {\n    lastBeat = beat;\n\n    if (beat % 4 === 0) {\n      console.log(\"Dha\");\n      if (sounds[kick]) sounds[kick].play();\n    } else if (beat === 7 || beat === 15) {\n      console.log(\"Na\");\n      if (sounds[bass]) sounds[bass].play();\n    } else {\n      console.log(\"Thin\");\n      if (sounds[hihat]) sounds[hihat].play();\n    }\n  }\n\n  ellipse((beat % 4) * 100 + 50, floor(beat / 4) * 100 + 50, 50, 50);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "673b78b6761a02aef86d6202",
        "createdAt": "2024-11-18T17:55:33.440Z",
        "updatedAt": "2024-11-18T17:55:33.440Z",
        "id": "673b78b6761a02aef86d6202"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673b78b6761a02aef86d6203",
        "createdAt": "2024-11-18T17:55:33.440Z",
        "updatedAt": "2024-11-18T17:55:33.440Z",
        "id": "673b78b6761a02aef86d6203"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673b78b6761a02aef86d6204",
        "createdAt": "2024-11-18T17:55:33.440Z",
        "updatedAt": "2024-11-18T17:55:33.440Z",
        "id": "673b78b6761a02aef86d6204"
      },
      {
        "name": "sounds",
        "content": "",
        "children": [
          "673b7a66761a02aef86d620e",
          "673b7a66761a02aef86d620d",
          "673b7a66761a02aef86d620c",
          "673b7a66761a02aef86d6210"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "673b79df761a02aef86d6206",
        "createdAt": "2024-11-18T17:55:33.440Z",
        "updatedAt": "2024-11-18T17:55:33.440Z",
        "id": "673b79df761a02aef86d6206"
      },
      {
        "name": "2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/70337263-f495-43ad-a685-5d2b0608bd6b.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673b7a66761a02aef86d620c",
        "createdAt": "2024-11-18T17:55:33.440Z",
        "updatedAt": "2024-11-18T17:55:33.440Z",
        "id": "673b7a66761a02aef86d620c"
      },
      {
        "name": "1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/cdd4e670-592b-4cde-89bc-f6929f3b3f57.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673b7a66761a02aef86d620d",
        "createdAt": "2024-11-18T17:55:33.440Z",
        "updatedAt": "2024-11-18T17:55:33.440Z",
        "id": "673b7a66761a02aef86d620d"
      },
      {
        "name": "0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/3057770d-71fb-4382-9c87-188b03fc908e.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673b7a66761a02aef86d620e",
        "createdAt": "2024-11-18T17:55:33.440Z",
        "updatedAt": "2024-11-18T17:55:33.440Z",
        "id": "673b7a66761a02aef86d620e"
      },
      {
        "name": "3.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/46a1ccb8-ccd4-4ecb-ab37-09cf10ee6eaf.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673b7a66761a02aef86d6210",
        "createdAt": "2024-11-18T17:55:33.440Z",
        "updatedAt": "2024-11-18T17:55:33.440Z",
        "id": "673b7a66761a02aef86d6210"
      }
    ],
    "updatedAt": "2024-11-18T17:55:33.440Z",
    "createdAt": "2024-11-18T17:45:04.840Z",
    "id": "E8CaoYTt7"
  },
  {
    "_id": "3aK7kNsSe",
    "name": "teentaal visualization copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "673b7fef761a02aef86d6212",
          "673b7fef761a02aef86d6213",
          "673b7fef761a02aef86d6214",
          "673b7fef761a02aef86d6219"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "673b7fef761a02aef86d6211",
        "createdAt": "2024-11-18T18:11:21.255Z",
        "updatedAt": "2024-11-18T18:11:21.255Z",
        "id": "673b7fef761a02aef86d6211"
      },
      {
        "name": "sketch.js",
        "content": "let bass = 0;\nlet hihat = 1;\nlet kick = 2;\nlet shloop = 3;\n\nlet sounds = [];\n\nlet bpm = 165; // Beats per minute\nlet framesPerBeat = (60 / bpm) * 60; // Frames per beat at 60 fps\nlet totalBeats = 16; // Total beats in Teentaal\n\nlet lastBeat = -1;\n\nfunction preload() {\n  for (let i = 0; i < 4; i++) { // Correctly loop from 0 to 4\n    sounds.push(loadSound('./sounds/' + (i) + '.mp3')); // Adjust file path logic\n  }\n}\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n}\n\nfunction draw() {\n  background(255);\n\n  let beat = floor((frameCount / framesPerBeat) % totalBeats);\n\n  // Trigger sound only on new beat\n  if (beat !== lastBeat) {\n    lastBeat = beat;\n\n    if (beat % 4 === 0) {\n      console.log(\"Dha\");\n      if (sounds[kick]) sounds[kick].play();\n    } else if (beat === 7 || beat === 15) {\n      console.log(\"Na\");\n      if (sounds[shloop]) sounds[shloop].play();\n    } else {\n      console.log(\"Thin\");\n      if (sounds[hihat]) sounds[hihat].play();\n    }\n  }\n\n  ellipse((beat % 4) * 100 + 50, floor(beat / 4) * 100 + 50, 50, 50);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "673b7fef761a02aef86d6213",
        "createdAt": "2024-11-18T18:11:21.255Z",
        "updatedAt": "2024-11-18T18:11:21.255Z",
        "id": "673b7fef761a02aef86d6213"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673b7fef761a02aef86d6212",
        "createdAt": "2024-11-18T18:11:21.255Z",
        "updatedAt": "2024-11-18T18:11:21.255Z",
        "id": "673b7fef761a02aef86d6212"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673b7fef761a02aef86d6219",
        "createdAt": "2024-11-18T18:11:21.255Z",
        "updatedAt": "2024-11-18T18:11:21.255Z",
        "id": "673b7fef761a02aef86d6219"
      },
      {
        "name": "sounds",
        "content": "",
        "children": [
          "673b7fef761a02aef86d6215",
          "673b8312316a301031de753f",
          "673b7fef761a02aef86d6217",
          "673b7fef761a02aef86d6218"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "673b7fef761a02aef86d6214",
        "createdAt": "2024-11-18T18:11:21.255Z",
        "updatedAt": "2024-11-18T18:11:21.255Z",
        "id": "673b7fef761a02aef86d6214"
      },
      {
        "name": "2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/e5a33b3d-e640-428c-a3da-8e8a5416e59e.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673b7fef761a02aef86d6217",
        "createdAt": "2024-11-18T18:11:21.255Z",
        "updatedAt": "2024-11-18T18:11:21.255Z",
        "id": "673b7fef761a02aef86d6217"
      },
      {
        "name": "0.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f78cc063-a9f8-4f35-8778-495f6e395eab.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673b7fef761a02aef86d6215",
        "createdAt": "2024-11-18T18:11:21.255Z",
        "updatedAt": "2024-11-18T18:11:21.255Z",
        "id": "673b7fef761a02aef86d6215"
      },
      {
        "name": "3.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/9e51cc70-3b03-44bf-b6d4-46ee56af3dd4.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673b7fef761a02aef86d6218",
        "createdAt": "2024-11-18T18:11:21.255Z",
        "updatedAt": "2024-11-18T18:11:21.255Z",
        "id": "673b7fef761a02aef86d6218"
      },
      {
        "name": "1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/96e06a29-ae19-4e53-a523-e1243766971a.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "673b8312316a301031de753f",
        "createdAt": "2024-11-18T18:11:21.255Z",
        "updatedAt": "2024-11-18T18:11:21.255Z",
        "id": "673b8312316a301031de753f"
      }
    ],
    "createdAt": "2024-11-18T17:57:04.330Z",
    "updatedAt": "2024-11-18T18:11:21.255Z",
    "id": "3aK7kNsSe"
  },
  {
    "_id": "ThWFOd1GKA",
    "name": "Tempo / Speed copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67b413c7beb4036a86b0cc45",
          "67b413c7beb4036a86b0cc46",
          "67b413c7beb4036a86b0cc49",
          "67b413c7beb4036a86b0cc4a"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67b413c7beb4036a86b0cc44",
        "createdAt": "2021-02-18T23:25:55.722Z",
        "updatedAt": "2021-02-18T23:25:55.722Z",
        "id": "67b413c7beb4036a86b0cc44"
      },
      {
        "name": "sketch.js",
        "content": "// Play the kick drum once per second\n\n// Create a Player object and load the \"kick.mp3\" file\nconst kick = new Tone.Player(\"samples/505/kick.mp3\");\n\n// Connect the player output to the computer's audio output\nkick.toDestination();\n\n// Set the tempo / speed, which is measured in 'beats per minute', or bpm.\n// Try setting the bpm to different values\nTone.Transport.bpm.value = 120;\n// Our speed is now 120 beats per minute = 2 beats per second.\n// --> each beat lasts 0.5 seconds.\n// --> quarter note duration is set to 0.5 seconds\n// (by default, Tone sets the time signature to be 4/4.\n// the denominator says that the duration of the beat is the duration of a quarter note)\n\n// Create a loop: call the function playBeat every quarter note\n// \"4n\" stands for quarter note. Try replacing \"4n\" with \"2n\", \"8n\", \"16n\"\nTone.Transport.scheduleRepeat(playPulse, \"4n\");\n// See documentation here: https://github.com/Tonejs/Tone.js/wiki/Time\n\nfunction playPulse(time) {\n  kick.start(time);\n}\n\n// Interface: p5 functions\nfunction setup() {\n  btn = createButton(\"play\");\n  btn.mousePressed(togglePlay);\n  btn.position(0, 0);\n}\nfunction togglePlay() {\n  if (Tone.Transport.state == \"started\") {    // If it's playing\n    Tone.Transport.pause(); // Pause the transport\n    btn.html(\"play\"); // Update button text to \"play\"\n  } else {  // If it's not playing\n    Tone.Transport.start(); // Start the transport\n    btn.html(\"pause\"); // Update button text to \"pause\"\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67b413c7beb4036a86b0cc49",
        "createdAt": "2021-02-18T23:25:55.722Z",
        "updatedAt": "2021-02-18T23:25:55.722Z",
        "id": "67b413c7beb4036a86b0cc49"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b413c7beb4036a86b0cc45",
        "createdAt": "2021-02-18T23:25:55.722Z",
        "updatedAt": "2021-02-18T23:25:55.722Z",
        "id": "67b413c7beb4036a86b0cc45"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b413c7beb4036a86b0cc4a",
        "createdAt": "2021-02-18T23:25:55.722Z",
        "updatedAt": "2021-02-18T23:25:55.722Z",
        "id": "67b413c7beb4036a86b0cc4a"
      },
      {
        "name": "samples",
        "content": "",
        "children": [
          "67b413c7beb4036a86b0cc47"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67b413c7beb4036a86b0cc46",
        "createdAt": "2021-02-18T23:25:55.722Z",
        "updatedAt": "2021-02-18T23:25:55.722Z",
        "id": "67b413c7beb4036a86b0cc46"
      },
      {
        "name": "505",
        "content": "",
        "children": [
          "67b413c7beb4036a86b0cc48"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67b413c7beb4036a86b0cc47",
        "createdAt": "2021-02-18T23:25:55.722Z",
        "updatedAt": "2021-02-18T23:25:55.722Z",
        "id": "67b413c7beb4036a86b0cc47"
      },
      {
        "name": "kick.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/31f3d676-4e8b-4578-ba66-d9d1e8f02d8f.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b413c7beb4036a86b0cc48",
        "createdAt": "2021-02-18T23:25:55.722Z",
        "updatedAt": "2021-02-18T23:25:55.722Z",
        "id": "67b413c7beb4036a86b0cc48"
      }
    ],
    "createdAt": "2025-02-18T04:59:51.783Z",
    "updatedAt": "2025-02-18T04:59:51.783Z",
    "id": "ThWFOd1GKA"
  },
  {
    "_id": "QOFXNXS5I",
    "name": "Tempo / Speed copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67b413c6beb4036a86b0cc3e",
          "67b413c6beb4036a86b0cc3f",
          "67b413c6beb4036a86b0cc42",
          "67b413c6beb4036a86b0cc43"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67b413c6beb4036a86b0cc3d",
        "createdAt": "2021-02-18T23:25:55.722Z",
        "updatedAt": "2021-02-18T23:25:55.722Z",
        "id": "67b413c6beb4036a86b0cc3d"
      },
      {
        "name": "sketch.js",
        "content": "// Play the kick drum once per second\n\n// Create a Player object and load the \"kick.mp3\" file\nconst kick = new Tone.Player(\"samples/505/kick.mp3\");\n\n// Connect the player output to the computer's audio output\nkick.toDestination();\n\n// Set the tempo / speed, which is measured in 'beats per minute', or bpm.\n// Try setting the bpm to different values\nTone.Transport.bpm.value = 120;\n// Our speed is now 120 beats per minute = 2 beats per second.\n// --> each beat lasts 0.5 seconds.\n// --> quarter note duration is set to 0.5 seconds\n// (by default, Tone sets the time signature to be 4/4.\n// the denominator says that the duration of the beat is the duration of a quarter note)\n\n// Create a loop: call the function playBeat every quarter note\n// \"4n\" stands for quarter note. Try replacing \"4n\" with \"2n\", \"8n\", \"16n\"\nTone.Transport.scheduleRepeat(playPulse, \"4n\");\n// See documentation here: https://github.com/Tonejs/Tone.js/wiki/Time\n\nfunction playPulse(time) {\n  kick.start(time);\n}\n\n// Interface: p5 functions\nfunction setup() {\n  btn = createButton(\"play\");\n  btn.mousePressed(togglePlay);\n  btn.position(0, 0);\n}\nfunction togglePlay() {\n  if (Tone.Transport.state == \"started\") {    // If it's playing\n    Tone.Transport.pause(); // Pause the transport\n    btn.html(\"play\"); // Update button text to \"play\"\n  } else {  // If it's not playing\n    Tone.Transport.start(); // Start the transport\n    btn.html(\"pause\"); // Update button text to \"pause\"\n  }\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67b413c6beb4036a86b0cc42",
        "createdAt": "2021-02-18T23:25:55.722Z",
        "updatedAt": "2021-02-18T23:25:55.722Z",
        "id": "67b413c6beb4036a86b0cc42"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.9/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b413c6beb4036a86b0cc3e",
        "createdAt": "2021-02-18T23:25:55.722Z",
        "updatedAt": "2021-02-18T23:25:55.722Z",
        "id": "67b413c6beb4036a86b0cc3e"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b413c6beb4036a86b0cc43",
        "createdAt": "2021-02-18T23:25:55.722Z",
        "updatedAt": "2021-02-18T23:25:55.722Z",
        "id": "67b413c6beb4036a86b0cc43"
      },
      {
        "name": "samples",
        "content": "",
        "children": [
          "67b413c6beb4036a86b0cc40"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67b413c6beb4036a86b0cc3f",
        "createdAt": "2021-02-18T23:25:55.722Z",
        "updatedAt": "2021-02-18T23:25:55.722Z",
        "id": "67b413c6beb4036a86b0cc3f"
      },
      {
        "name": "505",
        "content": "",
        "children": [
          "67b413c6beb4036a86b0cc41"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67b413c6beb4036a86b0cc40",
        "createdAt": "2021-02-18T23:25:55.722Z",
        "updatedAt": "2021-02-18T23:25:55.722Z",
        "id": "67b413c6beb4036a86b0cc40"
      },
      {
        "name": "kick.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f54acdb2-86d4-4e79-bb10-53248cd8166e.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67b413c6beb4036a86b0cc41",
        "createdAt": "2021-02-18T23:25:55.722Z",
        "updatedAt": "2021-02-18T23:25:55.722Z",
        "id": "67b413c6beb4036a86b0cc41"
      }
    ],
    "createdAt": "2025-02-18T04:59:51.516Z",
    "updatedAt": "2025-02-18T04:59:51.516Z",
    "id": "QOFXNXS5I"
  },
  {
    "_id": "Dx-K95gU4",
    "name": "Tone.Oscillator - ADSR envelope & filters",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67d9b0784a70663e3ad2c94f",
          "67d9b0784a70663e3ad2c950",
          "67d9b0784a70663e3ad2c951"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67d9b0784a70663e3ad2c94e",
        "createdAt": "2025-03-18T17:48:10.434Z",
        "updatedAt": "2025-03-18T17:48:10.434Z",
        "id": "67d9b0784a70663e3ad2c94e"
      },
      {
        "name": "sketch.js",
        "content": "let osc1 = new Tone.Oscillator(261.63, \"sine\");\nosc1.volume.value = -12;\n\nlet ampEnv1 = new Tone.AmplitudeEnvelope({\n  \"attack\": 0.01,\n  \"decay\": 0.6,\n  \"sustain\": 0.8,\n  \"release\": 0.8\n}\n)\n\nlet aFilter = new Tone.Filter(150, \"lowpass\");\n\nosc1.connect(ampEnv1);\nampEnv1.connect(aFilter);\naFilter.toDestination();\n\nosc1.start();\n\nfunction keyPressed() {\n  ampEnv1.triggerAttack();\n}\n\nfunction keyReleased() {\n  ampEnv1.triggerRelease();\n}\n\nlet slider;\n\nfunction setup() {\n  slider = createSlider(-60, 0, -12);\n  slider.input(updateVolume);\n}\n\nfunction updateVolume() {\n  osc1.volume.rampTo(this.value());\n}\n\nfunction draw() {\n  background(220);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67d9b0784a70663e3ad2c950",
        "createdAt": "2025-03-18T17:48:10.434Z",
        "updatedAt": "2025-03-18T17:48:10.434Z",
        "id": "67d9b0784a70663e3ad2c950"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js\"></script>\n    <script src=\"https://unpkg.com/tone@15.0.4/build/Tone.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9b0784a70663e3ad2c94f",
        "createdAt": "2025-03-18T17:48:10.434Z",
        "updatedAt": "2025-03-18T17:48:10.434Z",
        "id": "67d9b0784a70663e3ad2c94f"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9b0784a70663e3ad2c951",
        "createdAt": "2025-03-18T17:48:10.434Z",
        "updatedAt": "2025-03-18T17:48:10.434Z",
        "id": "67d9b0784a70663e3ad2c951"
      }
    ],
    "createdAt": "2025-03-18T17:42:16.871Z",
    "updatedAt": "2025-03-18T17:48:10.434Z",
    "id": "Dx-K95gU4"
  },
  {
    "_id": "DyErE2Ph4",
    "name": "Tone.Oscillator - ASDR envelope",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67d9a9b44a70663e3ad2c94b",
          "67d9a9b44a70663e3ad2c94c",
          "67d9a9b44a70663e3ad2c94d"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67d9a9b44a70663e3ad2c94a",
        "createdAt": "2025-03-18T17:35:03.399Z",
        "updatedAt": "2025-03-18T17:35:03.399Z",
        "id": "67d9a9b44a70663e3ad2c94a"
      },
      {
        "name": "sketch.js",
        "content": "let osc1 = new Tone.Oscillator(261.63, \"sine\");\nosc1.volume.value = -12;\n\nlet ampEnv1 = new Tone.AmplitudeEnvelope({\n  \"attack\": 0.01,\n  \"decay\": 0.6,\n  \"sustain\": 0.8,\n  \"release\": 0.8\n}\n)\n\nosc1.connect(ampEnv1);\nampEnv1.toMaster();\nosc1.start();\n\n\nfunction keyPressed() {\n  ampEnv1.triggerAttack();\n}\n\nfunction keyReleased() {\n  ampEnv1.triggerRelease();\n}\n\nlet slider;\n\nfunction setup() {\n  slider = createSlider(-60, 0, -12);\n  slider.input(updateVolume);\n}\n\nfunction updateVolume() {\n  osc1.volume.rampTo(this.value());\n}\n\nfunction draw() {\n  background(220);\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67d9a9b44a70663e3ad2c94c",
        "createdAt": "2025-03-18T17:35:03.399Z",
        "updatedAt": "2025-03-18T17:35:03.399Z",
        "id": "67d9a9b44a70663e3ad2c94c"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html>\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.dom.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/13.0.1/Tone.min.js\" type=\"text/javascript\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a9b44a70663e3ad2c94b",
        "createdAt": "2025-03-18T17:35:03.399Z",
        "updatedAt": "2025-03-18T17:35:03.399Z",
        "id": "67d9a9b44a70663e3ad2c94b"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a9b44a70663e3ad2c94d",
        "createdAt": "2025-03-18T17:35:03.399Z",
        "updatedAt": "2025-03-18T17:35:03.399Z",
        "id": "67d9a9b44a70663e3ad2c94d"
      }
    ],
    "createdAt": "2025-03-18T17:13:24.341Z",
    "updatedAt": "2025-03-18T17:35:03.399Z",
    "id": "DyErE2Ph4"
  },
  {
    "_id": "LvLSde4yn",
    "name": "Tone.Oscillator - random partials",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67d9a5c1eaa1ca923d7db03a",
          "67d9a5c1eaa1ca923d7db03b",
          "67d9a5c1eaa1ca923d7db03c"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67d9a5c1eaa1ca923d7db039",
        "createdAt": "2025-03-18T17:13:22.421Z",
        "updatedAt": "2025-03-18T17:13:22.421Z",
        "id": "67d9a5c1eaa1ca923d7db039"
      },
      {
        "name": "sketch.js",
        "content": "// Tone.Oscillator allows you to deal with multiple oscillators at the same time\nlet osc = new Tone.Oscillator(261.63, \"sine\");\nosc.volume.value = -12;\nosc.toMaster();\n\nsetInterval(randomPartials, 1000);\n\nfunction randomPartials() {\n  let partials = [];\n  for (let i = 0; i < 8; i++) {\n    partials[i] = random();\n  }\n  console.log(partials);\n  osc.partials = partials;\n}\n\nlet slider;\n\nfunction setup() {\n  slider = createSlider(-60, 0, -12);\n  slider.input(updateVolume);\n}\n\nfunction updateVolume() {\n  osc.volume.rampTo(this.value());\n}\n\nfunction draw() {\n  background(220);\n}\n\nfunction keyPressed() {\n  osc.start();\n}\n\nfunction keyReleased() {\n  osc.stop();\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67d9a5c1eaa1ca923d7db03b",
        "createdAt": "2025-03-18T17:13:22.421Z",
        "updatedAt": "2025-03-18T17:13:22.421Z",
        "id": "67d9a5c1eaa1ca923d7db03b"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html>\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.dom.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/13.0.1/Tone.min.js\" type=\"text/javascript\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a5c1eaa1ca923d7db03a",
        "createdAt": "2025-03-18T17:13:22.421Z",
        "updatedAt": "2025-03-18T17:13:22.421Z",
        "id": "67d9a5c1eaa1ca923d7db03a"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a5c1eaa1ca923d7db03c",
        "createdAt": "2025-03-18T17:13:22.421Z",
        "updatedAt": "2025-03-18T17:13:22.421Z",
        "id": "67d9a5c1eaa1ca923d7db03c"
      }
    ],
    "createdAt": "2025-03-18T16:56:33.682Z",
    "updatedAt": "2025-03-18T17:13:22.421Z",
    "id": "LvLSde4yn"
  },
  {
    "_id": "KHxmyMJPv",
    "name": "Tone.Oscillator starter",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67d9a48fa688a371a1d6c556",
          "67d9a48fa688a371a1d6c555",
          "67d9a48fa688a371a1d6c557"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67d9a48fa688a371a1d6c558",
        "createdAt": "2025-03-18T17:49:18.111Z",
        "updatedAt": "2025-03-18T17:49:18.111Z",
        "id": "67d9a48fa688a371a1d6c558"
      },
      {
        "name": "sketch.js",
        "content": "// Tone.Oscillator allows you to deal with multiple oscillators at the same time\nlet osc = new Tone.Oscillator(261.63, \"sine\");\nosc.volume.value = -12;\nosc.toDestination();\n\nlet slider;\n\nfunction setup() {\n  slider = createSlider(-60, 0, -12);\n  slider.input(updateVolume);\n}\n\nfunction updateVolume() {\n  osc.volume.rampTo(this.value());\n}\n\nfunction draw() {\n  background(220);\n}\n\nfunction keyPressed() {\n  osc.start();\n}\n\nfunction keyReleased() {\n  osc.stop();\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67d9a48fa688a371a1d6c555",
        "createdAt": "2025-03-18T17:49:18.111Z",
        "updatedAt": "2025-03-18T17:49:18.111Z",
        "id": "67d9a48fa688a371a1d6c555"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html>\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.dom.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/13.0.1/Tone.min.js\" type=\"text/javascript\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a48fa688a371a1d6c556",
        "createdAt": "2025-03-18T17:49:18.111Z",
        "updatedAt": "2025-03-18T17:49:18.111Z",
        "id": "67d9a48fa688a371a1d6c556"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a48fa688a371a1d6c557",
        "createdAt": "2025-03-18T17:49:18.111Z",
        "updatedAt": "2025-03-18T17:49:18.111Z",
        "id": "67d9a48fa688a371a1d6c557"
      }
    ],
    "updatedAt": "2025-03-18T17:49:18.111Z",
    "createdAt": "2025-03-18T16:51:33.183Z",
    "id": "KHxmyMJPv"
  },
  {
    "_id": "72fF3KOT9",
    "name": "Tone.Player adjusting playback example",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67d9a129a688a371a1d6c550",
          "67d9a129a688a371a1d6c551",
          "67d9a129a688a371a1d6c553",
          "67d9a129a688a371a1d6c554"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67d9a129a688a371a1d6c54f",
        "createdAt": "2025-03-18T17:48:39.622Z",
        "updatedAt": "2025-03-18T17:48:39.622Z",
        "id": "67d9a129a688a371a1d6c54f"
      },
      {
        "name": "sketch.js",
        "content": "// Original code by Luisa Pereira\n// allows for adjusted playback of the sample\n\nlet player = new Tone.Player(\"samples/congas.m4a\");\n// Properties:\n// playbackRate:1\n// loop:false\n// autostart:false\n// loopStart:0\n// loopEnd:0\n// retrigger:false\n// reverse:false\n\nplayer.loop = true;\nplayer.retrigger = true;\n\n//Make loop shorter\n// player.loopStart = 0;\n// player.loopEnd = \"8n\";\nplayer.toMaster();\n\nfunction setup() {\n\tconsole.log(\"Play spacebar to start/stop. Mouse left and right to change speed. Click to reverse\");\n}\n\nfunction draw() {\n  player.playbackRate = map(mouseX, 0, width, 0.1, 1);\n}\n\nfunction keyPressed() {\n  if (key == ' ') {\n    if (player.state == \"stopped\") {\n      player.start();\n    } else {\n      player.stop();\n    }\n  }\n}\n\nfunction mouseReleased() {\n  player.reverse = !(player.reverse);\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a129a688a371a1d6c553",
        "createdAt": "2025-03-18T17:48:39.622Z",
        "updatedAt": "2025-03-18T17:48:39.622Z",
        "id": "67d9a129a688a371a1d6c553"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html>\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.dom.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/13.0.1/Tone.min.js\" type=\"text/javascript\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67d9a129a688a371a1d6c550",
        "createdAt": "2025-03-18T17:48:39.622Z",
        "updatedAt": "2025-03-18T17:48:39.622Z",
        "id": "67d9a129a688a371a1d6c550"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a129a688a371a1d6c554",
        "createdAt": "2025-03-18T17:48:39.622Z",
        "updatedAt": "2025-03-18T17:48:39.622Z",
        "id": "67d9a129a688a371a1d6c554"
      },
      {
        "name": "samples",
        "content": "",
        "children": [
          "67d9a129a688a371a1d6c552"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67d9a129a688a371a1d6c551",
        "createdAt": "2025-03-18T17:48:39.622Z",
        "updatedAt": "2025-03-18T17:48:39.622Z",
        "id": "67d9a129a688a371a1d6c551"
      },
      {
        "name": "congas.m4a",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/07931f90-5680-4769-8a76-0a91134ca74b.m4a",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a129a688a371a1d6c552",
        "createdAt": "2025-03-18T17:48:39.622Z",
        "updatedAt": "2025-03-18T17:48:39.622Z",
        "id": "67d9a129a688a371a1d6c552"
      }
    ],
    "createdAt": "2025-03-18T16:36:58.046Z",
    "updatedAt": "2025-03-18T17:48:39.622Z",
    "id": "72fF3KOT9"
  },
  {
    "_id": "H-T_F4jMg",
    "name": "Tone.Sampler Example",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67d9a10216cfa0c021ad70cd",
          "67d9a10216cfa0c021ad70ce",
          "67d9a10216cfa0c021ad70dd",
          "67d9a10216cfa0c021ad70de"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70cc",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70cc"
      },
      {
        "name": "sketch.js",
        "content": "// more samples you include, the better the interpolation between pitches will be\n// it can work on just one\nlet sampler = new Tone.Sampler({\n\t\"A1\": \"samples/casio/A1.mp3\", \n  \"D2\": \"samples/casio/D2.mp3\"\n});\n\nsampler.envelope = {\n  attack: 0.2,\n  decay: 0,\n  sustain: 1,\n  release: 0.1\n}\nsampler.toMaster();\n\nfunction keyPressed() {\n  let pitch; \n  if(key == 'a'){\n  \tpitch = \"A1\";\n  }\n  else if(key == 's'){\n  \tpitch = \"B1\";\n  }\n  else if(key == 'd'){\n  \tpitch = \"C2\";\n  }\n  else if(key == 'f'){\n  \tpitch = \"D2\";\n  }\n  else if(key == 'g'){\n  \tpitch = \"E2\";\n  }\n  \n  if(pitch && sampler.loaded){\n    // Sampler will repitch the closest sample\n  \tsampler.triggerAttack(pitch);\n  }\n}\n\nfunction keyReleased() {\n  sampler.triggerRelease();\n}\n\nfunction setup() {\n\n}\n\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67d9a10216cfa0c021ad70dd",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70dd"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html>\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.dom.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/tone/13.0.1/Tone.min.js\" type=\"text/javascript\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70cd",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70cd"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70de",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70de"
      },
      {
        "name": "samples",
        "content": "",
        "children": [
          "67d9a10216cfa0c021ad70cf"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70ce",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70ce"
      },
      {
        "name": "casio",
        "content": "",
        "children": [
          "67d9a10216cfa0c021ad70d0",
          "67d9a10216cfa0c021ad70d1",
          "67d9a10216cfa0c021ad70d2",
          "67d9a10216cfa0c021ad70d3",
          "67d9a10216cfa0c021ad70d4",
          "67d9a10216cfa0c021ad70d5",
          "67d9a10216cfa0c021ad70d6",
          "67d9a10216cfa0c021ad70d7",
          "67d9a10216cfa0c021ad70d8",
          "67d9a10216cfa0c021ad70d9",
          "67d9a10216cfa0c021ad70da",
          "67d9a10216cfa0c021ad70db",
          "67d9a10216cfa0c021ad70dc"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70cf",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70cf"
      },
      {
        "name": "A2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/078cd9f1-c799-453f-b56e-a83ee8a93f5e.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70d1",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70d1"
      },
      {
        "name": "As1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f3d30126-8927-4b37-8e6f-50cde4e1d21a.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70d2",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70d2"
      },
      {
        "name": "B1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/144bf6c5-7dbf-499d-90ee-da4785df3272.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70d3",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70d3"
      },
      {
        "name": "Cs2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/6ac4a5a2-3e07-4ccd-9b9e-16cad6127471.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70d5",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70d5"
      },
      {
        "name": "C2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/e0dc3002-9952-499b-ac7f-10b4b77b2271.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70d4",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70d4"
      },
      {
        "name": "D2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/13a6746d-016a-4533-96b3-fa82ac8c1d44.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70d6",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70d6"
      },
      {
        "name": "Ds2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/08719edb-156f-4b55-9a8e-e3ca5182e74e.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70d7",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70d7"
      },
      {
        "name": "E2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/8391cd55-ffa5-4dd2-a10f-cddb6de4992e.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70d8",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70d8"
      },
      {
        "name": "F2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/d8567849-723d-4cb6-a595-700bb849f79a.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70d9",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70d9"
      },
      {
        "name": "Fs2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/f03d8f61-1887-4c4e-bd68-139d9f8a7ba7.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70da",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70da"
      },
      {
        "name": "G2.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/ed1695e9-5cc2-40a9-8aea-d956e9c1cd73.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70db",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70db"
      },
      {
        "name": "Gs1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/ff213a48-8336-4ed1-b22f-b464654f4936.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70dc",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70dc"
      },
      {
        "name": "A1.mp3",
        "content": "",
        "url": "https://assets.editor.p5js.org/671a7bf6dce92d3d5abe4dcc/9d084898-42b3-4c47-889d-6df77c864442.mp3",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67d9a10216cfa0c021ad70d0",
        "createdAt": "2025-03-18T16:36:54.055Z",
        "updatedAt": "2025-03-18T16:36:54.055Z",
        "id": "67d9a10216cfa0c021ad70d0"
      }
    ],
    "createdAt": "2025-03-18T16:36:18.701Z",
    "updatedAt": "2025-03-18T16:36:54.055Z",
    "id": "H-T_F4jMg"
  },
  {
    "_id": "iQQbP2oU6",
    "name": "Upbeat spinach",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "673f80c53676f07c4e580b9f",
          "673f80c53676f07c4e580b9e",
          "673f80c53676f07c4e580ba0"
        ],
        "fileType": "folder",
        "_id": "673f80c53676f07c4e580ba1",
        "createdAt": "2024-11-21T18:52:19.095Z",
        "updatedAt": "2024-11-21T18:52:19.095Z",
        "id": "673f80c53676f07c4e580ba1"
      },
      {
        "name": "sketch.js",
        "content": "let str = '';\n\nfunction setup() {\n  createCanvas(400, 400);\n  textAlign(LEFT, TOP);\n  textSize(36);\n}\n\nlet x = 0;\nlet y = 0;\nlet c = 0;\n\nfunction draw() {\n  background(220);\n  \n  if (frameCount % 10 == 1) {\n    let ch = str.charAt(c);\n    text(ch, x, )\n  }\n}",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "673f80c53676f07c4e580b9e",
        "createdAt": "2024-11-21T18:52:19.095Z",
        "updatedAt": "2024-11-21T18:52:19.095Z",
        "id": "673f80c53676f07c4e580b9e"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <meta charset=\"utf-8\" />\n\n  </head>\n  <body>\n    <main>\n    </main>\n    <script src=\"sketch.js\"></script>\n  </body>\n</html>\n",
        "children": [],
        "fileType": "file",
        "_id": "673f80c53676f07c4e580b9f",
        "createdAt": "2024-11-21T18:52:19.095Z",
        "updatedAt": "2024-11-21T18:52:19.095Z",
        "id": "673f80c53676f07c4e580b9f"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "_id": "673f80c53676f07c4e580ba0",
        "createdAt": "2024-11-21T18:52:19.095Z",
        "updatedAt": "2024-11-21T18:52:19.095Z",
        "id": "673f80c53676f07c4e580ba0"
      }
    ],
    "updatedAt": "2024-11-21T18:52:19.095Z",
    "createdAt": "2024-11-21T18:51:07.991Z",
    "id": "iQQbP2oU6"
  },
  {
    "_id": "ylGVDVo9O",
    "name": "webSerial multiple ascii values Arduino to P5 copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "672a9887ba6c32c92bec0e1f",
          "672a9887ba6c32c92bec0e20",
          "672a9887ba6c32c92bec0e21"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "672a9887ba6c32c92bec0e1e",
        "createdAt": "2023-11-06T17:23:29.951Z",
        "updatedAt": "2023-11-06T17:23:29.951Z",
        "id": "672a9887ba6c32c92bec0e1e"
      },
      {
        "name": "sketch.js",
        "content": "// send 2 ascii values from arduino to P5 with webSerial\n// based on Tom Igoe's lab examples\n\nconst serial = new p5.WebSerial();\nlet portButton;\nlet inData, inData2;\n\nfunction setup() {\n  createCanvas(800, 600);\n  background(0);\n  allSerialStuff();\n}\n\nfunction draw() {\n  // do your drawing stuff here\n  // no serial info here\n  // let xPosition = map(inData, 0, 1023, 0, width);\n  // let yPosition = map(inData2, 0, 1023, 0, height);\n  for (x = 0; x < width; x+=20) {\n    for (y = 0; y <= height; y+=20) {\n      let r = map(inData, 0, 1023, 0, 255);\n      let g = map(inData2, 0, 1023, 0, 255);\n      fill(r, g, random(100, 255));\n      noStroke();\n      ellipse(x, y, 15, 15);\n    }\n  }\n}\n\nfunction mousePressed() {\n  background(255);\n}\n\nfunction serialEvent() {\n  // this is called when data is recieved, data will then live in fromSerial\n  var stringFromSerial = serial.readLine(); // reads everything till the new line charecter\n  if (stringFromSerial) {\n    // is there something there ?\n    var trimmedString = trim(stringFromSerial); // get rid of all white space (returns, spaces, tabs)\n    var myArray = split(trimmedString, \",\"); // splits the string into an array on commas\n    inData = Number(myArray[0]); // get the first item in the array and turn into integer\n    inData2 = Number(myArray[1]); // get the second item in the array and turn into integer\n  }\n}\n\nfunction allSerialStuff() {\n  if (!navigator.serial) {\n    alert(\"WebSerial is not supported in this browser. Try Chrome or MS Edge.\");\n  }\n  // check for any ports that are available:\n  serial.getPorts();\n  // if there's no port chosen, choose one:\n  serial.on(\"noport\", makePortButton);\n  // open whatever port is available:\n  serial.on(\"portavailable\", openPort);\n  // handle serial errors:\n  serial.on(\"requesterror\", portError);\n  // handle any incoming serial data:\n  serial.on(\"data\", serialEvent);\n  serial.on(\"close\", makePortButton);\n  // add serial connect/disconnect listeners:\n  navigator.serial.addEventListener(\"connect\", portConnect);\n  navigator.serial.addEventListener(\"disconnect\", portDisconnect);\n}\n// if there's no port selected,\n// make a port select button appear:\nfunction makePortButton() {\n  // create and position a port chooser button:\n  portButton = createButton(\"choose port\");\n  portButton.position(10, 10);\n  // give the port button a mousepressed handler:\n  portButton.mousePressed(choosePort);\n}\n\n// make the port selector window appear:\nfunction choosePort() {\n  if (portButton) portButton.show();\n  serial.requestPort();\n}\n\n// open the selected port, and make the port\n// button invisible:\n// open the selected port, and make the port\n// button invisible:\nfunction openPort() {\n  // wait for the serial.open promise to return,\n  // then call the initiateSerial function\n  serial.open().then(initiateSerial);\n\n  // once the port opens, let the user know:\n  function initiateSerial() {\n    console.log(\"port open\");\n  }\n  // hide the port button once a port is chosen:\n  if (portButton) portButton.hide();\n}\n\n// pop up an alert if there's a port error:\nfunction portError(err) {\n  alert(\"Serial port error: \" + err);\n}\n// read any incoming data as a string\n// (assumes a newline at the end of it):\n\n// try to connect if a new serial port\n// gets added (i.e. plugged in via USB):\nfunction portConnect() {\n  console.log(\"port connected\");\n  serial.getPorts();\n}\n\n// if a port is disconnected:\nfunction portDisconnect() {\n  serial.close();\n  console.log(\"port disconnected\");\n}\n\nfunction closePort() {\n  serial.close();\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "672a9887ba6c32c92bec0e20",
        "createdAt": "2023-11-06T17:23:29.951Z",
        "updatedAt": "2023-11-06T17:23:29.951Z",
        "id": "672a9887ba6c32c92bec0e20"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js\"\n  integrity=\"sha512-WIklPM6qPCIp6d3fSSr90j+1unQHUOoWDS4sdTiR8gxUTnyZ8S2Mr8e10sKKJ/bhJgpAa/qG068RDkg6fIlNFA==\"\n  crossorigin=\"anonymous\"></script>\n  <script src=\"https://unpkg.com/p5-webserial@0.1.1/build/p5.webserial.js\"></script>\n <script src=\"sketch.js\"></script>\n  <meta charset=\"UTF-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>p5.webserial</title>\n</head>\n</html>",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672a9887ba6c32c92bec0e1f",
        "createdAt": "2023-11-06T17:23:29.951Z",
        "updatedAt": "2023-11-06T17:23:29.951Z",
        "id": "672a9887ba6c32c92bec0e1f"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672a9887ba6c32c92bec0e21",
        "createdAt": "2023-11-06T17:23:29.951Z",
        "updatedAt": "2023-11-06T17:23:29.951Z",
        "id": "672a9887ba6c32c92bec0e21"
      }
    ],
    "createdAt": "2024-11-05T22:13:27.477Z",
    "updatedAt": "2024-11-05T22:13:27.477Z",
    "id": "ylGVDVo9O"
  },
  {
    "_id": "rmDSdMMoJx",
    "name": "webSerial multiple ascii values P5 to Arduino copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "672a8ee545666440e43c5b7a",
          "672a8ee545666440e43c5b7b",
          "672a8ee545666440e43c5b7c"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "672a8ee545666440e43c5b79",
        "createdAt": "2022-10-24T16:22:00.916Z",
        "updatedAt": "2022-10-24T16:22:00.916Z",
        "id": "672a8ee545666440e43c5b79"
      },
      {
        "name": "sketch.js",
        "content": "// send mutiple ascii values from P5 to Arduino with webSerial\n// based on Tom Igoe's lab examples\n\nconst serial = new p5.WebSerial();\nlet portButton;\n\nfunction setup() {\n  createCanvas(400, 300);\n  allSerialStuff();\n}\n\nfunction draw() {\n\tbackground(0,0,255);\n  var firstValueToSend = mouseX;\n  var secondValueToSend = mouseY;\n  serial.write(firstValueToSend + \",\"); // this makes it a string and adds a comma\n  serial.write(secondValueToSend +\",\"); // this makes it a string and adds a comma\n  serial.write(\"\\n\" ); \t\t\t\t\t// this adds a linefeed in end (ascii 10)\n}\n\nfunction allSerialStuff() {\n  if (!navigator.serial) {\n    alert(\"WebSerial is not supported in this browser. Try Chrome or MS Edge.\");\n  }\n  // check for any ports that are available:\n  serial.getPorts();\n  // if there's no port chosen, choose one:\n  serial.on(\"noport\", makePortButton);\n  // open whatever port is available:\n  serial.on(\"portavailable\", openPort);\n  // handle serial errors:\n  serial.on(\"requesterror\", portError);\n  // handle any incoming serial data:\n  serial.on(\"data\", serialEvent);\n  serial.on(\"close\", makePortButton);\n  // add serial connect/disconnect listeners:\n  navigator.serial.addEventListener(\"connect\", portConnect);\n  navigator.serial.addEventListener(\"disconnect\", portDisconnect);\n}\n// if there's no port selected,\n// make a port select button appear:\nfunction makePortButton() {\n  // create and position a port chooser button:\n  portButton = createButton(\"choose port\");\n  portButton.position(10, 10);\n  // give the port button a mousepressed handler:\n  portButton.mousePressed(choosePort);\n}\n\n// make the port selector window appear:\nfunction choosePort() {\n  if (portButton) portButton.show();\n  serial.requestPort();\n}\n\n\nfunction serialEvent() {\n}\n\n\n// open the selected port, and make the port\n// button invisible:\n// open the selected port, and make the port\n// button invisible:\nfunction openPort() {\n  // wait for the serial.open promise to return,\n  // then call the initiateSerial function\n  serial.open().then(initiateSerial);\n\n  // once the port opens, let the user know:\n  function initiateSerial() {\n    console.log(\"port open\");\n  }\n  // hide the port button once a port is chosen:\n  if (portButton) portButton.hide();\n}\n\n// pop up an alert if there's a port error:\nfunction portError(err) {\n  alert(\"Serial port error: \" + err);\n}\n// read any incoming data as a string\n// (assumes a newline at the end of it):\n\n// try to connect if a new serial port\n// gets added (i.e. plugged in via USB):\nfunction portConnect() {\n  console.log(\"port connected\");\n  serial.getPorts();\n}\n\n// if a port is disconnected:\nfunction portDisconnect() {\n  serial.close();\n  console.log(\"port disconnected\");\n}\n\nfunction closePort() {\n  serial.close();\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "672a8ee545666440e43c5b7b",
        "createdAt": "2022-10-24T16:22:00.916Z",
        "updatedAt": "2022-10-24T16:22:00.916Z",
        "id": "672a8ee545666440e43c5b7b"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js\"\n  integrity=\"sha512-WIklPM6qPCIp6d3fSSr90j+1unQHUOoWDS4sdTiR8gxUTnyZ8S2Mr8e10sKKJ/bhJgpAa/qG068RDkg6fIlNFA==\"\n  crossorigin=\"anonymous\"></script>\n  <script src=\"https://unpkg.com/p5-webserial@0.1.1/build/p5.webserial.js\"></script>\n <script src=\"sketch.js\"></script>\n  <meta charset=\"UTF-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>p5.webserial</title>\n</head>\n</html>",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672a8ee545666440e43c5b7a",
        "createdAt": "2022-10-24T16:22:00.916Z",
        "updatedAt": "2022-10-24T16:22:00.916Z",
        "id": "672a8ee545666440e43c5b7a"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "672a8ee545666440e43c5b7c",
        "createdAt": "2022-10-24T16:22:00.916Z",
        "updatedAt": "2022-10-24T16:22:00.916Z",
        "id": "672a8ee545666440e43c5b7c"
      }
    ],
    "createdAt": "2024-11-05T21:32:21.904Z",
    "updatedAt": "2024-11-05T21:32:21.904Z",
    "id": "rmDSdMMoJx"
  },
  {
    "_id": "JacVvTqlN",
    "name": "webSerial one ascii value Arduino to P5 copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67215d0f31e2e02eec783fc9",
          "67215d0f31e2e02eec783fca",
          "67215d0f31e2e02eec783fcb"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67215d0f31e2e02eec783fc8",
        "createdAt": "2022-10-26T19:13:31.174Z",
        "updatedAt": "2022-10-26T19:13:31.174Z",
        "id": "67215d0f31e2e02eec783fc8"
      },
      {
        "name": "sketch.js",
        "content": "// send one ascii value from arduino to P5 with webSerial\n// based on Tom Igoe's lab examples\n\nconst serial = new p5.WebSerial();\nlet portButton;\nlet inData=0;\n\n\nfunction setup() {\n  createCanvas(400, 300);\n  allSerialStuff();\n  frameRate(10);\n}\n\nfunction draw() {\n\t// do your drawing stuff here\n\tbackground(255);\n    fill(inData/1000, 0, inData/700);\n\ttextSize(inData/500);\n\ttext(inData/1000, 0, height / 2);\n}\n\nfunction serialEvent() {\n  // read a string from the serial port:\n  var inString = serial.readLine();\n  // check to see that there's actually a string there:\n  if (inString) {\n  // convert it to a number:\n  inData = Number(inString);\n  }\n}\n\nfunction allSerialStuff() {\n  if (!navigator.serial) {\n    alert(\"WebSerial is not supported in this browser. Try Chrome or MS Edge.\");\n  }\n  // check for any ports that are available:\n  serial.getPorts();\n  // if there's no port chosen, choose one:\n  serial.on(\"noport\", makePortButton);\n  // open whatever port is available:\n  serial.on(\"portavailable\", openPort);\n  // handle serial errors:\n  serial.on(\"requesterror\", portError);\n  // handle any incoming serial data:\n  serial.on(\"data\", serialEvent);\n  serial.on(\"close\", makePortButton);\n  // add serial connect/disconnect listeners:\n  navigator.serial.addEventListener(\"connect\", portConnect);\n  navigator.serial.addEventListener(\"disconnect\", portDisconnect);\n}\n// if there's no port selected,\n// make a port select button appear:\nfunction makePortButton() {\n  // create and position a port chooser button:\n  portButton = createButton(\"choose port\");\n  portButton.position(10, 10);\n  // give the port button a mousepressed handler:\n  portButton.mousePressed(choosePort);\n}\n\n// make the port selector window appear:\nfunction choosePort() {\n  if (portButton) portButton.show();\n  serial.requestPort();\n}\n\n// open the selected port, and make the port\n// button invisible:\n// open the selected port, and make the port\n// button invisible:\nfunction openPort() {\n  // wait for the serial.open promise to return,\n  // then call the initiateSerial function\n  serial.open().then(initiateSerial);\n\n  // once the port opens, let the user know:\n  function initiateSerial() {\n    console.log(\"port open\");\n  }\n  // hide the port button once a port is chosen:\n  if (portButton) portButton.hide();\n}\n\n// pop up an alert if there's a port error:\nfunction portError(err) {\n  alert(\"Serial port error: \" + err);\n}\n// read any incoming data as a string\n// (assumes a newline at the end of it):\n\n// try to connect if a new serial port\n// gets added (i.e. plugged in via USB):\nfunction portConnect() {\n  console.log(\"port connected\");\n  serial.getPorts();\n}\n\n// if a port is disconnected:\nfunction portDisconnect() {\n  serial.close();\n  console.log(\"port disconnected\");\n}\n\nfunction closePort() {\n  serial.close();\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67215d0f31e2e02eec783fca",
        "createdAt": "2022-10-26T19:13:31.174Z",
        "updatedAt": "2022-10-26T19:13:31.174Z",
        "id": "67215d0f31e2e02eec783fca"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js\"\n  integrity=\"sha512-WIklPM6qPCIp6d3fSSr90j+1unQHUOoWDS4sdTiR8gxUTnyZ8S2Mr8e10sKKJ/bhJgpAa/qG068RDkg6fIlNFA==\"\n  crossorigin=\"anonymous\"></script>\n  <script src=\"https://unpkg.com/p5-webserial@0.1.1/build/p5.webserial.js\"></script>\n <script src=\"sketch.js\"></script>\n  <meta charset=\"UTF-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>p5.webserial</title>\n</head>\n</html>",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67215d0f31e2e02eec783fc9",
        "createdAt": "2022-10-26T19:13:31.174Z",
        "updatedAt": "2022-10-26T19:13:31.174Z",
        "id": "67215d0f31e2e02eec783fc9"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67215d0f31e2e02eec783fcb",
        "createdAt": "2022-10-26T19:13:31.174Z",
        "updatedAt": "2022-10-26T19:13:31.174Z",
        "id": "67215d0f31e2e02eec783fcb"
      }
    ],
    "createdAt": "2024-10-29T22:09:20.031Z",
    "updatedAt": "2024-10-29T22:09:20.031Z",
    "id": "JacVvTqlN"
  },
  {
    "_id": "7gm8oxQcK",
    "name": "webSerial one ascii value P5 to Arduino copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67214f0c1f4ddb73d5cca9ad",
          "67214f0c1f4ddb73d5cca9ae",
          "67214f0c1f4ddb73d5cca9af"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67214f0c1f4ddb73d5cca9ac",
        "createdAt": "2022-10-24T15:38:33.964Z",
        "updatedAt": "2022-10-24T15:38:33.964Z",
        "id": "67214f0c1f4ddb73d5cca9ac"
      },
      {
        "name": "sketch.js",
        "content": "// send one ascii value from P5 to Arduino with webSerial\n// based on Tom Igoe's lab examples\n\nconst serial = new p5.WebSerial();\nlet portButton;\n\nfunction setup() {\n  createCanvas(400, 300);\n  allSerialStuff();\n}\n\nfunction draw() {\n\tbackground(0,0,255);\n  var valueToSend = mouseX;\n  serial.write(valueToSend + \",\"); // this adds a comma and turns it into a string\n  print(valueToSend + \",\");\n}\n\nfunction allSerialStuff() {\n  if (!navigator.serial) {\n    alert(\"WebSerial is not supported in this browser. Try Chrome or MS Edge.\");\n  }\n  // check for any ports that are available:\n  serial.getPorts();\n  // if there's no port chosen, choose one:\n  serial.on(\"noport\", makePortButton);\n  // open whatever port is available:\n  serial.on(\"portavailable\", openPort);\n  // handle serial errors:\n  serial.on(\"requesterror\", portError);\n  // handle any incoming serial data:\n  serial.on(\"data\", serialEvent);\n  serial.on(\"close\", makePortButton);\n  // add serial connect/disconnect listeners:\n  navigator.serial.addEventListener(\"connect\", portConnect);\n  navigator.serial.addEventListener(\"disconnect\", portDisconnect);\n}\n// if there's no port selected,\n// make a port select button appear:\nfunction makePortButton() {\n  // create and position a port chooser button:\n  portButton = createButton(\"choose port\");\n  portButton.position(10, 10);\n  // give the port button a mousepressed handler:\n  portButton.mousePressed(choosePort);\n}\n\n// make the port selector window appear:\nfunction choosePort() {\n  if (portButton) portButton.show();\n  serial.requestPort();\n}\n\n\nfunction serialEvent() {\n}\n\n\n// open the selected port, and make the port\n// button invisible:\n// open the selected port, and make the port\n// button invisible:\nfunction openPort() {\n  // wait for the serial.open promise to return,\n  // then call the initiateSerial function\n  serial.open().then(initiateSerial);\n\n  // once the port opens, let the user know:\n  function initiateSerial() {\n    console.log(\"port open\");\n  }\n  // hide the port button once a port is chosen:\n  if (portButton) portButton.hide();\n}\n\n// pop up an alert if there's a port error:\nfunction portError(err) {\n  alert(\"Serial port error: \" + err);\n}\n// read any incoming data as a string\n// (assumes a newline at the end of it):\n\n// try to connect if a new serial port\n// gets added (i.e. plugged in via USB):\nfunction portConnect() {\n  console.log(\"port connected\");\n  serial.getPorts();\n}\n\n// if a port is disconnected:\nfunction portDisconnect() {\n  serial.close();\n  console.log(\"port disconnected\");\n}\n\nfunction closePort() {\n  serial.close();\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67214f0c1f4ddb73d5cca9ae",
        "createdAt": "2022-10-24T15:38:33.964Z",
        "updatedAt": "2022-10-24T15:38:33.964Z",
        "id": "67214f0c1f4ddb73d5cca9ae"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js\"\n  integrity=\"sha512-WIklPM6qPCIp6d3fSSr90j+1unQHUOoWDS4sdTiR8gxUTnyZ8S2Mr8e10sKKJ/bhJgpAa/qG068RDkg6fIlNFA==\"\n  crossorigin=\"anonymous\"></script>\n  <script src=\"https://unpkg.com/p5-webserial@0.1.1/build/p5.webserial.js\"></script>\n <script src=\"sketch.js\"></script>\n  <meta charset=\"UTF-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>p5.webserial</title>\n</head>\n</html>",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67214f0c1f4ddb73d5cca9ad",
        "createdAt": "2022-10-24T15:38:33.964Z",
        "updatedAt": "2022-10-24T15:38:33.964Z",
        "id": "67214f0c1f4ddb73d5cca9ad"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67214f0c1f4ddb73d5cca9af",
        "createdAt": "2022-10-24T15:38:33.964Z",
        "updatedAt": "2022-10-24T15:38:33.964Z",
        "id": "67214f0c1f4ddb73d5cca9af"
      }
    ],
    "createdAt": "2024-10-29T21:09:32.200Z",
    "updatedAt": "2024-10-29T21:09:32.200Z",
    "id": "7gm8oxQcK"
  },
  {
    "_id": "VGmKfiMHR",
    "name": "webSerial one binary value Arduino to P5 copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "6721518caa4cdcb1f6e814fd",
          "6721518caa4cdcb1f6e814fe",
          "6721518caa4cdcb1f6e814ff"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "6721518caa4cdcb1f6e814fc",
        "createdAt": "2022-10-26T14:53:01.256Z",
        "updatedAt": "2022-10-26T14:53:01.256Z",
        "id": "6721518caa4cdcb1f6e814fc"
      },
      {
        "name": "sketch.js",
        "content": "// send one byte from arduino to P5 with webSerial\n// based on Tom Igoe's lab examples\n\nconst serial = new p5.WebSerial();\nlet portButton;\nlet inData =0;\nlet posX = 0,\n  posY = 0,\n  step = 10;\n\nfunction setup() {\n  createCanvas(400, 300);\n  allSerialStuff();\n}\n\nfunction draw() {\n \n  posX += step;\n  if (posX > width) {\n    posX = 0;\n    posY += step;\n    if (posY > height) posY = 0;\n  }\n  fill(inData, 0, 0);\n  rect(posX, posY, step, step);\n  \n}\n\nfunction serialEvent() {\n  inData = Number(serial.read());\n  print(inData);\n}\n\nfunction allSerialStuff() {\n  if (!navigator.serial) {\n    alert(\"WebSerial is not supported in this browser. Try Chrome or MS Edge.\");\n  }\n  // check for any ports that are available:\n  serial.getPorts();\n  // if there's no port chosen, choose one:\n  serial.on(\"noport\", makePortButton);\n  // open whatever port is available:\n  serial.on(\"portavailable\", openPort);\n  // handle serial errors:\n  serial.on(\"requesterror\", portError);\n  // handle any incoming serial data:\n  serial.on(\"data\", serialEvent);\n  serial.on(\"close\", makePortButton);\n  // add serial connect/disconnect listeners:\n  navigator.serial.addEventListener(\"connect\", portConnect);\n  navigator.serial.addEventListener(\"disconnect\", portDisconnect);\n}\n// if there's no port selected,\n// make a port select button appear:\nfunction makePortButton() {\n  // create and position a port chooser button:\n  portButton = createButton(\"choose port\");\n  portButton.position(10, 10);\n  // give the port button a mousepressed handler:\n  portButton.mousePressed(choosePort);\n}\n\n// make the port selector window appear:\nfunction choosePort() {\n  if (portButton) portButton.show();\n  serial.requestPort();\n}\n\n// open the selected port, and make the port\n// button invisible:\n// open the selected port, and make the port\n// button invisible:\nfunction openPort() {\n  // wait for the serial.open promise to return,\n  // then call the initiateSerial function\n  serial.open().then(initiateSerial);\n\n  // once the port opens, let the user know:\n  function initiateSerial() {\n    console.log(\"port open\");\n  }\n  // hide the port button once a port is chosen:\n  if (portButton) portButton.hide();\n}\n\n// pop up an alert if there's a port error:\nfunction portError(err) {\n  alert(\"Serial port error: \" + err);\n}\n// read any incoming data as a string\n// (assumes a newline at the end of it):\n\n// try to connect if a new serial port\n// gets added (i.e. plugged in via USB):\nfunction portConnect() {\n  console.log(\"port connected\");\n  serial.getPorts();\n}\n\n// if a port is disconnected:\nfunction portDisconnect() {\n  serial.close();\n  console.log(\"port disconnected\");\n}\n\nfunction closePort() {\n  serial.close();\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "6721518caa4cdcb1f6e814fe",
        "createdAt": "2022-10-26T14:53:01.256Z",
        "updatedAt": "2022-10-26T14:53:01.256Z",
        "id": "6721518caa4cdcb1f6e814fe"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js\"\n  integrity=\"sha512-WIklPM6qPCIp6d3fSSr90j+1unQHUOoWDS4sdTiR8gxUTnyZ8S2Mr8e10sKKJ/bhJgpAa/qG068RDkg6fIlNFA==\"\n  crossorigin=\"anonymous\"></script>\n  <script src=\"https://unpkg.com/p5-webserial@0.1.1/build/p5.webserial.js\"></script>\n <script src=\"sketch.js\"></script>\n  <meta charset=\"UTF-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>p5.webserial</title>\n</head>\n</html>",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6721518caa4cdcb1f6e814fd",
        "createdAt": "2022-10-26T14:53:01.256Z",
        "updatedAt": "2022-10-26T14:53:01.256Z",
        "id": "6721518caa4cdcb1f6e814fd"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "6721518caa4cdcb1f6e814ff",
        "createdAt": "2022-10-26T14:53:01.256Z",
        "updatedAt": "2022-10-26T14:53:01.256Z",
        "id": "6721518caa4cdcb1f6e814ff"
      }
    ],
    "createdAt": "2024-10-29T21:20:12.431Z",
    "updatedAt": "2024-10-29T21:20:12.431Z",
    "id": "VGmKfiMHR"
  },
  {
    "_id": "UHMQ6z-U3",
    "name": "webSerial one binary value P5 to Arduino copy",
    "files": [
      {
        "name": "root",
        "content": "",
        "children": [
          "67214abd9b255fbd3013a3e3",
          "67214abd9b255fbd3013a3e4",
          "67214abd9b255fbd3013a3e5"
        ],
        "fileType": "folder",
        "isSelectedFile": false,
        "_id": "67214abd9b255fbd3013a3e2",
        "createdAt": "2024-10-29T20:57:30.252Z",
        "updatedAt": "2024-10-29T20:57:30.252Z",
        "id": "67214abd9b255fbd3013a3e2"
      },
      {
        "name": "sketch.js",
        "content": "// send one binary value from P5 to Arduino with webSerial\n// based on Tom Igoe's lab examples\n\nconst serial = new p5.WebSerial();\nlet portButton;\n\nfunction setup() {\n  createCanvas(400, 300);\n  allSerialStuff();\n}\n\nfunction draw() {\n  background(255,0,0);\n  serial.write(mouseX);   // sends as byte unless it's a string\n}\n\n/*  \n// Arduino Code \nvoid setup() {\n  Serial.begin(9600);\n}\nvoid loop() {\n  if(Serial.available()){\n  byte byteFromSerial = Serial.read();\n  analogWrite(3,byteFromSerial);\n  }\n}\n*/\n\nfunction allSerialStuff() {\n  if (!navigator.serial) {\n    alert(\"WebSerial is not supported in this browser. Try Chrome or MS Edge.\");\n  }\n  // check for any ports that are available:\n  serial.getPorts();\n  // if there's no port chosen, choose one:\n  serial.on(\"noport\", makePortButton);\n  // open whatever port is available:\n  serial.on(\"portavailable\", openPort);\n  // handle serial errors:\n  serial.on(\"requesterror\", portError);\n  // handle any incoming serial data:\n  serial.on(\"data\", serialEvent);\n  serial.on(\"close\", makePortButton);\n  // add serial connect/disconnect listeners:\n  navigator.serial.addEventListener(\"connect\", portConnect);\n  navigator.serial.addEventListener(\"disconnect\", portDisconnect);\n}\n// if there's no port selected,\n// make a port select button appear:\nfunction makePortButton() {\n  // create and position a port chooser button:\n  portButton = createButton(\"choose port\");\n  portButton.position(10, 10);\n  // give the port button a mousepressed handler:\n  portButton.mousePressed(choosePort);\n}\n\n// make the port selector window appear:\nfunction choosePort() {\n  if (portButton) portButton.show();\n  serial.requestPort();\n}\n\n\nfunction serialEvent() {\n}\n\n\n// open the selected port, and make the port\n// button invisible:\n// open the selected port, and make the port\n// button invisible:\nfunction openPort() {\n  // wait for the serial.open promise to return,\n  // then call the initiateSerial function\n  serial.open().then(initiateSerial);\n\n  // once the port opens, let the user know:\n  function initiateSerial() {\n    console.log(\"port open\");\n  }\n  // hide the port button once a port is chosen:\n  if (portButton) portButton.hide();\n}\n\n// pop up an alert if there's a port error:\nfunction portError(err) {\n  alert(\"Serial port error: \" + err);\n}\n// read any incoming data as a string\n// (assumes a newline at the end of it):\n\n// try to connect if a new serial port\n// gets added (i.e. plugged in via USB):\nfunction portConnect() {\n  console.log(\"port connected\");\n  serial.getPorts();\n}\n\n// if a port is disconnected:\nfunction portDisconnect() {\n  serial.close();\n  console.log(\"port disconnected\");\n}\n\nfunction closePort() {\n  serial.close();\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": true,
        "_id": "67214abd9b255fbd3013a3e4",
        "createdAt": "2024-10-29T20:57:30.252Z",
        "updatedAt": "2024-10-29T20:57:30.252Z",
        "id": "67214abd9b255fbd3013a3e4"
      },
      {
        "name": "index.html",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js\"\n  integrity=\"sha512-WIklPM6qPCIp6d3fSSr90j+1unQHUOoWDS4sdTiR8gxUTnyZ8S2Mr8e10sKKJ/bhJgpAa/qG068RDkg6fIlNFA==\"\n  crossorigin=\"anonymous\"></script>\n  <script src=\"https://unpkg.com/p5-webserial@0.1.1/build/p5.webserial.js\"></script>\n <script src=\"sketch.js\"></script>\n  <meta charset=\"UTF-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>p5.webserial</title>\n</head>\n</html>",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67214abd9b255fbd3013a3e3",
        "createdAt": "2024-10-29T20:57:30.252Z",
        "updatedAt": "2024-10-29T20:57:30.252Z",
        "id": "67214abd9b255fbd3013a3e3"
      },
      {
        "name": "style.css",
        "content": "html, body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  display: block;\n}\n",
        "children": [],
        "fileType": "file",
        "isSelectedFile": false,
        "_id": "67214abd9b255fbd3013a3e5",
        "createdAt": "2024-10-29T20:57:30.252Z",
        "updatedAt": "2024-10-29T20:57:30.252Z",
        "id": "67214abd9b255fbd3013a3e5"
      }
    ],
    "createdAt": "2024-10-29T20:51:09.739Z",
    "updatedAt": "2024-10-29T20:57:30.252Z",
    "id": "UHMQ6z-U3"
  }
]
